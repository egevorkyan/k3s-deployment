2021-10-15 12:01:13,454 p=3162 u=eduardgevorkyan n=ansible | PLAY [all] *********************************************************************
2021-10-15 12:01:13,504 p=3162 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *********************************************************
2021-10-15 12:01:18,926 p=3162 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-15 12:01:18,975 p=3162 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-15 12:01:18,997 p=3162 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-15 12:01:19,024 p=3162 u=eduardgevorkyan n=ansible | TASK [install packages] ********************************************************
2021-10-15 12:05:25,861 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=ansible)
2021-10-15 12:05:52,052 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=ansible)
2021-10-15 12:05:53,904 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=ansible)
2021-10-15 12:06:22,251 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=git)
2021-10-15 12:06:55,098 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=git)
2021-10-15 12:06:57,151 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=git)
2021-10-15 12:07:12,719 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=vim)
2021-10-15 12:07:23,555 p=3162 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=net-tools)
2021-10-15 12:07:36,468 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=telnet)
2021-10-15 12:07:38,742 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=vim)
2021-10-15 12:07:45,012 p=3162 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=net-tools)
2021-10-15 12:07:53,869 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=telnet)
2021-10-15 12:08:08,073 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=vim)
2021-10-15 12:08:13,846 p=3162 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=net-tools)
2021-10-15 12:08:22,073 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=telnet)
2021-10-15 12:08:22,115 p=3162 u=eduardgevorkyan n=ansible | TASK [copy hosts file] *********************************************************
2021-10-15 12:08:26,439 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-15 12:08:26,473 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-15 12:08:26,481 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-15 12:08:26,503 p=3162 u=eduardgevorkyan n=ansible | TASK [open firewalld] **********************************************************
2021-10-15 12:08:29,642 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=179/tcp)
2021-10-15 12:08:29,718 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=179/tcp)
2021-10-15 12:08:29,766 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=179/tcp)
2021-10-15 12:08:32,415 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=6443/tcp)
2021-10-15 12:08:32,625 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=6443/tcp)
2021-10-15 12:08:32,740 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=6443/tcp)
2021-10-15 12:08:35,800 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=8443/tcp)
2021-10-15 12:08:35,944 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=8443/tcp)
2021-10-15 12:08:36,126 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=8443/tcp)
2021-10-15 12:08:38,378 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=8091/tcp)
2021-10-15 12:08:38,507 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=8091/tcp)
2021-10-15 12:08:38,753 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=8091/tcp)
2021-10-15 12:08:41,052 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=8090/tcp)
2021-10-15 12:08:41,104 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=8090/tcp)
2021-10-15 12:08:41,304 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=8090/tcp)
2021-10-15 12:08:44,095 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=53/tcp)
2021-10-15 12:08:44,155 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=53/tcp)
2021-10-15 12:08:44,190 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=53/tcp)
2021-10-15 12:08:47,182 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=2376/tcp)
2021-10-15 12:08:47,215 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=2376/tcp)
2021-10-15 12:08:47,222 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=2376/tcp)
2021-10-15 12:08:49,956 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=2379-2380/tcp)
2021-10-15 12:08:49,959 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=2379-2380/tcp)
2021-10-15 12:08:49,964 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=2379-2380/tcp)
2021-10-15 12:08:52,757 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=6641-6642/tcp)
2021-10-15 12:08:52,840 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=6641-6642/tcp)
2021-10-15 12:08:52,862 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=6641-6642/tcp)
2021-10-15 12:08:55,738 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=9000-9999/tcp)
2021-10-15 12:08:55,794 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=9000-9999/tcp)
2021-10-15 12:08:55,871 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=9000-9999/tcp)
2021-10-15 12:08:58,417 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=10250/tcp)
2021-10-15 12:08:58,478 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=10250/tcp)
2021-10-15 12:08:58,526 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=10250/tcp)
2021-10-15 12:09:01,011 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=10254/tcp)
2021-10-15 12:09:01,208 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=10254/tcp)
2021-10-15 12:09:01,262 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=10254/tcp)
2021-10-15 12:09:03,761 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=10257/tcp)
2021-10-15 12:09:04,038 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=10257/tcp)
2021-10-15 12:09:04,042 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=10257/tcp)
2021-10-15 12:09:06,359 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=10255/tcp)
2021-10-15 12:09:06,954 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=10255/tcp)
2021-10-15 12:09:06,961 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=10255/tcp)
2021-10-15 12:09:08,890 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=10252/tcp)
2021-10-15 12:09:09,639 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=10252/tcp)
2021-10-15 12:09:09,644 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=10252/tcp)
2021-10-15 12:09:11,314 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=10259/tcp)
2021-10-15 12:09:12,801 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=10259/tcp)
2021-10-15 12:09:12,851 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=10259/tcp)
2021-10-15 12:09:13,968 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=22623/tcp)
2021-10-15 12:09:15,763 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=22623/tcp)
2021-10-15 12:09:15,768 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=22623/tcp)
2021-10-15 12:09:16,430 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=30000-32767/tcp)
2021-10-15 12:09:18,393 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=30000-32767/tcp)
2021-10-15 12:09:18,448 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=30000-32767/tcp)
2021-10-15 12:09:18,858 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=53/udp)
2021-10-15 12:09:21,064 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=53/udp)
2021-10-15 12:09:21,099 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=53/udp)
2021-10-15 12:09:21,396 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=500/udp)
2021-10-15 12:09:23,777 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=500/udp)
2021-10-15 12:09:23,848 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=500/udp)
2021-10-15 12:09:24,058 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=8472/udp)
2021-10-15 12:09:26,367 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=8472/udp)
2021-10-15 12:09:26,583 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=8472/udp)
2021-10-15 12:09:26,646 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=4500/udp)
2021-10-15 12:09:28,952 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=4500/udp)
2021-10-15 12:09:29,211 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=4789/udp)
2021-10-15 12:09:29,267 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=4500/udp)
2021-10-15 12:09:31,424 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=4789/udp)
2021-10-15 12:09:31,971 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=4789/udp)
2021-10-15 12:09:32,048 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=5353/udp)
2021-10-15 12:09:34,301 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=5353/udp)
2021-10-15 12:09:34,990 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=5353/udp)
2021-10-15 12:09:35,063 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=6081/udp)
2021-10-15 12:09:37,124 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=6081/udp)
2021-10-15 12:09:38,016 p=3162 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=8472/udp)
2021-10-15 12:09:38,019 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=6081/udp)
2021-10-15 12:09:40,070 p=3162 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=8472/udp)
2021-10-15 12:09:40,550 p=3162 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=8472/udp)
2021-10-15 12:09:40,625 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=9000-9999/udp)
2021-10-15 12:09:42,635 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=9000-9999/udp)
2021-10-15 12:09:43,121 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=9000-9999/udp)
2021-10-15 12:09:43,347 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=30000-32767/udp)
2021-10-15 12:09:45,237 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=30000-32767/udp)
2021-10-15 12:09:45,933 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=30000-32767/udp)
2021-10-15 12:09:46,041 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=1936/tcp)
2021-10-15 12:09:47,827 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=1936/tcp)
2021-10-15 12:09:48,559 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=1936/tcp)
2021-10-15 12:09:48,623 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=3306/tcp)
2021-10-15 12:09:50,352 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=3306/tcp)
2021-10-15 12:09:51,040 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=3306/tcp)
2021-10-15 12:09:51,128 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=4567/tcp)
2021-10-15 12:09:52,804 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=4567/tcp)
2021-10-15 12:09:53,508 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=4567/tcp)
2021-10-15 12:09:53,598 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=4568/tcp)
2021-10-15 12:09:55,212 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=4568/tcp)
2021-10-15 12:09:56,041 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=4568/tcp)
2021-10-15 12:09:56,046 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=4444/tcp)
2021-10-15 12:09:57,772 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=4444/tcp)
2021-10-15 12:09:58,515 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=4567/udp)
2021-10-15 12:09:58,596 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=4444/tcp)
2021-10-15 12:09:59,846 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=4567/udp)
2021-10-15 12:10:00,376 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=4567/udp)
2021-10-15 12:10:00,425 p=3162 u=eduardgevorkyan n=ansible | TASK [set hostname] ************************************************************
2021-10-15 12:10:00,713 p=3162 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'host': '172.22.22.5', 'hostname': 'k3s1'}) 
2021-10-15 12:10:00,805 p=3162 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'host': '172.22.22.5', 'hostname': 'k3s1'}) 
2021-10-15 12:10:00,859 p=3162 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'host': '172.22.22.6', 'hostname': 'k3s2'}) 
2021-10-15 12:10:04,304 p=3162 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'host': '172.22.22.5', 'hostname': 'k3s1'})
2021-10-15 12:10:04,347 p=3162 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'host': '172.22.22.6', 'hostname': 'k3s2'}) 
2021-10-15 12:10:04,382 p=3162 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'host': '172.22.22.7', 'hostname': 'k3s3'}) 
2021-10-15 12:10:04,470 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item={'host': '172.22.22.7', 'hostname': 'k3s3'})
2021-10-15 12:10:04,479 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item={'host': '172.22.22.6', 'hostname': 'k3s2'})
2021-10-15 12:10:04,498 p=3162 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'host': '172.22.22.7', 'hostname': 'k3s3'}) 
2021-10-15 12:10:04,513 p=3162 u=eduardgevorkyan n=ansible | TASK [open services web] *******************************************************
2021-10-15 12:10:07,223 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=https)
2021-10-15 12:10:07,452 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=https)
2021-10-15 12:10:07,454 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=https)
2021-10-15 12:10:09,849 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=http)
2021-10-15 12:10:10,065 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=http)
2021-10-15 12:10:10,067 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=http)
2021-10-15 12:10:10,085 p=3162 u=eduardgevorkyan n=ansible | TASK [open protocols] **********************************************************
2021-10-15 12:10:12,848 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=ah)
2021-10-15 12:10:13,177 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=ah)
2021-10-15 12:10:13,182 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=ah)
2021-10-15 12:10:15,390 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=esp)
2021-10-15 12:10:15,801 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=esp)
2021-10-15 12:10:15,807 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=esp)
2021-10-15 12:10:18,110 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=112)
2021-10-15 12:10:18,419 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=112)
2021-10-15 12:10:18,467 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=112)
2021-10-15 12:10:18,486 p=3162 u=eduardgevorkyan n=ansible | TASK [create interface] ********************************************************
2021-10-15 12:10:18,717 p=3162 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'host': '172.22.22.5', 'ipv4': '172.20.254.1/24'}) 
2021-10-15 12:10:18,781 p=3162 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'host': '172.22.22.5', 'ipv4': '172.20.254.1/24'}) 
2021-10-15 12:10:18,814 p=3162 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'host': '172.22.22.6', 'ipv4': '172.20.254.2/24'}) 
2021-10-15 12:10:21,834 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item={'host': '172.22.22.6', 'ipv4': '172.20.254.2/24'})
2021-10-15 12:10:21,893 p=3162 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'host': '172.22.22.7', 'ipv4': '172.20.254.3/24'}) 
2021-10-15 12:10:21,923 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item={'host': '172.22.22.5', 'ipv4': '172.20.254.1/24'})
2021-10-15 12:10:21,946 p=3162 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item={'host': '172.22.22.7', 'ipv4': '172.20.254.3/24'})
2021-10-15 12:10:21,961 p=3162 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'host': '172.22.22.6', 'ipv4': '172.20.254.2/24'}) 
2021-10-15 12:10:21,978 p=3162 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'host': '172.22.22.7', 'ipv4': '172.20.254.3/24'}) 
2021-10-15 12:10:21,986 p=3162 u=eduardgevorkyan n=ansible | PLAY RECAP *********************************************************************
2021-10-15 12:10:21,986 p=3162 u=eduardgevorkyan n=ansible | k3s1                       : ok=8    changed=6    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-10-15 12:10:21,986 p=3162 u=eduardgevorkyan n=ansible | k3s2                       : ok=8    changed=7    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-10-15 12:10:21,987 p=3162 u=eduardgevorkyan n=ansible | k3s3                       : ok=8    changed=7    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-10-15 12:11:10,179 p=4625 u=eduardgevorkyan n=ansible | - downloading role 'ansible_mariadb_galera_cluster', owned by eradical
2021-10-15 12:11:11,722 p=4625 u=eduardgevorkyan n=ansible | - downloading role from https://github.com/eRadical/ansible-mariadb-galera-cluster/archive/master.tar.gz
2021-10-15 12:11:13,271 p=4625 u=eduardgevorkyan n=ansible | - extracting eradical.ansible_mariadb_galera_cluster to /home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster
2021-10-15 12:11:13,293 p=4625 u=eduardgevorkyan n=ansible | - eradical.ansible_mariadb_galera_cluster (master) was installed successfully
2021-10-15 12:33:54,305 p=5807 u=eduardgevorkyan n=ansible | PLAY [MariaDB cluster deployment] ********************************************************************************************************
2021-10-15 12:33:54,337 p=5807 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-15 12:33:58,033 p=5807 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-15 12:33:58,054 p=5807 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-15 12:33:58,070 p=5807 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-15 12:33:58,089 p=5807 u=eduardgevorkyan n=ansible | TASK [Deployment] ************************************************************************************************************************
2021-10-15 12:33:58,703 p=5807 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : gather os specific variables] ************************************************************
2021-10-15 12:33:58,962 p=5807 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-15 12:33:59,054 p=5807 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-15 12:33:59,102 p=5807 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-15 12:33:59,125 p=5807 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : ensure NIC specified in 'galera_cluster_bind_interface' exists] **************************
2021-10-15 12:33:59,299 p=5807 u=eduardgevorkyan n=ansible | fatal: [k3s1]: FAILED! => {
    "assertion": "galera_cluster_bind_interface in ansible_interfaces",
    "changed": false,
    "evaluated_to": false,
    "msg": "The NIC name \"ens32.1@ens32\" specified in \"galera_cluster_bind_interface\" does not exist on the target host. Available interfaces are: \"ens32,ens32.1,lo\"."
}
2021-10-15 12:33:59,365 p=5807 u=eduardgevorkyan n=ansible | fatal: [k3s2]: FAILED! => {
    "assertion": "galera_cluster_bind_interface in ansible_interfaces",
    "changed": false,
    "evaluated_to": false,
    "msg": "The NIC name \"ens32.1@ens32\" specified in \"galera_cluster_bind_interface\" does not exist on the target host. Available interfaces are: \"ens32,ens32.1,lo\"."
}
2021-10-15 12:33:59,413 p=5807 u=eduardgevorkyan n=ansible | fatal: [k3s3]: FAILED! => {
    "assertion": "galera_cluster_bind_interface in ansible_interfaces",
    "changed": false,
    "evaluated_to": false,
    "msg": "The NIC name \"ens32.1@ens32\" specified in \"galera_cluster_bind_interface\" does not exist on the target host. Available interfaces are: \"ens32.1,ens32,lo\"."
}
2021-10-15 12:33:59,418 p=5807 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-15 12:33:59,419 p=5807 u=eduardgevorkyan n=ansible | k3s1                       : ok=2    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-10-15 12:33:59,419 p=5807 u=eduardgevorkyan n=ansible | k3s2                       : ok=2    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-10-15 12:33:59,419 p=5807 u=eduardgevorkyan n=ansible | k3s3                       : ok=2    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-10-15 12:35:13,165 p=5939 u=eduardgevorkyan n=ansible | PLAY [MariaDB cluster deployment] ********************************************************************************************************
2021-10-15 12:35:13,215 p=5939 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-15 12:35:16,392 p=5939 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-15 12:35:16,465 p=5939 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-15 12:35:16,472 p=5939 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-15 12:35:16,492 p=5939 u=eduardgevorkyan n=ansible | TASK [Deployment] ************************************************************************************************************************
2021-10-15 12:35:16,923 p=5939 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : gather os specific variables] ************************************************************
2021-10-15 12:35:17,165 p=5939 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-15 12:35:17,223 p=5939 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-15 12:35:17,279 p=5939 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-15 12:35:17,310 p=5939 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : ensure NIC specified in 'galera_cluster_bind_interface' exists] **************************
2021-10-15 12:35:17,515 p=5939 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-15 12:35:17,562 p=5939 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-15 12:35:17,602 p=5939 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-15 12:35:17,626 p=5939 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | update package list] ************************************************************
2021-10-15 12:35:17,786 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 12:35:17,852 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 12:35:17,883 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 12:35:17,901 p=5939 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | installing pre-reqs] ************************************************************
2021-10-15 12:35:18,057 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 12:35:18,116 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 12:35:18,169 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 12:35:18,217 p=5939 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding MariaDB Repo Keys] *******************************************************
2021-10-15 12:35:18,427 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 12:35:18,502 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 12:35:18,523 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 12:35:18,550 p=5939 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding MariaDB Repo Keys] *******************************************************
2021-10-15 12:35:18,715 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 12:35:18,776 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 12:35:18,821 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 12:35:18,845 p=5939 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | pinning MariaDB Repo] ***********************************************************
2021-10-15 12:35:18,999 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 12:35:19,076 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 12:35:19,108 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 12:35:19,125 p=5939 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding mariadb repo] ************************************************************
2021-10-15 12:35:19,279 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 12:35:19,344 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 12:35:19,391 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 12:35:19,414 p=5939 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | precreate /etc/mysql/conf.d in case we need to add mariadb_config_overrides file] ***
2021-10-15 12:35:19,626 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 12:35:19,696 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 12:35:19,733 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 12:35:19,751 p=5939 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | add an overrides file] **********************************************************
2021-10-15 12:35:19,892 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 12:35:19,966 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 12:35:20,009 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 12:35:20,022 p=5939 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | configuring root my.cnf] ********************************************************
2021-10-15 12:35:20,187 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 12:35:20,255 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 12:35:20,289 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 12:35:20,307 p=5939 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | mysql root password setting] ****************************************************
2021-10-15 12:35:20,519 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=None) 
2021-10-15 12:35:20,557 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=None) 
2021-10-15 12:35:20,558 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 12:35:20,615 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=None) 
2021-10-15 12:35:20,622 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=None) 
2021-10-15 12:35:20,623 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 12:35:20,672 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=None) 
2021-10-15 12:35:20,680 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=None) 
2021-10-15 12:35:20,691 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 12:35:20,733 p=5939 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | installing mariadb-galera packages] *********************************************
2021-10-15 12:35:20,909 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 12:35:20,976 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 12:35:21,027 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 12:35:21,052 p=5939 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | adding mariadb repo] ************************************************************
2021-10-15 12:35:23,560 p=5939 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-15 12:35:23,606 p=5939 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-15 12:35:23,623 p=5939 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-15 12:35:23,658 p=5939 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | disable appstream mysql/mariadb modules] ****************************************
2021-10-15 12:35:39,426 p=5939 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-15 12:35:40,100 p=5939 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-15 12:35:40,194 p=5939 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-15 12:35:40,211 p=5939 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | clean dnf metadata (centos8 & fedora)] ******************************************
2021-10-15 12:35:42,976 p=5939 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-15 12:35:43,038 p=5939 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-15 12:35:43,142 p=5939 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-15 12:35:43,172 p=5939 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | installing pre-reqs] ************************************************************
2021-10-15 12:38:16,834 p=5939 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-15 12:38:18,762 p=5939 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-15 12:44:20,719 p=5939 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-15 12:44:20,802 p=5939 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | precreate /etc/my.cnf.d in case we need to add mariadb_config_overrides file] ***
2021-10-15 12:44:21,055 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 12:44:21,170 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 12:44:21,212 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 12:44:21,251 p=5939 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | add an overrides file] **********************************************************
2021-10-15 12:44:21,474 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 12:44:21,559 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 12:44:21,614 p=5939 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 12:44:21,640 p=5939 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | installing mariadb mysql] *******************************************************
2021-10-15 12:53:17,504 p=5939 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-15 12:53:18,071 p=5939 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-15 12:53:23,843 p=5939 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-15 12:53:23,961 p=5939 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | remove migrated-from-my.cnf-settings.conf that is causing MariaDB to not start] ***
2021-10-15 12:53:27,648 p=5939 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-15 12:53:27,706 p=5939 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-15 12:53:28,521 p=5939 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-15 12:53:28,556 p=5939 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | ensuring mariadb mysql is enabled on boot] **************************************
2021-10-15 12:53:33,457 p=5939 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-15 12:53:33,531 p=5939 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-15 12:53:33,551 p=5939 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-15 12:53:33,579 p=5939 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | start only the first node to add users] *****************************************
2021-10-15 12:53:33,765 p=5939 u=eduardgevorkyan n=ansible | fatal: [k3s1]: FAILED! => {"msg": "The conditional check 'inventory_hostname == galera_mysql_first_node' failed. The error was: error while evaluating conditional (inventory_hostname == galera_mysql_first_node): {{ groups[galera_cluster_nodes_group][0] }}: 'dict object' has no attribute 'galera-cluster-nodes'\n\nThe error appears to be in '/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/tasks/redhat.yml': line 77, column 3, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n- name: redhat | start only the first node to add users\n  ^ here\n"}
2021-10-15 12:53:33,835 p=5939 u=eduardgevorkyan n=ansible | fatal: [k3s2]: FAILED! => {"msg": "The conditional check 'inventory_hostname == galera_mysql_first_node' failed. The error was: error while evaluating conditional (inventory_hostname == galera_mysql_first_node): {{ groups[galera_cluster_nodes_group][0] }}: 'dict object' has no attribute 'galera-cluster-nodes'\n\nThe error appears to be in '/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/tasks/redhat.yml': line 77, column 3, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n- name: redhat | start only the first node to add users\n  ^ here\n"}
2021-10-15 12:53:33,882 p=5939 u=eduardgevorkyan n=ansible | fatal: [k3s3]: FAILED! => {"msg": "The conditional check 'inventory_hostname == galera_mysql_first_node' failed. The error was: error while evaluating conditional (inventory_hostname == galera_mysql_first_node): {{ groups[galera_cluster_nodes_group][0] }}: 'dict object' has no attribute 'galera-cluster-nodes'\n\nThe error appears to be in '/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/tasks/redhat.yml': line 77, column 3, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n- name: redhat | start only the first node to add users\n  ^ here\n"}
2021-10-15 12:53:33,883 p=5939 u=eduardgevorkyan n=ansible | RUNNING HANDLER [eradical.ansible_mariadb_galera_cluster : reload systemd daemon] ********************************************************
2021-10-15 12:53:33,889 p=5939 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-15 12:53:33,890 p=5939 u=eduardgevorkyan n=ansible | k3s1                       : ok=10   changed=5    unreachable=0    failed=1    skipped=13   rescued=0    ignored=0   
2021-10-15 12:53:33,890 p=5939 u=eduardgevorkyan n=ansible | k3s2                       : ok=10   changed=5    unreachable=0    failed=1    skipped=13   rescued=0    ignored=0   
2021-10-15 12:53:33,890 p=5939 u=eduardgevorkyan n=ansible | k3s3                       : ok=10   changed=5    unreachable=0    failed=1    skipped=13   rescued=0    ignored=0   
2021-10-15 12:58:42,288 p=7232 u=eduardgevorkyan n=ansible | PLAY [MariaDB cluster deployment] ********************************************************************************************************
2021-10-15 12:58:42,348 p=7232 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-15 12:58:45,882 p=7232 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-15 12:58:45,940 p=7232 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-15 12:58:46,026 p=7232 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-15 12:58:46,070 p=7232 u=eduardgevorkyan n=ansible | TASK [Deployment] ************************************************************************************************************************
2021-10-15 12:58:46,651 p=7232 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : gather os specific variables] ************************************************************
2021-10-15 12:58:46,870 p=7232 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-15 12:58:46,941 p=7232 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-15 12:58:46,981 p=7232 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-15 12:58:47,009 p=7232 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : ensure NIC specified in 'galera_cluster_bind_interface' exists] **************************
2021-10-15 12:58:47,195 p=7232 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-15 12:58:47,260 p=7232 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-15 12:58:47,305 p=7232 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-15 12:58:47,324 p=7232 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | update package list] ************************************************************
2021-10-15 12:58:47,513 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 12:58:47,580 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 12:58:47,623 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 12:58:47,646 p=7232 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | installing pre-reqs] ************************************************************
2021-10-15 12:58:47,815 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 12:58:47,878 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 12:58:47,928 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 12:58:47,951 p=7232 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding MariaDB Repo Keys] *******************************************************
2021-10-15 12:58:48,123 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 12:58:48,184 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 12:58:48,220 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 12:58:48,237 p=7232 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding MariaDB Repo Keys] *******************************************************
2021-10-15 12:58:48,401 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 12:58:48,465 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 12:58:48,500 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 12:58:48,521 p=7232 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | pinning MariaDB Repo] ***********************************************************
2021-10-15 12:58:48,673 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 12:58:48,765 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 12:58:48,821 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 12:58:48,845 p=7232 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding mariadb repo] ************************************************************
2021-10-15 12:58:49,012 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 12:58:49,072 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 12:58:49,119 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 12:58:49,140 p=7232 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | precreate /etc/mysql/conf.d in case we need to add mariadb_config_overrides file] ***
2021-10-15 12:58:49,304 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 12:58:49,371 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 12:58:49,408 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 12:58:49,425 p=7232 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | add an overrides file] **********************************************************
2021-10-15 12:58:49,573 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 12:58:49,654 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 12:58:49,697 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 12:58:49,728 p=7232 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | configuring root my.cnf] ********************************************************
2021-10-15 12:58:49,875 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 12:58:49,979 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 12:58:50,028 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 12:58:50,045 p=7232 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | mysql root password setting] ****************************************************
2021-10-15 12:58:50,249 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=None) 
2021-10-15 12:58:50,276 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=None) 
2021-10-15 12:58:50,278 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 12:58:50,344 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=None) 
2021-10-15 12:58:50,361 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=None) 
2021-10-15 12:58:50,362 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 12:58:50,409 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=None) 
2021-10-15 12:58:50,413 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=None) 
2021-10-15 12:58:50,414 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 12:58:50,445 p=7232 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | installing mariadb-galera packages] *********************************************
2021-10-15 12:58:50,632 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 12:58:50,703 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 12:58:50,753 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 12:58:50,772 p=7232 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | adding mariadb repo] ************************************************************
2021-10-15 12:58:53,171 p=7232 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-15 12:58:53,203 p=7232 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-15 12:58:53,207 p=7232 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-15 12:58:53,243 p=7232 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | disable appstream mysql/mariadb modules] ****************************************
2021-10-15 12:59:05,014 p=7232 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-15 12:59:05,098 p=7232 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-15 12:59:05,366 p=7232 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-15 12:59:05,383 p=7232 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | clean dnf metadata (centos8 & fedora)] ******************************************
2021-10-15 12:59:05,582 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 12:59:05,644 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 12:59:05,678 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 12:59:05,697 p=7232 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | installing pre-reqs] ************************************************************
2021-10-15 12:59:24,057 p=7232 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-15 12:59:24,519 p=7232 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-15 12:59:24,539 p=7232 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-15 12:59:24,558 p=7232 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | precreate /etc/my.cnf.d in case we need to add mariadb_config_overrides file] ***
2021-10-15 12:59:24,747 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 12:59:24,806 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 12:59:24,856 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 12:59:24,877 p=7232 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | add an overrides file] **********************************************************
2021-10-15 12:59:25,064 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 12:59:25,125 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 12:59:25,158 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 12:59:25,177 p=7232 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | installing mariadb mysql] *******************************************************
2021-10-15 12:59:42,017 p=7232 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-15 12:59:42,828 p=7232 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-15 12:59:43,114 p=7232 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-15 12:59:43,132 p=7232 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | remove migrated-from-my.cnf-settings.conf that is causing MariaDB to not start] ***
2021-10-15 12:59:45,368 p=7232 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-15 12:59:45,373 p=7232 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-15 12:59:45,406 p=7232 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-15 12:59:45,421 p=7232 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | ensuring mariadb mysql is enabled on boot] **************************************
2021-10-15 12:59:48,384 p=7232 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-15 12:59:48,400 p=7232 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-15 12:59:48,407 p=7232 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-15 12:59:48,430 p=7232 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | start only the first node to add users] *****************************************
2021-10-15 12:59:49,083 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 12:59:49,213 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 12:59:51,182 p=7232 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-15 12:59:51,206 p=7232 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : max-open-files | Create folder] **********************************************************
2021-10-15 12:59:51,386 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 12:59:51,461 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 12:59:51,511 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 12:59:51,530 p=7232 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : max-open-files | Add the overriding file] ************************************************
2021-10-15 12:59:51,713 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 12:59:51,792 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 12:59:51,845 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 12:59:51,865 p=7232 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : oom_score_adjust | create folder] ********************************************************
2021-10-15 12:59:52,039 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 12:59:52,107 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 12:59:52,168 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 12:59:52,208 p=7232 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : oom_score_adjust | add the overriding file] **********************************************
2021-10-15 12:59:52,400 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 12:59:52,468 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 12:59:52,532 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 12:59:52,553 p=7232 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : timeout-start-sec | Create folder] *******************************************************
2021-10-15 12:59:52,732 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 12:59:52,812 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 12:59:52,861 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 12:59:52,882 p=7232 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : timeout-start-sec | Add the overriding file] *********************************************
2021-10-15 12:59:53,040 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 12:59:53,120 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 12:59:53,163 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 12:59:53,177 p=7232 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : system_perfromance_tuning | configure swappiness] ****************************************
2021-10-15 12:59:53,342 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 12:59:53,420 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 12:59:53,487 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 12:59:53,562 p=7232 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_users | create MySQL users] ********************************************************
2021-10-15 12:59:53,615 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 12:59:53,633 p=7232 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | mark galera cluster node unconfigured] ***********************************
2021-10-15 12:59:53,691 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 12:59:53,746 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 12:59:53,755 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 12:59:53,783 p=7232 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | checking if galera cluster already configured] ***************************
2021-10-15 12:59:55,716 p=7232 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-15 12:59:55,798 p=7232 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-15 12:59:55,802 p=7232 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-15 12:59:55,832 p=7232 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | create TLS certificates directory] ***************************************
2021-10-15 12:59:55,962 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 12:59:55,965 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 12:59:56,013 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 12:59:56,037 p=7232 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | copy TLS CA cert, server cert & private key] *****************************
2021-10-15 12:59:56,096 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 12:59:56,157 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 12:59:56,197 p=7232 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 12:59:56,211 p=7232 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | configuring settings for mariadb and galera] *****************************
2021-10-15 12:59:57,134 p=7232 u=eduardgevorkyan n=ansible | failed: [k3s1] (item=etc/my.cnf.d/server.cnf) => {"ansible_loop_var": "item", "changed": false, "item": "etc/my.cnf.d/server.cnf", "msg": "AnsibleFilterError: The ipwrap filter requires python's netaddr be installed on the ansible controller"}
2021-10-15 12:59:57,233 p=7232 u=eduardgevorkyan n=ansible | failed: [k3s3] (item=etc/my.cnf.d/server.cnf) => {"ansible_loop_var": "item", "changed": false, "item": "etc/my.cnf.d/server.cnf", "msg": "AnsibleFilterError: The ipwrap filter requires python's netaddr be installed on the ansible controller"}
2021-10-15 12:59:57,353 p=7232 u=eduardgevorkyan n=ansible | failed: [k3s2] (item=etc/my.cnf.d/server.cnf) => {"ansible_loop_var": "item", "changed": false, "item": "etc/my.cnf.d/server.cnf", "msg": "AnsibleFilterError: The ipwrap filter requires python's netaddr be installed on the ansible controller"}
2021-10-15 12:59:57,361 p=7232 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-15 12:59:57,361 p=7232 u=eduardgevorkyan n=ansible | k3s1                       : ok=11   changed=1    unreachable=0    failed=1    skipped=25   rescued=0    ignored=0   
2021-10-15 12:59:57,362 p=7232 u=eduardgevorkyan n=ansible | k3s2                       : ok=10   changed=0    unreachable=0    failed=1    skipped=25   rescued=0    ignored=0   
2021-10-15 12:59:57,362 p=7232 u=eduardgevorkyan n=ansible | k3s3                       : ok=10   changed=0    unreachable=0    failed=1    skipped=25   rescued=0    ignored=0   
2021-10-15 13:02:32,595 p=7822 u=eduardgevorkyan n=ansible | PLAY [MariaDB cluster deployment] ********************************************************************************************************
2021-10-15 13:02:32,649 p=7822 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-15 13:02:36,252 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-15 13:02:36,274 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-15 13:02:36,287 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-15 13:02:36,316 p=7822 u=eduardgevorkyan n=ansible | TASK [Deployment] ************************************************************************************************************************
2021-10-15 13:02:37,133 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : gather os specific variables] ************************************************************
2021-10-15 13:02:37,492 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-15 13:02:37,531 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-15 13:02:37,572 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-15 13:02:37,599 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : ensure NIC specified in 'galera_cluster_bind_interface' exists] **************************
2021-10-15 13:02:37,852 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-15 13:02:37,927 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-15 13:02:38,007 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-15 13:02:38,028 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | update package list] ************************************************************
2021-10-15 13:02:38,275 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 13:02:38,351 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 13:02:38,397 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 13:02:38,420 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | installing pre-reqs] ************************************************************
2021-10-15 13:02:38,650 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 13:02:38,719 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 13:02:38,767 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 13:02:38,785 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding MariaDB Repo Keys] *******************************************************
2021-10-15 13:02:39,033 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 13:02:39,102 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 13:02:39,146 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 13:02:39,157 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding MariaDB Repo Keys] *******************************************************
2021-10-15 13:02:39,401 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 13:02:39,476 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 13:02:39,513 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 13:02:39,546 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | pinning MariaDB Repo] ***********************************************************
2021-10-15 13:02:39,782 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 13:02:39,858 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 13:02:39,905 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 13:02:39,923 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding mariadb repo] ************************************************************
2021-10-15 13:02:40,179 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 13:02:40,248 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 13:02:40,284 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 13:02:40,314 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | precreate /etc/mysql/conf.d in case we need to add mariadb_config_overrides file] ***
2021-10-15 13:02:40,570 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 13:02:40,644 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 13:02:40,694 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 13:02:40,719 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | add an overrides file] **********************************************************
2021-10-15 13:02:40,962 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 13:02:41,036 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 13:02:41,085 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 13:02:41,104 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | configuring root my.cnf] ********************************************************
2021-10-15 13:02:41,621 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 13:02:41,623 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 13:02:41,652 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 13:02:41,670 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | mysql root password setting] ****************************************************
2021-10-15 13:02:41,994 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=None) 
2021-10-15 13:02:42,019 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=None) 
2021-10-15 13:02:42,020 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 13:02:42,097 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=None) 
2021-10-15 13:02:42,112 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=None) 
2021-10-15 13:02:42,115 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 13:02:42,176 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=None) 
2021-10-15 13:02:42,180 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=None) 
2021-10-15 13:02:42,181 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 13:02:42,198 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | installing mariadb-galera packages] *********************************************
2021-10-15 13:02:42,462 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 13:02:42,542 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 13:02:42,596 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 13:02:42,622 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | adding mariadb repo] ************************************************************
2021-10-15 13:02:44,951 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-15 13:02:44,963 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-15 13:02:44,980 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-15 13:02:45,027 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | disable appstream mysql/mariadb modules] ****************************************
2021-10-15 13:02:55,016 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-15 13:02:55,179 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-15 13:02:55,330 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-15 13:02:55,347 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | clean dnf metadata (centos8 & fedora)] ******************************************
2021-10-15 13:02:55,628 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 13:02:55,704 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 13:02:55,747 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 13:02:55,776 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | installing pre-reqs] ************************************************************
2021-10-15 13:03:11,752 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-15 13:03:13,093 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-15 13:03:13,202 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-15 13:03:13,218 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | precreate /etc/my.cnf.d in case we need to add mariadb_config_overrides file] ***
2021-10-15 13:03:13,521 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 13:03:13,597 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 13:03:13,628 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 13:03:13,648 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | add an overrides file] **********************************************************
2021-10-15 13:03:13,919 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 13:03:14,002 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 13:03:14,039 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 13:03:14,056 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | installing mariadb mysql] *******************************************************
2021-10-15 13:03:50,979 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-15 13:03:58,783 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-15 13:04:55,921 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-15 13:04:55,964 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | remove migrated-from-my.cnf-settings.conf that is causing MariaDB to not start] ***
2021-10-15 13:04:58,551 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-15 13:04:58,558 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-15 13:04:58,560 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-15 13:04:58,599 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | ensuring mariadb mysql is enabled on boot] **************************************
2021-10-15 13:05:01,905 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-15 13:05:01,926 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-15 13:05:01,944 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-15 13:05:02,002 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | start only the first node to add users] *****************************************
2021-10-15 13:05:03,240 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 13:05:03,323 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 13:05:04,613 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-15 13:05:04,638 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : max-open-files | Create folder] **********************************************************
2021-10-15 13:05:05,137 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 13:05:05,200 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 13:05:05,222 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 13:05:05,250 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : max-open-files | Add the overriding file] ************************************************
2021-10-15 13:05:05,507 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 13:05:05,592 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 13:05:05,645 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 13:05:05,666 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : oom_score_adjust | create folder] ********************************************************
2021-10-15 13:05:05,948 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 13:05:06,013 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 13:05:06,065 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 13:05:06,089 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : oom_score_adjust | add the overriding file] **********************************************
2021-10-15 13:05:06,380 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 13:05:06,445 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 13:05:06,496 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 13:05:06,520 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : timeout-start-sec | Create folder] *******************************************************
2021-10-15 13:05:06,766 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 13:05:06,850 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 13:05:06,895 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 13:05:06,916 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : timeout-start-sec | Add the overriding file] *********************************************
2021-10-15 13:05:07,197 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 13:05:07,258 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 13:05:07,333 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 13:05:07,351 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : system_perfromance_tuning | configure swappiness] ****************************************
2021-10-15 13:05:07,685 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 13:05:07,755 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 13:05:07,792 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 13:05:07,881 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_users | create MySQL users] ********************************************************
2021-10-15 13:05:07,935 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 13:05:07,960 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | mark galera cluster node unconfigured] ***********************************
2021-10-15 13:05:08,021 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 13:05:08,071 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 13:05:08,094 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 13:05:08,124 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | checking if galera cluster already configured] ***************************
2021-10-15 13:05:10,036 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-15 13:05:10,180 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-15 13:05:10,209 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-15 13:05:10,229 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | create TLS certificates directory] ***************************************
2021-10-15 13:05:10,343 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 13:05:10,345 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 13:05:10,365 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 13:05:10,395 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | copy TLS CA cert, server cert & private key] *****************************
2021-10-15 13:05:10,483 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 13:05:10,547 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 13:05:10,591 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 13:05:10,612 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | configuring settings for mariadb and galera] *****************************
2021-10-15 13:05:15,059 p=7822 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=etc/my.cnf.d/server.cnf)
2021-10-15 13:05:15,083 p=7822 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=etc/my.cnf.d/server.cnf)
2021-10-15 13:05:15,116 p=7822 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=etc/my.cnf.d/server.cnf)
2021-10-15 13:05:15,153 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | restarting node to apply config changes (first node)] ********************
2021-10-15 13:05:15,306 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 13:05:15,308 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 13:05:15,331 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 13:05:15,374 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | ensure first node is fully started before restarting other nodes] ********
2021-10-15 13:05:15,428 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 13:05:15,444 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | restarting node to apply config changes (other nodes)] *******************
2021-10-15 13:05:15,516 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 13:05:15,584 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 13:05:15,624 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 13:05:15,645 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | stopping mysql to (re)configure cluster (other nodes)] *******************
2021-10-15 13:05:15,723 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 13:05:17,357 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-15 13:05:18,842 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-15 13:05:18,877 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | stopping mysql to (re)configure cluster (first node)] ********************
2021-10-15 13:05:19,010 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 13:05:19,079 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 13:05:27,154 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-15 13:05:27,188 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for nodes to fully shut down] ***************
2021-10-15 13:05:44,725 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost]
2021-10-15 13:05:44,730 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s2 -> localhost]
2021-10-15 13:05:44,733 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s3 -> localhost]
2021-10-15 13:05:44,774 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | killing lingering mysql processes to ensure mysql is stopped] ************
2021-10-15 13:05:46,598 p=7822 u=eduardgevorkyan n=ansible | fatal: [k3s1]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:00.049898", "end": "2021-10-15 13:05:46.363796", "msg": "non-zero return code", "rc": 1, "start": "2021-10-15 13:05:46.313898", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2021-10-15 13:05:46,599 p=7822 u=eduardgevorkyan n=ansible | ...ignoring
2021-10-15 13:05:46,603 p=7822 u=eduardgevorkyan n=ansible | fatal: [k3s2]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:00.043625", "end": "2021-10-15 13:05:46.363740", "msg": "non-zero return code", "rc": 1, "start": "2021-10-15 13:05:46.320115", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2021-10-15 13:05:46,603 p=7822 u=eduardgevorkyan n=ansible | ...ignoring
2021-10-15 13:05:46,713 p=7822 u=eduardgevorkyan n=ansible | fatal: [k3s3]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:00.046942", "end": "2021-10-15 13:05:46.512116", "msg": "non-zero return code", "rc": 1, "start": "2021-10-15 13:05:46.465174", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2021-10-15 13:05:46,713 p=7822 u=eduardgevorkyan n=ansible | ...ignoring
2021-10-15 13:05:46,728 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | configuring temp galera config for first node] ***************************
2021-10-15 13:05:46,883 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=etc/my.cnf.d/server.cnf) 
2021-10-15 13:05:46,932 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=etc/my.cnf.d/server.cnf) 
2021-10-15 13:05:49,047 p=7822 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=etc/my.cnf.d/server.cnf)
2021-10-15 13:05:49,065 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | bootstrapping galera cluster] ********************************************
2021-10-15 13:05:49,202 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 13:05:49,267 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 13:05:51,229 p=7822 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-15 13:05:51,271 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | ensure first node is fully started before joining other nodes] ***********
2021-10-15 13:05:51,325 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 13:05:51,348 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for node WSREP prepared state] **************
2021-10-15 13:06:07,818 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost]
2021-10-15 13:06:07,959 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s2 -> localhost]
2021-10-15 13:06:07,963 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s3 -> localhost]
2021-10-15 13:06:07,981 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | joining galera cluster] **************************************************
2021-10-15 13:06:08,051 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 13:06:23,075 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-15 13:06:37,528 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-15 13:06:37,568 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for node WSREP prepared state] **************
2021-10-15 13:06:53,864 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost]
2021-10-15 13:06:54,005 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s2 -> localhost]
2021-10-15 13:06:54,029 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s3 -> localhost]
2021-10-15 13:06:54,066 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | configuring final galera config for first node] **************************
2021-10-15 13:06:54,246 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=etc/my.cnf.d/server.cnf) 
2021-10-15 13:06:54,316 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=etc/my.cnf.d/server.cnf) 
2021-10-15 13:06:57,038 p=7822 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=etc/my.cnf.d/server.cnf)
2021-10-15 13:06:57,063 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | restarting first node with final galera config] **************************
2021-10-15 13:06:57,236 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 13:06:57,297 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 13:07:04,655 p=7822 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-15 13:07:04,677 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | marking node as configured for galera cluster] ***************************
2021-10-15 13:07:06,520 p=7822 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-15 13:07:06,605 p=7822 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-15 13:07:06,626 p=7822 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-15 13:07:06,664 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | ensure node is fully started (synced with cluster)] **********************
2021-10-15 13:07:09,106 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-15 13:07:09,131 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-15 13:07:09,152 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-15 13:07:09,203 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for node WSREP prepared state] **************
2021-10-15 13:07:25,891 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost]
2021-10-15 13:07:26,036 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s2 -> localhost]
2021-10-15 13:07:26,042 p=7822 u=eduardgevorkyan n=ansible | ok: [k3s3 -> localhost]
2021-10-15 13:07:26,059 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : configure_root_access | configuring root my.cnf] *****************************************
2021-10-15 13:07:29,036 p=7822 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-15 13:07:29,046 p=7822 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-15 13:07:29,156 p=7822 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-15 13:07:29,172 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : configure_root_access | updating root passwords] *****************************************
2021-10-15 13:07:30,602 p=7822 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=None)
2021-10-15 13:07:31,827 p=7822 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=None)
2021-10-15 13:07:33,196 p=7822 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=None)
2021-10-15 13:07:34,551 p=7822 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=None)
2021-10-15 13:07:34,555 p=7822 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-15 13:07:34,591 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : configure_root_access | updating root passwords (allow from anywhere)] *******************
2021-10-15 13:07:34,643 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=None) 
2021-10-15 13:07:34,644 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 13:07:34,674 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_databases | create the databases] **************************************************
2021-10-15 13:07:34,819 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_databases | copy database init scripts] ********************************************
2021-10-15 13:07:35,018 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_databases | initialise databases] **************************************************
2021-10-15 13:07:35,152 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_databases | delete init scripts from the server] ***********************************
2021-10-15 13:07:35,296 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | configuring monitor script for galera] *******************************
2021-10-15 13:07:35,366 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 13:07:35,437 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 13:07:35,454 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 13:07:35,478 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | restarting mysql on first node] **************************************
2021-10-15 13:07:35,549 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 13:07:35,600 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 13:07:35,633 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 13:07:35,682 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | waiting for mysql to start on first node] ****************************
2021-10-15 13:07:35,727 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 13:07:35,749 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | restarting mysql on additional servers] ******************************
2021-10-15 13:07:35,833 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 13:07:35,908 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 13:07:35,974 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 13:07:36,003 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | waiting for mysql to start on other nodes] ***************************
2021-10-15 13:07:36,080 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 13:07:36,128 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-15 13:07:36,140 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-15 13:07:36,162 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : cacti_monitoring | adding cacti db user for monitoring] **********************************
2021-10-15 13:07:36,205 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 13:07:36,224 p=7822 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : cacti_monitoring | adding cacti db user for monitoring] **********************************
2021-10-15 13:07:36,262 p=7822 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-15 13:07:36,268 p=7822 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-15 13:07:36,268 p=7822 u=eduardgevorkyan n=ansible | k3s1                       : ok=26   changed=9    unreachable=0    failed=0    skipped=43   rescued=0    ignored=1   
2021-10-15 13:07:36,269 p=7822 u=eduardgevorkyan n=ansible | k3s2                       : ok=21   changed=4    unreachable=0    failed=0    skipped=40   rescued=0    ignored=1   
2021-10-15 13:07:36,269 p=7822 u=eduardgevorkyan n=ansible | k3s3                       : ok=21   changed=4    unreachable=0    failed=0    skipped=40   rescued=0    ignored=1   
2021-10-18 09:24:45,048 p=21517 u=eduardgevorkyan n=ansible | k3s2 | SUCCESS => {
    "changed": false,
    "ping": "pong"
}
2021-10-18 09:24:45,093 p=21517 u=eduardgevorkyan n=ansible | k3s1 | SUCCESS => {
    "changed": false,
    "ping": "pong"
}
2021-10-18 09:24:45,192 p=21517 u=eduardgevorkyan n=ansible | k3s3 | SUCCESS => {
    "changed": false,
    "ping": "pong"
}
2021-10-18 09:24:58,279 p=21569 u=eduardgevorkyan n=ansible | k3s1 | SUCCESS => {
    "changed": false,
    "ping": "pong"
}
2021-10-18 09:25:08,344 p=21586 u=eduardgevorkyan n=ansible | k3s3 | SUCCESS => {
    "changed": false,
    "ping": "pong"
}
2021-10-18 09:25:08,351 p=21586 u=eduardgevorkyan n=ansible | k3s2 | SUCCESS => {
    "changed": false,
    "ping": "pong"
}
2021-10-18 09:26:40,964 p=21700 u=eduardgevorkyan n=ansible | - downloading role 'keepalived', owned by sparknsh
2021-10-18 09:26:42,564 p=21700 u=eduardgevorkyan n=ansible | - downloading role from https://github.com/sparknsh/ansible-role-keepalived/archive/v1.0.0.tar.gz
2021-10-18 09:26:43,435 p=21700 u=eduardgevorkyan n=ansible | - extracting sparknsh.keepalived to /home/eduardgevorkyan/demo-mysql/roles/sparknsh.keepalived
2021-10-18 09:26:43,442 p=21700 u=eduardgevorkyan n=ansible | - sparknsh.keepalived (v1.0.0) was installed successfully
2021-10-18 09:52:49,051 p=23031 u=eduardgevorkyan n=ansible | - downloading role 'keepalived', owned by artem_shestakov
2021-10-18 09:52:50,234 p=23031 u=eduardgevorkyan n=ansible | - downloading role from https://github.com/artem-shestakov/ansible_keepalived/archive/v0.1.0.tar.gz
2021-10-18 09:52:51,272 p=23031 u=eduardgevorkyan n=ansible | - extracting artem_shestakov.keepalived to /home/eduardgevorkyan/demo-mysql/roles/artem_shestakov.keepalived
2021-10-18 09:52:51,281 p=23031 u=eduardgevorkyan n=ansible | - artem_shestakov.keepalived (v0.1.0) was installed successfully
2021-10-18 10:35:23,755 p=25230 u=eduardgevorkyan n=ansible | ERROR! the role 'artem-shestakov.keepalived' was not found in /home/eduardgevorkyan/demo-mysql/roles:/home/eduardgevorkyan/demo-mysql/roles:/home/eduardgevorkyan/demo-mysql

The error appears to be in '/home/eduardgevorkyan/demo-mysql/keepalive.yml': line 7, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

  roles:
    - artem-shestakov.keepalived
      ^ here

2021-10-18 10:35:42,859 p=25239 u=eduardgevorkyan n=ansible | [WARNING]: - artem_shestakov.keepalived (v0.1.0) is already installed - use --force to change version to unspecified

2021-10-18 10:36:42,652 p=25309 u=eduardgevorkyan n=ansible | [WARNING]: - artem_shestakov.keepalived (v0.1.0) is already installed - use --force to change version to unspecified

2021-10-18 10:36:47,761 p=25314 u=eduardgevorkyan n=ansible | [WARNING]: - artem_shestakov.keepalived (v0.1.0) is already installed - use --force to change version to unspecified

2021-10-18 10:36:53,855 p=25319 u=eduardgevorkyan n=ansible | PLAY [Install keepalived] ****************************************************************************************************************
2021-10-18 10:36:53,899 p=25319 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-18 10:36:58,651 p=25319 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-18 10:36:58,675 p=25319 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-18 10:36:58,796 p=25319 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-18 10:36:58,820 p=25319 u=eduardgevorkyan n=ansible | TASK [artem_shestakov.keepalived : Install Keepalived] ***********************************************************************************
2021-10-18 10:36:59,743 p=25319 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/artem_shestakov.keepalived/tasks/redhat.yml for k3s1, k3s2, k3s3
2021-10-18 10:36:59,765 p=25319 u=eduardgevorkyan n=ansible | TASK [artem_shestakov.keepalived : Install Keepalived] ***********************************************************************************
2021-10-18 10:37:22,590 p=25319 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-18 10:37:23,556 p=25319 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-18 10:37:48,343 p=25319 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-18 10:37:48,383 p=25319 u=eduardgevorkyan n=ansible | TASK [artem_shestakov.keepalived : Copy config file] *************************************************************************************
2021-10-18 10:37:49,282 p=25319 u=eduardgevorkyan n=ansible | fatal: [k3s1]: FAILED! => {"changed": false, "msg": "AnsibleUndefinedVariable: 'dict object' has no attribute 'proxy'"}
2021-10-18 10:37:49,330 p=25319 u=eduardgevorkyan n=ansible | fatal: [k3s2]: FAILED! => {"changed": false, "msg": "AnsibleUndefinedVariable: 'dict object' has no attribute 'proxy'"}
2021-10-18 10:37:49,345 p=25319 u=eduardgevorkyan n=ansible | fatal: [k3s3]: FAILED! => {"changed": false, "msg": "AnsibleUndefinedVariable: 'dict object' has no attribute 'proxy'"}
2021-10-18 10:37:49,346 p=25319 u=eduardgevorkyan n=ansible | RUNNING HANDLER [artem_shestakov.keepalived : Enable and start Keepalived] ***************************************************************
2021-10-18 10:37:49,359 p=25319 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-18 10:37:49,360 p=25319 u=eduardgevorkyan n=ansible | k3s1                       : ok=3    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-10-18 10:37:49,360 p=25319 u=eduardgevorkyan n=ansible | k3s2                       : ok=3    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-10-18 10:37:49,361 p=25319 u=eduardgevorkyan n=ansible | k3s3                       : ok=3    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-10-18 10:52:43,419 p=26321 u=eduardgevorkyan n=ansible | k3s2 | SUCCESS => {
    "changed": false,
    "ping": "pong"
}
2021-10-18 10:52:43,440 p=26321 u=eduardgevorkyan n=ansible | k3s3 | SUCCESS => {
    "changed": false,
    "ping": "pong"
}
2021-10-18 10:52:43,442 p=26321 u=eduardgevorkyan n=ansible | k3s1 | SUCCESS => {
    "changed": false,
    "ping": "pong"
}
2021-10-18 10:53:08,774 p=26392 u=eduardgevorkyan n=ansible | PLAY [Install keepalived] ****************************************************************************************************************
2021-10-18 10:53:08,795 p=26392 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-18 10:53:12,228 p=26392 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-18 10:53:12,262 p=26392 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-18 10:53:12,312 p=26392 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-18 10:53:12,355 p=26392 u=eduardgevorkyan n=ansible | TASK [artem_shestakov.keepalived : Install Keepalived] ***********************************************************************************
2021-10-18 10:53:13,084 p=26392 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/artem_shestakov.keepalived/tasks/redhat.yml for k3s1, k3s2, k3s3
2021-10-18 10:53:13,098 p=26392 u=eduardgevorkyan n=ansible | TASK [artem_shestakov.keepalived : Install Keepalived] ***********************************************************************************
2021-10-18 10:53:27,727 p=26392 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-18 10:53:27,808 p=26392 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-18 10:53:28,140 p=26392 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-18 10:53:28,162 p=26392 u=eduardgevorkyan n=ansible | TASK [artem_shestakov.keepalived : Copy config file] *************************************************************************************
2021-10-18 10:53:29,006 p=26392 u=eduardgevorkyan n=ansible | fatal: [k3s1]: FAILED! => {"changed": false, "msg": "AnsibleUndefinedVariable: list object has no element 1"}
2021-10-18 10:53:29,062 p=26392 u=eduardgevorkyan n=ansible | fatal: [k3s2]: FAILED! => {"changed": false, "msg": "AnsibleUndefinedVariable: list object has no element 1"}
2021-10-18 10:53:29,185 p=26392 u=eduardgevorkyan n=ansible | fatal: [k3s3]: FAILED! => {"changed": false, "msg": "AnsibleUndefinedVariable: list object has no element 1"}
2021-10-18 10:53:29,190 p=26392 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-18 10:53:29,190 p=26392 u=eduardgevorkyan n=ansible | k3s1                       : ok=3    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-10-18 10:53:29,191 p=26392 u=eduardgevorkyan n=ansible | k3s2                       : ok=3    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-10-18 10:53:29,191 p=26392 u=eduardgevorkyan n=ansible | k3s3                       : ok=3    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-10-18 10:58:13,227 p=26751 u=eduardgevorkyan n=ansible | k3s1 | SUCCESS => {
    "changed": false,
    "ping": "pong"
}
2021-10-18 10:58:13,264 p=26751 u=eduardgevorkyan n=ansible | k3s2 | SUCCESS => {
    "changed": false,
    "ping": "pong"
}
2021-10-18 10:58:13,269 p=26751 u=eduardgevorkyan n=ansible | k3s3 | SUCCESS => {
    "changed": false,
    "ping": "pong"
}
2021-10-18 10:58:31,401 p=26811 u=eduardgevorkyan n=ansible | PLAY [Install keepalived] ****************************************************************************************************************
2021-10-18 10:58:31,424 p=26811 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-18 10:58:35,750 p=26811 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-18 10:58:35,796 p=26811 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-18 10:58:35,819 p=26811 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-18 10:58:35,831 p=26811 u=eduardgevorkyan n=ansible | TASK [artem_shestakov.keepalived : Install Keepalived] ***********************************************************************************
2021-10-18 10:58:36,360 p=26811 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/artem_shestakov.keepalived/tasks/redhat.yml for k3s1, k3s2, k3s3
2021-10-18 10:58:36,375 p=26811 u=eduardgevorkyan n=ansible | TASK [artem_shestakov.keepalived : Install Keepalived] ***********************************************************************************
2021-10-18 10:58:47,449 p=26811 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-18 10:58:47,552 p=26811 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-18 10:58:47,846 p=26811 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-18 10:58:47,884 p=26811 u=eduardgevorkyan n=ansible | TASK [artem_shestakov.keepalived : Copy config file] *************************************************************************************
2021-10-18 10:58:48,786 p=26811 u=eduardgevorkyan n=ansible | fatal: [k3s1]: FAILED! => {"changed": false, "msg": "AnsibleUndefinedVariable: list object has no element 1"}
2021-10-18 10:58:48,807 p=26811 u=eduardgevorkyan n=ansible | fatal: [k3s2]: FAILED! => {"changed": false, "msg": "AnsibleUndefinedVariable: list object has no element 1"}
2021-10-18 10:58:48,908 p=26811 u=eduardgevorkyan n=ansible | fatal: [k3s3]: FAILED! => {"changed": false, "msg": "AnsibleUndefinedVariable: list object has no element 1"}
2021-10-18 10:58:48,913 p=26811 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-18 10:58:48,913 p=26811 u=eduardgevorkyan n=ansible | k3s1                       : ok=3    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-10-18 10:58:48,914 p=26811 u=eduardgevorkyan n=ansible | k3s2                       : ok=3    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-10-18 10:58:48,914 p=26811 u=eduardgevorkyan n=ansible | k3s3                       : ok=3    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-10-18 12:40:21,313 p=31925 u=eduardgevorkyan n=ansible | PLAY [Install keepalived] ****************************************************************************************************************
2021-10-18 12:40:21,332 p=31925 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-18 12:40:26,587 p=31925 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-18 12:40:26,692 p=31925 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-18 12:40:26,711 p=31925 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-18 12:40:26,766 p=31925 u=eduardgevorkyan n=ansible | TASK [artem_shestakov.keepalived : Install Keepalived] ***********************************************************************************
2021-10-18 12:40:27,362 p=31925 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/artem_shestakov.keepalived/tasks/redhat.yml for k3s1, k3s2, k3s3
2021-10-18 12:40:27,381 p=31925 u=eduardgevorkyan n=ansible | TASK [artem_shestakov.keepalived : Install Keepalived] ***********************************************************************************
2021-10-18 12:40:36,669 p=31925 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-18 12:40:36,699 p=31925 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-18 12:40:36,704 p=31925 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-18 12:40:36,739 p=31925 u=eduardgevorkyan n=ansible | TASK [artem_shestakov.keepalived : Copy config file] *************************************************************************************
2021-10-18 12:40:37,464 p=31925 u=eduardgevorkyan n=ansible | fatal: [k3s1]: FAILED! => {"changed": false, "msg": "AnsibleUndefinedVariable: list object has no element 1"}
2021-10-18 12:40:37,620 p=31925 u=eduardgevorkyan n=ansible | fatal: [k3s3]: FAILED! => {"changed": false, "msg": "AnsibleUndefinedVariable: list object has no element 1"}
2021-10-18 12:40:37,622 p=31925 u=eduardgevorkyan n=ansible | fatal: [k3s2]: FAILED! => {"changed": false, "msg": "AnsibleUndefinedVariable: list object has no element 1"}
2021-10-18 12:40:37,629 p=31925 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-18 12:40:37,638 p=31925 u=eduardgevorkyan n=ansible | k3s1                       : ok=3    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-10-18 12:40:37,638 p=31925 u=eduardgevorkyan n=ansible | k3s2                       : ok=3    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-10-18 12:40:37,639 p=31925 u=eduardgevorkyan n=ansible | k3s3                       : ok=3    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-10-18 12:41:05,622 p=32069 u=eduardgevorkyan n=ansible | PLAY [Install keepalived] ****************************************************************************************************************
2021-10-18 12:41:05,640 p=32069 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-18 12:41:08,624 p=32069 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-18 12:41:08,683 p=32069 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-18 12:41:08,745 p=32069 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-18 12:41:08,765 p=32069 u=eduardgevorkyan n=ansible | TASK [artem_shestakov.keepalived : Install Keepalived] ***********************************************************************************
2021-10-18 12:41:09,264 p=32069 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/artem_shestakov.keepalived/tasks/redhat.yml for k3s1, k3s2, k3s3
2021-10-18 12:41:09,284 p=32069 u=eduardgevorkyan n=ansible | TASK [artem_shestakov.keepalived : Install Keepalived] ***********************************************************************************
2021-10-18 12:41:19,365 p=32069 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-18 12:41:19,460 p=32069 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-18 12:41:19,523 p=32069 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-18 12:41:19,539 p=32069 u=eduardgevorkyan n=ansible | TASK [artem_shestakov.keepalived : Copy config file] *************************************************************************************
2021-10-18 12:41:20,255 p=32069 u=eduardgevorkyan n=ansible | fatal: [k3s1]: FAILED! => {"changed": false, "msg": "AnsibleUndefinedVariable: list object has no element 2"}
2021-10-18 12:41:20,349 p=32069 u=eduardgevorkyan n=ansible | fatal: [k3s2]: FAILED! => {"changed": false, "msg": "AnsibleUndefinedVariable: list object has no element 2"}
2021-10-18 12:41:20,395 p=32069 u=eduardgevorkyan n=ansible | fatal: [k3s3]: FAILED! => {"changed": false, "msg": "AnsibleUndefinedVariable: list object has no element 2"}
2021-10-18 12:41:20,401 p=32069 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-18 12:41:20,402 p=32069 u=eduardgevorkyan n=ansible | k3s1                       : ok=3    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-10-18 12:41:20,402 p=32069 u=eduardgevorkyan n=ansible | k3s2                       : ok=3    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-10-18 12:41:20,402 p=32069 u=eduardgevorkyan n=ansible | k3s3                       : ok=3    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-10-18 13:07:35,288 p=34048 u=eduardgevorkyan n=ansible | PLAY [Install keepalived] ****************************************************************************************************************
2021-10-18 13:07:35,333 p=34048 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-18 13:07:39,331 p=34048 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-18 13:07:39,345 p=34048 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-18 13:07:39,361 p=34048 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-18 13:07:39,397 p=34048 u=eduardgevorkyan n=ansible | TASK [artem_shestakov.keepalived : Install Keepalived] ***********************************************************************************
2021-10-18 13:07:39,648 p=34048 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/artem_shestakov.keepalived/tasks/redhat.yml for k3s1, k3s2, k3s3
2021-10-18 13:07:39,672 p=34048 u=eduardgevorkyan n=ansible | TASK [artem_shestakov.keepalived : Install Keepalived] ***********************************************************************************
2021-10-18 13:07:49,230 p=34048 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-18 13:07:49,396 p=34048 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-18 13:07:49,419 p=34048 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-18 13:07:49,447 p=34048 u=eduardgevorkyan n=ansible | TASK [artem_shestakov.keepalived : Copy config file] *************************************************************************************
2021-10-18 13:07:50,134 p=34048 u=eduardgevorkyan n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: ansible.errors.AnsibleUndefinedVariable: list object has no element 1
2021-10-18 13:07:50,135 p=34048 u=eduardgevorkyan n=ansible | fatal: [k3s1]: FAILED! => {"changed": false, "msg": "AnsibleUndefinedVariable: list object has no element 1"}
2021-10-18 13:07:50,169 p=34048 u=eduardgevorkyan n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: ansible.errors.AnsibleUndefinedVariable: list object has no element 1
2021-10-18 13:07:50,169 p=34048 u=eduardgevorkyan n=ansible | fatal: [k3s2]: FAILED! => {"changed": false, "msg": "AnsibleUndefinedVariable: list object has no element 1"}
2021-10-18 13:07:50,219 p=34048 u=eduardgevorkyan n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: ansible.errors.AnsibleUndefinedVariable: list object has no element 1
2021-10-18 13:07:50,220 p=34048 u=eduardgevorkyan n=ansible | fatal: [k3s3]: FAILED! => {"changed": false, "msg": "AnsibleUndefinedVariable: list object has no element 1"}
2021-10-18 13:07:50,234 p=34048 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-18 13:07:50,235 p=34048 u=eduardgevorkyan n=ansible | k3s1                       : ok=3    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-10-18 13:07:50,237 p=34048 u=eduardgevorkyan n=ansible | k3s2                       : ok=3    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-10-18 13:07:50,238 p=34048 u=eduardgevorkyan n=ansible | k3s3                       : ok=3    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-10-18 13:08:17,771 p=34173 u=eduardgevorkyan n=ansible | ansible-playbook [core 2.11.6] 
  config file = /home/eduardgevorkyan/demo-mysql/ansible.cfg
  configured module search path = ['/home/eduardgevorkyan/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.9/site-packages/ansible
  ansible collection location = /home/eduardgevorkyan/.ansible/collections:/usr/share/ansible/collections
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.9.2 (default, Feb 20 2021, 00:00:00) [GCC 11.0.0 20210210 (Red Hat 11.0.0-0)]
  jinja version = 3.0.2
  libyaml = True
2021-10-18 13:08:17,772 p=34173 u=eduardgevorkyan n=ansible | Using /home/eduardgevorkyan/demo-mysql/ansible.cfg as config file
2021-10-18 13:08:17,787 p=34173 u=eduardgevorkyan n=ansible | host_list declined parsing /home/eduardgevorkyan/demo-mysql/inventory.yml as it did not pass its verify_file() method
2021-10-18 13:08:17,788 p=34173 u=eduardgevorkyan n=ansible | script declined parsing /home/eduardgevorkyan/demo-mysql/inventory.yml as it did not pass its verify_file() method
2021-10-18 13:08:17,807 p=34173 u=eduardgevorkyan n=ansible | Parsed /home/eduardgevorkyan/demo-mysql/inventory.yml inventory source with yaml plugin
2021-10-18 13:08:18,003 p=34173 u=eduardgevorkyan n=ansible | Skipping callback 'default', as we already have a stdout callback.
2021-10-18 13:08:18,003 p=34173 u=eduardgevorkyan n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2021-10-18 13:08:18,004 p=34173 u=eduardgevorkyan n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2021-10-18 13:08:18,004 p=34173 u=eduardgevorkyan n=ansible | PLAYBOOK: keepalive.yml ******************************************************************************************************************
2021-10-18 13:08:18,004 p=34173 u=eduardgevorkyan n=ansible | 1 plays in keepalive.yml
2021-10-18 13:08:18,011 p=34173 u=eduardgevorkyan n=ansible | PLAY [Install keepalived] ****************************************************************************************************************
2021-10-18 13:08:18,056 p=34173 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-18 13:08:18,117 p=34177 u=eduardgevorkyan n=ansible | <172.20.254.1> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:08:18,122 p=34177 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e 172.20.254.1 '/bin/sh -c '"'"'echo ~k3s1 && sleep 0'"'"''
2021-10-18 13:08:18,201 p=34178 u=eduardgevorkyan n=ansible | <172.20.254.2> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:08:18,220 p=34178 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 172.20.254.2 '/bin/sh -c '"'"'echo ~k3s1 && sleep 0'"'"''
2021-10-18 13:08:18,297 p=34177 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'/home/k3s1\n', b'')
2021-10-18 13:08:18,300 p=34177 u=eduardgevorkyan n=ansible | <172.20.254.1> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:08:18,309 p=34177 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e 172.20.254.1 '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/k3s1/.ansible/tmp `"&& mkdir "` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555298.2977893-34177-187879632480528 `" && echo ansible-tmp-1634555298.2977893-34177-187879632480528="` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555298.2977893-34177-187879632480528 `" ) && sleep 0'"'"''
2021-10-18 13:08:18,321 p=34180 u=eduardgevorkyan n=ansible | <172.20.254.3> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:08:18,342 p=34180 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 172.20.254.3 '/bin/sh -c '"'"'echo ~k3s1 && sleep 0'"'"''
2021-10-18 13:08:18,478 p=34178 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'/home/k3s1\n', b'')
2021-10-18 13:08:18,481 p=34178 u=eduardgevorkyan n=ansible | <172.20.254.2> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:08:18,492 p=34178 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 172.20.254.2 '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/k3s1/.ansible/tmp `"&& mkdir "` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555298.4797575-34178-48792241764785 `" && echo ansible-tmp-1634555298.4797575-34178-48792241764785="` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555298.4797575-34178-48792241764785 `" ) && sleep 0'"'"''
2021-10-18 13:08:18,578 p=34177 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'ansible-tmp-1634555298.2977893-34177-187879632480528=/home/k3s1/.ansible/tmp/ansible-tmp-1634555298.2977893-34177-187879632480528\n', b'')
2021-10-18 13:08:18,596 p=34180 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'/home/k3s1\n', b'')
2021-10-18 13:08:18,601 p=34180 u=eduardgevorkyan n=ansible | <172.20.254.3> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:08:18,612 p=34180 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 172.20.254.3 '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/k3s1/.ansible/tmp `"&& mkdir "` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555298.5988555-34180-57559911075587 `" && echo ansible-tmp-1634555298.5988555-34180-57559911075587="` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555298.5988555-34180-57559911075587 `" ) && sleep 0'"'"''
2021-10-18 13:08:18,691 p=34178 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'ansible-tmp-1634555298.4797575-34178-48792241764785=/home/k3s1/.ansible/tmp/ansible-tmp-1634555298.4797575-34178-48792241764785\n', b'')
2021-10-18 13:08:18,820 p=34180 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'ansible-tmp-1634555298.5988555-34180-57559911075587=/home/k3s1/.ansible/tmp/ansible-tmp-1634555298.5988555-34180-57559911075587\n', b'')
2021-10-18 13:08:19,263 p=34180 u=eduardgevorkyan n=ansible | Using module file /usr/local/lib/python3.9/site-packages/ansible/modules/setup.py
2021-10-18 13:08:19,264 p=34178 u=eduardgevorkyan n=ansible | Using module file /usr/local/lib/python3.9/site-packages/ansible/modules/setup.py
2021-10-18 13:08:19,265 p=34180 u=eduardgevorkyan n=ansible | <172.20.254.3> PUT /home/eduardgevorkyan/.ansible/tmp/ansible-local-341736yrf0svp/tmpbael6h9b TO /home/k3s1/.ansible/tmp/ansible-tmp-1634555298.5988555-34180-57559911075587/AnsiballZ_setup.py
2021-10-18 13:08:19,266 p=34178 u=eduardgevorkyan n=ansible | <172.20.254.2> PUT /home/eduardgevorkyan/.ansible/tmp/ansible-local-341736yrf0svp/tmp8g6om161 TO /home/k3s1/.ansible/tmp/ansible-tmp-1634555298.4797575-34178-48792241764785/AnsiballZ_setup.py
2021-10-18 13:08:19,269 p=34180 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 '[172.20.254.3]'
2021-10-18 13:08:19,271 p=34178 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 '[172.20.254.2]'
2021-10-18 13:08:19,273 p=34177 u=eduardgevorkyan n=ansible | Using module file /usr/local/lib/python3.9/site-packages/ansible/modules/setup.py
2021-10-18 13:08:19,284 p=34177 u=eduardgevorkyan n=ansible | <172.20.254.1> PUT /home/eduardgevorkyan/.ansible/tmp/ansible-local-341736yrf0svp/tmpadbkafq7 TO /home/k3s1/.ansible/tmp/ansible-tmp-1634555298.2977893-34177-187879632480528/AnsiballZ_setup.py
2021-10-18 13:08:19,293 p=34177 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e '[172.20.254.1]'
2021-10-18 13:08:19,655 p=34178 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'sftp> put /home/eduardgevorkyan/.ansible/tmp/ansible-local-341736yrf0svp/tmp8g6om161 /home/k3s1/.ansible/tmp/ansible-tmp-1634555298.4797575-34178-48792241764785/AnsiballZ_setup.py\n', b'')
2021-10-18 13:08:19,656 p=34178 u=eduardgevorkyan n=ansible | <172.20.254.2> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:08:19,658 p=34178 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 172.20.254.2 '/bin/sh -c '"'"'chmod u+x /home/k3s1/.ansible/tmp/ansible-tmp-1634555298.4797575-34178-48792241764785/ /home/k3s1/.ansible/tmp/ansible-tmp-1634555298.4797575-34178-48792241764785/AnsiballZ_setup.py && sleep 0'"'"''
2021-10-18 13:08:19,676 p=34180 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'sftp> put /home/eduardgevorkyan/.ansible/tmp/ansible-local-341736yrf0svp/tmpbael6h9b /home/k3s1/.ansible/tmp/ansible-tmp-1634555298.5988555-34180-57559911075587/AnsiballZ_setup.py\n', b'')
2021-10-18 13:08:19,677 p=34180 u=eduardgevorkyan n=ansible | <172.20.254.3> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:08:19,678 p=34180 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 172.20.254.3 '/bin/sh -c '"'"'chmod u+x /home/k3s1/.ansible/tmp/ansible-tmp-1634555298.5988555-34180-57559911075587/ /home/k3s1/.ansible/tmp/ansible-tmp-1634555298.5988555-34180-57559911075587/AnsiballZ_setup.py && sleep 0'"'"''
2021-10-18 13:08:19,689 p=34177 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'sftp> put /home/eduardgevorkyan/.ansible/tmp/ansible-local-341736yrf0svp/tmpadbkafq7 /home/k3s1/.ansible/tmp/ansible-tmp-1634555298.2977893-34177-187879632480528/AnsiballZ_setup.py\n', b'')
2021-10-18 13:08:19,691 p=34177 u=eduardgevorkyan n=ansible | <172.20.254.1> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:08:19,692 p=34177 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e 172.20.254.1 '/bin/sh -c '"'"'chmod u+x /home/k3s1/.ansible/tmp/ansible-tmp-1634555298.2977893-34177-187879632480528/ /home/k3s1/.ansible/tmp/ansible-tmp-1634555298.2977893-34177-187879632480528/AnsiballZ_setup.py && sleep 0'"'"''
2021-10-18 13:08:19,879 p=34177 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'', b'')
2021-10-18 13:08:19,881 p=34177 u=eduardgevorkyan n=ansible | <172.20.254.1> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:08:19,884 p=34177 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e -tt 172.20.254.1 '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-svesokmkirbulnsaisiohbofldesmhcq ; /usr/bin/python3 /home/k3s1/.ansible/tmp/ansible-tmp-1634555298.2977893-34177-187879632480528/AnsiballZ_setup.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
2021-10-18 13:08:19,912 p=34180 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'', b'')
2021-10-18 13:08:19,913 p=34178 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'', b'')
2021-10-18 13:08:19,914 p=34178 u=eduardgevorkyan n=ansible | <172.20.254.2> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:08:19,916 p=34180 u=eduardgevorkyan n=ansible | <172.20.254.3> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:08:19,922 p=34178 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 -tt 172.20.254.2 '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-yjfqnajvowpeexoogjiqaqrpohhkuybs ; /usr/bin/python3 /home/k3s1/.ansible/tmp/ansible-tmp-1634555298.4797575-34178-48792241764785/AnsiballZ_setup.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
2021-10-18 13:08:19,926 p=34180 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 -tt 172.20.254.3 '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-mzczngogxyhrhugggavnnapkhryjeuhv ; /usr/bin/python3 /home/k3s1/.ansible/tmp/ansible-tmp-1634555298.5988555-34180-57559911075587/AnsiballZ_setup.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
2021-10-18 13:08:20,255 p=34180 u=eduardgevorkyan n=ansible | Escalation succeeded
2021-10-18 13:08:20,264 p=34177 u=eduardgevorkyan n=ansible | Escalation succeeded
2021-10-18 13:08:20,272 p=34178 u=eduardgevorkyan n=ansible | Escalation succeeded
2021-10-18 13:08:22,000 p=34180 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'\r\n\r\n{"ansible_facts": {"ansible_distribution": "Fedora", "ansible_distribution_release": "", "ansible_distribution_version": "34", "ansible_distribution_major_version": "34", "ansible_distribution_file_path": "/etc/redhat-release", "ansible_distribution_file_variety": "RedHat", "ansible_distribution_file_parsed": true, "ansible_os_family": "RedHat", "ansible_virtualization_role": "guest", "ansible_virtualization_type": "VMware", "ansible_virtualization_tech_guest": ["VMware"], "ansible_virtualization_tech_host": [], "ansible_system": "Linux", "ansible_kernel": "5.11.12-300.fc34.x86_64", "ansible_kernel_version": "#1 SMP Wed Apr 7 16:31:13 UTC 2021", "ansible_machine": "x86_64", "ansible_python_version": "3.9.2", "ansible_fqdn": "k3s3", "ansible_hostname": "k3s3", "ansible_nodename": "k3s3", "ansible_domain": "", "ansible_userspace_bits": "64", "ansible_architecture": "x86_64", "ansible_userspace_architecture": "x86_64", "ansible_machine_id": "250bb7177185479eba03735879fbc0d3", "ansible_user_id": "root", "ansible_user_uid": 0, "ansible_user_gid": 0, "ansible_user_gecos": "root", "ansible_user_dir": "/root", "ansible_user_shell": "/bin/bash", "ansible_real_user_id": 0, "ansible_effective_user_id": 0, "ansible_real_group_id": 0, "ansible_effective_group_id": 0, "ansible_processor": ["0", "GenuineIntel", "Intel(R) Core(TM) i5-6300U CPU @ 2.40GHz"], "ansible_processor_count": 1, "ansible_processor_cores": 1, "ansible_processor_threads_per_core": 1, "ansible_processor_vcpus": 1, "ansible_processor_nproc": 1, "ansible_memtotal_mb": 939, "ansible_memfree_mb": 178, "ansible_swaptotal_mb": 938, "ansible_swapfree_mb": 861, "ansible_memory_mb": {"real": {"total": 939, "used": 761, "free": 178}, "nocache": {"free": 553, "used": 386}, "swap": {"total": 938, "free": 861, "used": 77, "cached": 1}}, "ansible_bios_date": "07/22/2020", "ansible_bios_vendor": "Phoenix Technologies LTD", "ansible_bios_version": "6.00", "ansible_board_asset_tag": "NA", "ansible_board_name": "440BX Desktop Reference Platform", "ansible_board_serial": "None", "ansible_board_vendor": "Intel Corporation", "ansible_board_version": "None", "ansible_chassis_asset_tag": "No Asset Tag", "ansible_chassis_serial": "None", "ansible_chassis_vendor": "No Enclosure", "ansible_chassis_version": "N/A", "ansible_form_factor": "Other", "ansible_product_name": "VMware Virtual Platform", "ansible_product_serial": "VMware-56 4d 13 ab e4 30 eb dd-eb 55 55 93 85 2f d9 27", "ansible_product_uuid": "ab134d56-30e4-ddeb-eb55-5593852fd927", "ansible_product_version": "None", "ansible_system_vendor": "VMware, Inc.", "ansible_devices": {"sr0": {"virtual": 1, "links": {"ids": ["ata-VMware_Virtual_IDE_CDROM_Drive_10000000000000000001"], "uuids": ["2021-04-23-10-53-02-00"], "labels": ["Fedora-S-dvd-x86_64-34"], "masters": []}, "vendor": "NECVMWar", "model": "VMware IDE CDR10", "sas_address": null, "sas_device_handle": null, "removable": "1", "support_discard": "0", "partitions": {}, "rotational": "1", "scheduler_mode": "bfq", "sectors": "4104192", "sectorsize": "2048", "size": "1.96 GB", "host": "IDE interface: Intel Corporation 82371AB/EB/MB PIIX4 IDE (rev 01)", "holders": []}, "dm-0": {"virtual": 1, "links": {"ids": ["dm-name-fedora_fedora-root", "dm-uuid-LVM-7jxwNZwbIlT2zhLQNYkDdk5ad9hy6cIJvtQTmfOhtO9ncZWdK8MBGzy4jFy4nHJx"], "uuids": ["a7edf097-e290-4469-ae87-078dca1d240a"], "labels": [], "masters": []}, "vendor": null, "model": null, "sas_address": null, "sas_device_handle": null, "removable": "0", "support_discard": "0", "partitions": {}, "rotational": "1", "scheduler_mode": "", "sectors": "18866176", "sectorsize": "512", "size": "9.00 GB", "host": "", "holders": []}, "sda": {"virtual": 1, "links": {"ids": [], "uuids": [], "labels": [], "masters": []}, "vendor": "VMware,", "model": "VMware Virtual S", "sas_address": null, "sas_device_handle": null, "removable": "0", "support_discard": "0", "partitions": {"sda2": {"links": {"ids": ["lvm-pv-uuid-rjeu7p-tab2-MqWk-DYUq-DzON-SxYX-vHpnuo"], "uuids": [], "labels": [], "masters": ["dm-0"]}, "start": "2099200", "sectors": "18872320", "sectorsize": 512, "size": "9.00 GB", "uuid": null, "holders": ["fedora_fedora-root"]}, "sda1": {"links": {"ids": [], "uuids": ["1546d3cb-7f60-410c-866d-47566ca5fd6b"], "labels": [], "masters": []}, "start": "2048", "sectors": "2097152", "sectorsize": 512, "size": "1.00 GB", "uuid": "1546d3cb-7f60-410c-866d-47566ca5fd6b", "holders": []}}, "rotational": "1", "scheduler_mode": "bfq", "sectors": "20971520", "sectorsize": "512", "size": "10.00 GB", "host": "SCSI storage controller: Broadcom / LSI 53c1030 PCI-X Fusion-MPT Dual Ultra320 SCSI (rev 01)", "holders": []}, "zram0": {"virtual": 1, "links": {"ids": [], "uuids": [], "labels": [], "masters": []}, "vendor": null, "model": null, "sas_address": null, "sas_device_handle": null, "removable": "0", "support_discard": "4096", "partitions": {}, "rotational": "0", "scheduler_mode": "", "sectors": "1923072", "sectorsize": "4096", "size": "939.00 MB", "host": "", "holders": []}}, "ansible_device_links": {"ids": {"dm-0": ["dm-name-fedora_fedora-root", "dm-uuid-LVM-7jxwNZwbIlT2zhLQNYkDdk5ad9hy6cIJvtQTmfOhtO9ncZWdK8MBGzy4jFy4nHJx"], "sda2": ["lvm-pv-uuid-rjeu7p-tab2-MqWk-DYUq-DzON-SxYX-vHpnuo"], "sr0": ["ata-VMware_Virtual_IDE_CDROM_Drive_10000000000000000001"]}, "uuids": {"sr0": ["2021-04-23-10-53-02-00"], "dm-0": ["a7edf097-e290-4469-ae87-078dca1d240a"], "sda1": ["1546d3cb-7f60-410c-866d-47566ca5fd6b"]}, "labels": {"sr0": ["Fedora-S-dvd-x86_64-34"]}, "masters": {"sda2": ["dm-0"]}}, "ansible_uptime_seconds": 35398, "ansible_lvm": {"lvs": {"root": {"size_g": "9.00", "vg": "fedora_fedora"}}, "vgs": {"fedora_fedora": {"size_g": "9.00", "free_g": "0", "num_lvs": "1", "num_pvs": "1"}}, "pvs": {"/dev/sda2": {"size_g": "9.00", "free_g": "0", "vg": "fedora_fedora"}}}, "ansible_mounts": [{"mount": "/", "device": "/dev/mapper/fedora_fedora-root", "fstype": "xfs", "options": "rw,seclabel,relatime,attr2,inode64,logbufs=8,logbsize=32k,noquota", "size_total": 9648996352, "size_available": 7087353856, "block_size": 4096, "block_total": 2355712, "block_available": 1730311, "block_used": 625401, "inode_total": 4716544, "inode_available": 4650539, "inode_used": 66005, "uuid": "a7edf097-e290-4469-ae87-078dca1d240a"}, {"mount": "/boot", "device": "/dev/sda1", "fstype": "xfs", "options": "rw,seclabel,relatime,attr2,inode64,logbufs=8,logbsize=32k,noquota", "size_total": 1063256064, "size_available": 867901440, "block_size": 4096, "block_total": 259584, "block_available": 211890, "block_used": 47694, "inode_total": 524288, "inode_available": 523932, "inode_used": 356, "uuid": "1546d3cb-7f60-410c-866d-47566ca5fd6b"}], "ansible_iscsi_iqn": "", "ansible_system_capabilities_enforced": "False", "ansible_system_capabilities": [], "ansible_fips": false, "ansible_ssh_host_key_rsa_public": "AAAAB3NzaC1yc2EAAAADAQABAAABgQDrhtuduwUtaRWuHMtiOPZYKjlKJbjaqmBbcfPqxdpzbXlExXpVFnaZOJF0l69GGzu3AJxkgu2ajhbGMe8k/q14iQeaGQe+tXe0la4SpCrlvZ8xXw+pCwwjEhi6mrsJzXpqZxstIsnO5KDaYmNA4vgfh+Uf6JnTgCuBMEjWp4zgaepo1QC1Natx74KpO3bKgwGj3atv6nTsYZLgM1D63CSzeIqfOEX6EjEv8KndikEI4Leqiu181l7mLQvaypBqpg6yIzXrE+pLhu/SkyJztuZQE6O6RFtuCDC0eLCVIwW+b8LbsKut4x777Ox/HQbSj7DScJHLpWUWN2OUMcCx+bnp7BRPuHfIm0VdgHyc5uUuk/LW5G47OLpFMCWzf1BcVNhwI3q3aHte41M81dL5hSXuHp0MlalMK5IQI4n0nwO3JhqR/h2hshgPIoV99VXal7S15YObidnVHwLObLxBe18Vr3eyGWp7QuDIybKVOWkJ2vV6ckfUZpkGDfifHuBRZ5U=", "ansible_ssh_host_key_rsa_public_keytype": "ssh-rsa", "ansible_ssh_host_key_ecdsa_public": "AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBFSgyTOjq69TAgxUdV0gihLbk5kqzlwoY/IfYGC/h108JQdrDse8s6LvGgb37ZJcPdPovnCUJUsUrJOyeifKQO0=", "ansible_ssh_host_key_ecdsa_public_keytype": "ecdsa-sha2-nistp256", "ansible_ssh_host_key_ed25519_public": "AAAAC3NzaC1lZDI1NTE5AAAAIDM2LOsc8SI85Kfi2BIEEQyZV9TTdSyqXfY8x3W25tLJ", "ansible_ssh_host_key_ed25519_public_keytype": "ssh-ed25519", "ansible_is_chroot": false, "ansible_lsb": {}, "ansible_selinux_python_present": true, "ansible_selinux": {"status": "enabled", "policyvers": 33, "config_mode": "enforcing", "mode": "enforcing", "type": "targeted"}, "ansible_apparmor": {"status": "disabled"}, "ansible_hostnqn": "", "ansible_dns": {"nameservers": ["127.0.0.53"], "options": {"edns0": true, "trust-ad": true}, "search": ["home.arpa"]}, "ansible_date_time": {"year": "2021", "month": "10", "weekday": "Monday", "weekday_number": "1", "weeknumber": "42", "day": "18", "hour": "13", "minute": "08", "second": "21", "epoch": "1634555301", "date": "2021-10-18", "time": "13:08:21", "iso8601_micro": "2021-10-18T11:08:21.683685Z", "iso8601": "2021-10-18T11:08:21Z", "iso8601_basic": "20211018T130821683685", "iso8601_basic_short": "20211018T130821", "tz": "CEST", "tz_dst": "CEST", "tz_offset": "+0200"}, "ansible_cmdline": {"BOOT_IMAGE": "(hd0,msdos1)/vmlinuz-5.11.12-300.fc34.x86_64", "root": "/dev/mapper/fedora_fedora-root", "ro": true, "rd.lvm.lv": "fedora_fedora/root", "rhgb": true, "quiet": true}, "ansible_proc_cmdline": {"BOOT_IMAGE": "(hd0,msdos1)/vmlinuz-5.11.12-300.fc34.x86_64", "root": "/dev/mapper/fedora_fedora-root", "ro": true, "rd.lvm.lv": "fedora_fedora/root", "rhgb": true, "quiet": true}, "ansible_fibre_channel_wwn": [], "ansible_env": {"SHELL": "/bin/bash", "SUDO_GID": "1000", "SUDO_COMMAND": "/bin/sh -c echo BECOME-SUCCESS-mzczngogxyhrhugggavnnapkhryjeuhv ; /usr/bin/python3 /home/k3s1/.ansible/tmp/ansible-tmp-1634555298.5988555-34180-57559911075587/AnsiballZ_setup.py", "SUDO_USER": "k3s1", "PWD": "/home/k3s1", "LOGNAME": "root", "HOME": "/root", "LANG": "en_US.UTF-8", "LS_COLORS": "rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=01;37;41:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=01;36:*.au=01;36:*.flac=01;36:*.m4a=01;36:*.mid=01;36:*.midi=01;36:*.mka=01;36:*.mp3=01;36:*.mpc=01;36:*.ogg=01;36:*.ra=01;36:*.wav=01;36:*.oga=01;36:*.opus=01;36:*.spx=01;36:*.xspf=01;36:", "TERM": "xterm-256color", "USER": "root", "SHLVL": "0", "PATH": "/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/var/lib/snapd/snap/bin", "SUDO_UID": "1000", "MAIL": "/var/mail/root", "_": "/usr/bin/python3"}, "ansible_local": {}, "ansible_python": {"version": {"major": 3, "minor": 9, "micro": 2, "releaselevel": "final", "serial": 0}, "version_info": [3, 9, 2, "final", 0], "executable": "/usr/bin/python3", "has_sslcontext": true, "type": "cpython"}, "ansible_interfaces": ["ens32", "ens32.1", "lo"], "ansible_ens32.1": {"device": "ens32.1", "macaddress": "00:0c:29:2f:d9:27", "mtu": 1500, "active": true, "type": "ether", "speed": 1000, "promisc": false, "ipv4": {"address": "172.20.254.3", "broadcast": "172.20.254.255", "netmask": "255.255.255.0", "network": "172.20.254.0"}, "ipv6": [{"address": "fe80::fa91:e7d0:edf7:a398", "prefix": "64", "scope": "link"}], "features": {"rx_checksumming": "off [fixed]", "tx_checksumming": "on", "tx_checksum_ipv4": "off [fixed]", "tx_checksum_ip_generic": "on", "tx_checksum_ipv6": "off [fixed]", "tx_checksum_fcoe_crc": "off [requested on]", "tx_checksum_sctp": "off [requested on]", "scatter_gather": "on", "tx_scatter_gather": "on", "tx_scatter_gather_fraglist": "off [requested on]", "tcp_segmentation_offload": "on", "tx_tcp_segmentation": "on", "tx_tcp_ecn_segmentation": "on", "tx_tcp_mangleid_segmentation": "on", "tx_tcp6_segmentation": "on", "generic_segmentation_offload": "on", "generic_receive_offload": "on", "large_receive_offload": "off [fixed]", "rx_vlan_offload": "off [fixed]", "tx_vlan_offload": "off [fixed]", "ntuple_filters": "off [fixed]", "receive_hashing": "off [fixed]", "highdma": "off [requested on]", "rx_vlan_filter": "off [fixed]", "vlan_challenged": "off [fixed]", "tx_lockless": "on [fixed]", "netns_local": "off [fixed]", "tx_gso_robust": "off [fixed]", "tx_fcoe_segmentation": "off [requested on]", "tx_gre_segmentation": "off [requested on]", "tx_gre_csum_segmentation": "off [requested on]", "tx_ipxip4_segmentation": "off [requested on]", "tx_ipxip6_segmentation": "off [requested on]", "tx_udp_tnl_segmentation": "off [requested on]", "tx_udp_tnl_csum_segmentation": "off [requested on]", "tx_gso_partial": "off [fixed]", "tx_tunnel_remcsum_segmentation": "off [fixed]", "tx_sctp_segmentation": "on", "tx_esp_segmentation": "off [fixed]", "tx_udp_segmentation": "on", "tx_gso_list": "on", "fcoe_mtu": "off [requested on]", "tx_nocache_copy": "off", "loopback": "off [fixed]", "rx_fcs": "off [fixed]", "rx_all": "off [fixed]", "tx_vlan_stag_hw_insert": "off [fixed]", "rx_vlan_stag_hw_parse": "off [fixed]", "rx_vlan_stag_filter": "off [fixed]", "l2_fwd_offload": "off [fixed]", "hw_tc_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "esp_tx_csum_hw_offload": "off [fixed]", "rx_udp_tunnel_port_offload": "off [fixed]", "tls_hw_tx_offload": "off [fixed]", "tls_hw_rx_offload": "off [fixed]", "rx_gro_hw": "off [fixed]", "tls_hw_record": "off [fixed]", "rx_gro_list": "off", "macsec_hw_offload": "off [fixed]"}, "timestamping": [], "hw_timestamp_filters": []}, "ansible_ens32": {"device": "ens32", "macaddress": "00:0c:29:2f:d9:27", "mtu": 1500, "active": true, "module": "e1000", "type": "ether", "pciid": "0000:02:00.0", "speed": 1000, "promisc": false, "ipv4": {"address": "172.22.22.7", "broadcast": "172.22.22.255", "netmask": "255.255.255.0", "network": "172.22.22.0"}, "ipv6": [{"address": "fe80::20c:29ff:fe2f:d927", "prefix": "64", "scope": "link"}], "features": {"rx_checksumming": "off", "tx_checksumming": "on", "tx_checksum_ipv4": "off [fixed]", "tx_checksum_ip_generic": "on", "tx_checksum_ipv6": "off [fixed]", "tx_checksum_fcoe_crc": "off [fixed]", "tx_checksum_sctp": "off [fixed]", "scatter_gather": "on", "tx_scatter_gather": "on", "tx_scatter_gather_fraglist": "off [fixed]", "tcp_segmentation_offload": "on", "tx_tcp_segmentation": "on", "tx_tcp_ecn_segmentation": "off [fixed]", "tx_tcp_mangleid_segmentation": "off", "tx_tcp6_segmentation": "off [fixed]", "generic_segmentation_offload": "on", "generic_receive_offload": "on", "large_receive_offload": "off [fixed]", "rx_vlan_offload": "on", "tx_vlan_offload": "on [fixed]", "ntuple_filters": "off [fixed]", "receive_hashing": "off [fixed]", "highdma": "off [fixed]", "rx_vlan_filter": "on [fixed]", "vlan_challenged": "off [fixed]", "tx_lockless": "off [fixed]", "netns_local": "off [fixed]", "tx_gso_robust": "off [fixed]", "tx_fcoe_segmentation": "off [fixed]", "tx_gre_segmentation": "off [fixed]", "tx_gre_csum_segmentation": "off [fixed]", "tx_ipxip4_segmentation": "off [fixed]", "tx_ipxip6_segmentation": "off [fixed]", "tx_udp_tnl_segmentation": "off [fixed]", "tx_udp_tnl_csum_segmentation": "off [fixed]", "tx_gso_partial": "off [fixed]", "tx_tunnel_remcsum_segmentation": "off [fixed]", "tx_sctp_segmentation": "off [fixed]", "tx_esp_segmentation": "off [fixed]", "tx_udp_segmentation": "off [fixed]", "tx_gso_list": "off [fixed]", "fcoe_mtu": "off [fixed]", "tx_nocache_copy": "off", "loopback": "off [fixed]", "rx_fcs": "off", "rx_all": "off", "tx_vlan_stag_hw_insert": "off [fixed]", "rx_vlan_stag_hw_parse": "off [fixed]", "rx_vlan_stag_filter": "off [fixed]", "l2_fwd_offload": "off [fixed]", "hw_tc_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "esp_tx_csum_hw_offload": "off [fixed]", "rx_udp_tunnel_port_offload": "off [fixed]", "tls_hw_tx_offload": "off [fixed]", "tls_hw_rx_offload": "off [fixed]", "rx_gro_hw": "off [fixed]", "tls_hw_record": "off [fixed]", "rx_gro_list": "off", "macsec_hw_offload": "off [fixed]"}, "timestamping": [], "hw_timestamp_filters": []}, "ansible_lo": {"device": "lo", "mtu": 65536, "active": true, "type": "loopback", "promisc": false, "ipv4": {"address": "127.0.0.1", "broadcast": "", "netmask": "255.0.0.0", "network": "127.0.0.0"}, "ipv6": [{"address": "::1", "prefix": "128", "scope": "host"}], "features": {"rx_checksumming": "on [fixed]", "tx_checksumming": "on", "tx_checksum_ipv4": "off [fixed]", "tx_checksum_ip_generic": "on [fixed]", "tx_checksum_ipv6": "off [fixed]", "tx_checksum_fcoe_crc": "off [fixed]", "tx_checksum_sctp": "on [fixed]", "scatter_gather": "on", "tx_scatter_gather": "on [fixed]", "tx_scatter_gather_fraglist": "on [fixed]", "tcp_segmentation_offload": "on", "tx_tcp_segmentation": "on", "tx_tcp_ecn_segmentation": "on", "tx_tcp_mangleid_segmentation": "on", "tx_tcp6_segmentation": "on", "generic_segmentation_offload": "on", "generic_receive_offload": "on", "large_receive_offload": "off [fixed]", "rx_vlan_offload": "off [fixed]", "tx_vlan_offload": "off [fixed]", "ntuple_filters": "off [fixed]", "receive_hashing": "off [fixed]", "highdma": "on [fixed]", "rx_vlan_filter": "off [fixed]", "vlan_challenged": "on [fixed]", "tx_lockless": "on [fixed]", "netns_local": "on [fixed]", "tx_gso_robust": "off [fixed]", "tx_fcoe_segmentation": "off [fixed]", "tx_gre_segmentation": "off [fixed]", "tx_gre_csum_segmentation": "off [fixed]", "tx_ipxip4_segmentation": "off [fixed]", "tx_ipxip6_segmentation": "off [fixed]", "tx_udp_tnl_segmentation": "off [fixed]", "tx_udp_tnl_csum_segmentation": "off [fixed]", "tx_gso_partial": "off [fixed]", "tx_tunnel_remcsum_segmentation": "off [fixed]", "tx_sctp_segmentation": "on", "tx_esp_segmentation": "off [fixed]", "tx_udp_segmentation": "on", "tx_gso_list": "on", "fcoe_mtu": "off [fixed]", "tx_nocache_copy": "off [fixed]", "loopback": "on [fixed]", "rx_fcs": "off [fixed]", "rx_all": "off [fixed]", "tx_vlan_stag_hw_insert": "off [fixed]", "rx_vlan_stag_hw_parse": "off [fixed]", "rx_vlan_stag_filter": "off [fixed]", "l2_fwd_offload": "off [fixed]", "hw_tc_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "esp_tx_csum_hw_offload": "off [fixed]", "rx_udp_tunnel_port_offload": "off [fixed]", "tls_hw_tx_offload": "off [fixed]", "tls_hw_rx_offload": "off [fixed]", "rx_gro_hw": "off [fixed]", "tls_hw_record": "off [fixed]", "rx_gro_list": "off", "macsec_hw_offload": "off [fixed]"}, "timestamping": [], "hw_timestamp_filters": []}, "ansible_default_ipv4": {"gateway": "172.22.22.1", "interface": "ens32", "address": "172.22.22.7", "broadcast": "172.22.22.255", "netmask": "255.255.255.0", "network": "172.22.22.0", "macaddress": "00:0c:29:2f:d9:27", "mtu": 1500, "type": "ether", "alias": "ens32"}, "ansible_default_ipv6": {}, "ansible_all_ipv4_addresses": ["172.20.254.3", "172.22.22.7"], "ansible_all_ipv6_addresses": ["fe80::fa91:e7d0:edf7:a398", "fe80::20c:29ff:fe2f:d927"], "ansible_service_mgr": "systemd", "ansible_pkg_mgr": "dnf", "gather_subset": ["all"], "module_setup": true}, "invocation": {"module_args": {"gather_subset": ["all"], "gather_timeout": 10, "filter": [], "fact_path": "/etc/ansible/facts.d"}}}\r\n', b'Shared connection to 172.20.254.3 closed.\r\n')
2021-10-18 13:08:22,022 p=34180 u=eduardgevorkyan n=ansible | <172.20.254.3> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:08:22,032 p=34180 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 172.20.254.3 '/bin/sh -c '"'"'rm -f -r /home/k3s1/.ansible/tmp/ansible-tmp-1634555298.5988555-34180-57559911075587/ > /dev/null 2>&1 && sleep 0'"'"''
2021-10-18 13:08:22,040 p=34177 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'\r\n\r\n{"ansible_facts": {"ansible_virtualization_role": "guest", "ansible_virtualization_type": "VMware", "ansible_virtualization_tech_guest": ["VMware"], "ansible_virtualization_tech_host": [], "ansible_distribution": "Fedora", "ansible_distribution_release": "", "ansible_distribution_version": "34", "ansible_distribution_major_version": "34", "ansible_distribution_file_path": "/etc/redhat-release", "ansible_distribution_file_variety": "RedHat", "ansible_distribution_file_parsed": true, "ansible_os_family": "RedHat", "ansible_system": "Linux", "ansible_kernel": "5.11.12-300.fc34.x86_64", "ansible_kernel_version": "#1 SMP Wed Apr 7 16:31:13 UTC 2021", "ansible_machine": "x86_64", "ansible_python_version": "3.9.2", "ansible_fqdn": "k3s1", "ansible_hostname": "k3s1", "ansible_nodename": "k3s1", "ansible_domain": "", "ansible_userspace_bits": "64", "ansible_architecture": "x86_64", "ansible_userspace_architecture": "x86_64", "ansible_machine_id": "250bb7177185479eba03735879fbc0d3", "ansible_iscsi_iqn": "", "ansible_user_id": "root", "ansible_user_uid": 0, "ansible_user_gid": 0, "ansible_user_gecos": "root", "ansible_user_dir": "/root", "ansible_user_shell": "/bin/bash", "ansible_real_user_id": 0, "ansible_effective_user_id": 0, "ansible_real_group_id": 0, "ansible_effective_group_id": 0, "ansible_lsb": {}, "ansible_is_chroot": false, "ansible_apparmor": {"status": "disabled"}, "ansible_ssh_host_key_rsa_public": "AAAAB3NzaC1yc2EAAAADAQABAAABgQDrhtuduwUtaRWuHMtiOPZYKjlKJbjaqmBbcfPqxdpzbXlExXpVFnaZOJF0l69GGzu3AJxkgu2ajhbGMe8k/q14iQeaGQe+tXe0la4SpCrlvZ8xXw+pCwwjEhi6mrsJzXpqZxstIsnO5KDaYmNA4vgfh+Uf6JnTgCuBMEjWp4zgaepo1QC1Natx74KpO3bKgwGj3atv6nTsYZLgM1D63CSzeIqfOEX6EjEv8KndikEI4Leqiu181l7mLQvaypBqpg6yIzXrE+pLhu/SkyJztuZQE6O6RFtuCDC0eLCVIwW+b8LbsKut4x777Ox/HQbSj7DScJHLpWUWN2OUMcCx+bnp7BRPuHfIm0VdgHyc5uUuk/LW5G47OLpFMCWzf1BcVNhwI3q3aHte41M81dL5hSXuHp0MlalMK5IQI4n0nwO3JhqR/h2hshgPIoV99VXal7S15YObidnVHwLObLxBe18Vr3eyGWp7QuDIybKVOWkJ2vV6ckfUZpkGDfifHuBRZ5U=", "ansible_ssh_host_key_rsa_public_keytype": "ssh-rsa", "ansible_ssh_host_key_ecdsa_public": "AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBFSgyTOjq69TAgxUdV0gihLbk5kqzlwoY/IfYGC/h108JQdrDse8s6LvGgb37ZJcPdPovnCUJUsUrJOyeifKQO0=", "ansible_ssh_host_key_ecdsa_public_keytype": "ecdsa-sha2-nistp256", "ansible_ssh_host_key_ed25519_public": "AAAAC3NzaC1lZDI1NTE5AAAAIDM2LOsc8SI85Kfi2BIEEQyZV9TTdSyqXfY8x3W25tLJ", "ansible_ssh_host_key_ed25519_public_keytype": "ssh-ed25519", "ansible_local": {}, "ansible_hostnqn": "", "ansible_dns": {"nameservers": ["127.0.0.53"], "options": {"edns0": true, "trust-ad": true}, "search": ["home.arpa"]}, "ansible_fibre_channel_wwn": [], "ansible_system_capabilities_enforced": "False", "ansible_system_capabilities": [], "ansible_processor": ["0", "GenuineIntel", "Intel(R) Core(TM) i5-6300U CPU @ 2.40GHz"], "ansible_processor_count": 1, "ansible_processor_cores": 1, "ansible_processor_threads_per_core": 1, "ansible_processor_vcpus": 1, "ansible_processor_nproc": 1, "ansible_memtotal_mb": 939, "ansible_memfree_mb": 179, "ansible_swaptotal_mb": 938, "ansible_swapfree_mb": 872, "ansible_memory_mb": {"real": {"total": 939, "used": 760, "free": 179}, "nocache": {"free": 549, "used": 390}, "swap": {"total": 938, "free": 872, "used": 66, "cached": 0}}, "ansible_bios_date": "07/22/2020", "ansible_bios_vendor": "Phoenix Technologies LTD", "ansible_bios_version": "6.00", "ansible_board_asset_tag": "NA", "ansible_board_name": "440BX Desktop Reference Platform", "ansible_board_serial": "None", "ansible_board_vendor": "Intel Corporation", "ansible_board_version": "None", "ansible_chassis_asset_tag": "No Asset Tag", "ansible_chassis_serial": "None", "ansible_chassis_vendor": "No Enclosure", "ansible_chassis_version": "N/A", "ansible_form_factor": "Other", "ansible_product_name": "VMware Virtual Platform", "ansible_product_serial": "VMware-56 4d 1d 4a de e0 6a 61-cd fd f8 d6 89 75 67 d5", "ansible_product_uuid": "4a1d4d56-e0de-616a-cdfd-f8d6897567d5", "ansible_product_version": "None", "ansible_system_vendor": "VMware, Inc.", "ansible_devices": {"sr0": {"virtual": 1, "links": {"ids": ["ata-VMware_Virtual_IDE_CDROM_Drive_10000000000000000001"], "uuids": ["2021-04-23-10-53-02-00"], "labels": ["Fedora-S-dvd-x86_64-34"], "masters": []}, "vendor": "NECVMWar", "model": "VMware IDE CDR10", "sas_address": null, "sas_device_handle": null, "removable": "1", "support_discard": "0", "partitions": {}, "rotational": "1", "scheduler_mode": "bfq", "sectors": "4104192", "sectorsize": "2048", "size": "1.96 GB", "host": "IDE interface: Intel Corporation 82371AB/EB/MB PIIX4 IDE (rev 01)", "holders": []}, "dm-0": {"virtual": 1, "links": {"ids": ["dm-name-fedora_fedora-root", "dm-uuid-LVM-7jxwNZwbIlT2zhLQNYkDdk5ad9hy6cIJvtQTmfOhtO9ncZWdK8MBGzy4jFy4nHJx"], "uuids": ["a7edf097-e290-4469-ae87-078dca1d240a"], "labels": [], "masters": []}, "vendor": null, "model": null, "sas_address": null, "sas_device_handle": null, "removable": "0", "support_discard": "0", "partitions": {}, "rotational": "1", "scheduler_mode": "", "sectors": "18866176", "sectorsize": "512", "size": "9.00 GB", "host": "", "holders": []}, "sda": {"virtual": 1, "links": {"ids": [], "uuids": [], "labels": [], "masters": []}, "vendor": "VMware,", "model": "VMware Virtual S", "sas_address": null, "sas_device_handle": null, "removable": "0", "support_discard": "0", "partitions": {"sda2": {"links": {"ids": ["lvm-pv-uuid-rjeu7p-tab2-MqWk-DYUq-DzON-SxYX-vHpnuo"], "uuids": [], "labels": [], "masters": ["dm-0"]}, "start": "2099200", "sectors": "18872320", "sectorsize": 512, "size": "9.00 GB", "uuid": null, "holders": ["fedora_fedora-root"]}, "sda1": {"links": {"ids": [], "uuids": ["1546d3cb-7f60-410c-866d-47566ca5fd6b"], "labels": [], "masters": []}, "start": "2048", "sectors": "2097152", "sectorsize": 512, "size": "1.00 GB", "uuid": "1546d3cb-7f60-410c-866d-47566ca5fd6b", "holders": []}}, "rotational": "1", "scheduler_mode": "bfq", "sectors": "20971520", "sectorsize": "512", "size": "10.00 GB", "host": "SCSI storage controller: Broadcom / LSI 53c1030 PCI-X Fusion-MPT Dual Ultra320 SCSI (rev 01)", "holders": []}, "zram0": {"virtual": 1, "links": {"ids": [], "uuids": [], "labels": [], "masters": []}, "vendor": null, "model": null, "sas_address": null, "sas_device_handle": null, "removable": "0", "support_discard": "4096", "partitions": {}, "rotational": "0", "scheduler_mode": "", "sectors": "1923072", "sectorsize": "4096", "size": "939.00 MB", "host": "", "holders": []}}, "ansible_device_links": {"ids": {"dm-0": ["dm-name-fedora_fedora-root", "dm-uuid-LVM-7jxwNZwbIlT2zhLQNYkDdk5ad9hy6cIJvtQTmfOhtO9ncZWdK8MBGzy4jFy4nHJx"], "sda2": ["lvm-pv-uuid-rjeu7p-tab2-MqWk-DYUq-DzON-SxYX-vHpnuo"], "sr0": ["ata-VMware_Virtual_IDE_CDROM_Drive_10000000000000000001"]}, "uuids": {"sr0": ["2021-04-23-10-53-02-00"], "dm-0": ["a7edf097-e290-4469-ae87-078dca1d240a"], "sda1": ["1546d3cb-7f60-410c-866d-47566ca5fd6b"]}, "labels": {"sr0": ["Fedora-S-dvd-x86_64-34"]}, "masters": {"sda2": ["dm-0"]}}, "ansible_uptime_seconds": 35414, "ansible_lvm": {"lvs": {"root": {"size_g": "9.00", "vg": "fedora_fedora"}}, "vgs": {"fedora_fedora": {"size_g": "9.00", "free_g": "0", "num_lvs": "1", "num_pvs": "1"}}, "pvs": {"/dev/sda2": {"size_g": "9.00", "free_g": "0", "vg": "fedora_fedora"}}}, "ansible_mounts": [{"mount": "/", "device": "/dev/mapper/fedora_fedora-root", "fstype": "xfs", "options": "rw,seclabel,relatime,attr2,inode64,logbufs=8,logbsize=32k,noquota", "size_total": 9648996352, "size_available": 7087497216, "block_size": 4096, "block_total": 2355712, "block_available": 1730346, "block_used": 625366, "inode_total": 4716544, "inode_available": 4650541, "inode_used": 66003, "uuid": "a7edf097-e290-4469-ae87-078dca1d240a"}, {"mount": "/boot", "device": "/dev/sda1", "fstype": "xfs", "options": "rw,seclabel,relatime,attr2,inode64,logbufs=8,logbsize=32k,noquota", "size_total": 1063256064, "size_available": 867901440, "block_size": 4096, "block_total": 259584, "block_available": 211890, "block_used": 47694, "inode_total": 524288, "inode_available": 523932, "inode_used": 356, "uuid": "1546d3cb-7f60-410c-866d-47566ca5fd6b"}], "ansible_date_time": {"year": "2021", "month": "10", "weekday": "Monday", "weekday_number": "1", "weeknumber": "42", "day": "18", "hour": "13", "minute": "08", "second": "21", "epoch": "1634555301", "date": "2021-10-18", "time": "13:08:21", "iso8601_micro": "2021-10-18T11:08:21.721713Z", "iso8601": "2021-10-18T11:08:21Z", "iso8601_basic": "20211018T130821721713", "iso8601_basic_short": "20211018T130821", "tz": "CEST", "tz_dst": "CEST", "tz_offset": "+0200"}, "ansible_cmdline": {"BOOT_IMAGE": "(hd0,msdos1)/vmlinuz-5.11.12-300.fc34.x86_64", "root": "/dev/mapper/fedora_fedora-root", "ro": true, "rd.lvm.lv": "fedora_fedora/root", "rhgb": true, "quiet": true}, "ansible_proc_cmdline": {"BOOT_IMAGE": "(hd0,msdos1)/vmlinuz-5.11.12-300.fc34.x86_64", "root": "/dev/mapper/fedora_fedora-root", "ro": true, "rd.lvm.lv": "fedora_fedora/root", "rhgb": true, "quiet": true}, "ansible_interfaces": ["lo", "ens32.1", "ens32"], "ansible_lo": {"device": "lo", "mtu": 65536, "active": true, "type": "loopback", "promisc": false, "ipv4": {"address": "127.0.0.1", "broadcast": "", "netmask": "255.0.0.0", "network": "127.0.0.0"}, "ipv6": [{"address": "::1", "prefix": "128", "scope": "host"}], "features": {"rx_checksumming": "on [fixed]", "tx_checksumming": "on", "tx_checksum_ipv4": "off [fixed]", "tx_checksum_ip_generic": "on [fixed]", "tx_checksum_ipv6": "off [fixed]", "tx_checksum_fcoe_crc": "off [fixed]", "tx_checksum_sctp": "on [fixed]", "scatter_gather": "on", "tx_scatter_gather": "on [fixed]", "tx_scatter_gather_fraglist": "on [fixed]", "tcp_segmentation_offload": "on", "tx_tcp_segmentation": "on", "tx_tcp_ecn_segmentation": "on", "tx_tcp_mangleid_segmentation": "on", "tx_tcp6_segmentation": "on", "generic_segmentation_offload": "on", "generic_receive_offload": "on", "large_receive_offload": "off [fixed]", "rx_vlan_offload": "off [fixed]", "tx_vlan_offload": "off [fixed]", "ntuple_filters": "off [fixed]", "receive_hashing": "off [fixed]", "highdma": "on [fixed]", "rx_vlan_filter": "off [fixed]", "vlan_challenged": "on [fixed]", "tx_lockless": "on [fixed]", "netns_local": "on [fixed]", "tx_gso_robust": "off [fixed]", "tx_fcoe_segmentation": "off [fixed]", "tx_gre_segmentation": "off [fixed]", "tx_gre_csum_segmentation": "off [fixed]", "tx_ipxip4_segmentation": "off [fixed]", "tx_ipxip6_segmentation": "off [fixed]", "tx_udp_tnl_segmentation": "off [fixed]", "tx_udp_tnl_csum_segmentation": "off [fixed]", "tx_gso_partial": "off [fixed]", "tx_tunnel_remcsum_segmentation": "off [fixed]", "tx_sctp_segmentation": "on", "tx_esp_segmentation": "off [fixed]", "tx_udp_segmentation": "on", "tx_gso_list": "on", "fcoe_mtu": "off [fixed]", "tx_nocache_copy": "off [fixed]", "loopback": "on [fixed]", "rx_fcs": "off [fixed]", "rx_all": "off [fixed]", "tx_vlan_stag_hw_insert": "off [fixed]", "rx_vlan_stag_hw_parse": "off [fixed]", "rx_vlan_stag_filter": "off [fixed]", "l2_fwd_offload": "off [fixed]", "hw_tc_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "esp_tx_csum_hw_offload": "off [fixed]", "rx_udp_tunnel_port_offload": "off [fixed]", "tls_hw_tx_offload": "off [fixed]", "tls_hw_rx_offload": "off [fixed]", "rx_gro_hw": "off [fixed]", "tls_hw_record": "off [fixed]", "rx_gro_list": "off", "macsec_hw_offload": "off [fixed]"}, "timestamping": [], "hw_timestamp_filters": []}, "ansible_ens32.1": {"device": "ens32.1", "macaddress": "00:0c:29:75:67:d5", "mtu": 1500, "active": true, "type": "ether", "speed": 1000, "promisc": false, "ipv4": {"address": "172.20.254.1", "broadcast": "172.20.254.255", "netmask": "255.255.255.0", "network": "172.20.254.0"}, "ipv6": [{"address": "fe80::e96f:61b:c678:aeb1", "prefix": "64", "scope": "link"}], "features": {"rx_checksumming": "off [fixed]", "tx_checksumming": "on", "tx_checksum_ipv4": "off [fixed]", "tx_checksum_ip_generic": "on", "tx_checksum_ipv6": "off [fixed]", "tx_checksum_fcoe_crc": "off [requested on]", "tx_checksum_sctp": "off [requested on]", "scatter_gather": "on", "tx_scatter_gather": "on", "tx_scatter_gather_fraglist": "off [requested on]", "tcp_segmentation_offload": "on", "tx_tcp_segmentation": "on", "tx_tcp_ecn_segmentation": "on", "tx_tcp_mangleid_segmentation": "on", "tx_tcp6_segmentation": "on", "generic_segmentation_offload": "on", "generic_receive_offload": "on", "large_receive_offload": "off [fixed]", "rx_vlan_offload": "off [fixed]", "tx_vlan_offload": "off [fixed]", "ntuple_filters": "off [fixed]", "receive_hashing": "off [fixed]", "highdma": "off [requested on]", "rx_vlan_filter": "off [fixed]", "vlan_challenged": "off [fixed]", "tx_lockless": "on [fixed]", "netns_local": "off [fixed]", "tx_gso_robust": "off [fixed]", "tx_fcoe_segmentation": "off [requested on]", "tx_gre_segmentation": "off [requested on]", "tx_gre_csum_segmentation": "off [requested on]", "tx_ipxip4_segmentation": "off [requested on]", "tx_ipxip6_segmentation": "off [requested on]", "tx_udp_tnl_segmentation": "off [requested on]", "tx_udp_tnl_csum_segmentation": "off [requested on]", "tx_gso_partial": "off [fixed]", "tx_tunnel_remcsum_segmentation": "off [fixed]", "tx_sctp_segmentation": "on", "tx_esp_segmentation": "off [fixed]", "tx_udp_segmentation": "on", "tx_gso_list": "on", "fcoe_mtu": "off [requested on]", "tx_nocache_copy": "off", "loopback": "off [fixed]", "rx_fcs": "off [fixed]", "rx_all": "off [fixed]", "tx_vlan_stag_hw_insert": "off [fixed]", "rx_vlan_stag_hw_parse": "off [fixed]", "rx_vlan_stag_filter": "off [fixed]", "l2_fwd_offload": "off [fixed]", "hw_tc_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "esp_tx_csum_hw_offload": "off [fixed]", "rx_udp_tunnel_port_offload": "off [fixed]", "tls_hw_tx_offload": "off [fixed]", "tls_hw_rx_offload": "off [fixed]", "rx_gro_hw": "off [fixed]", "tls_hw_record": "off [fixed]", "rx_gro_list": "off", "macsec_hw_offload": "off [fixed]"}, "timestamping": [], "hw_timestamp_filters": []}, "ansible_ens32": {"device": "ens32", "macaddress": "00:0c:29:75:67:d5", "mtu": 1500, "active": true, "module": "e1000", "type": "ether", "pciid": "0000:02:00.0", "speed": 1000, "promisc": false, "ipv4": {"address": "172.22.22.5", "broadcast": "172.22.22.255", "netmask": "255.255.255.0", "network": "172.22.22.0"}, "ipv6": [{"address": "fe80::20c:29ff:fe75:67d5", "prefix": "64", "scope": "link"}], "features": {"rx_checksumming": "off", "tx_checksumming": "on", "tx_checksum_ipv4": "off [fixed]", "tx_checksum_ip_generic": "on", "tx_checksum_ipv6": "off [fixed]", "tx_checksum_fcoe_crc": "off [fixed]", "tx_checksum_sctp": "off [fixed]", "scatter_gather": "on", "tx_scatter_gather": "on", "tx_scatter_gather_fraglist": "off [fixed]", "tcp_segmentation_offload": "on", "tx_tcp_segmentation": "on", "tx_tcp_ecn_segmentation": "off [fixed]", "tx_tcp_mangleid_segmentation": "off", "tx_tcp6_segmentation": "off [fixed]", "generic_segmentation_offload": "on", "generic_receive_offload": "on", "large_receive_offload": "off [fixed]", "rx_vlan_offload": "on", "tx_vlan_offload": "on [fixed]", "ntuple_filters": "off [fixed]", "receive_hashing": "off [fixed]", "highdma": "off [fixed]", "rx_vlan_filter": "on [fixed]", "vlan_challenged": "off [fixed]", "tx_lockless": "off [fixed]", "netns_local": "off [fixed]", "tx_gso_robust": "off [fixed]", "tx_fcoe_segmentation": "off [fixed]", "tx_gre_segmentation": "off [fixed]", "tx_gre_csum_segmentation": "off [fixed]", "tx_ipxip4_segmentation": "off [fixed]", "tx_ipxip6_segmentation": "off [fixed]", "tx_udp_tnl_segmentation": "off [fixed]", "tx_udp_tnl_csum_segmentation": "off [fixed]", "tx_gso_partial": "off [fixed]", "tx_tunnel_remcsum_segmentation": "off [fixed]", "tx_sctp_segmentation": "off [fixed]", "tx_esp_segmentation": "off [fixed]", "tx_udp_segmentation": "off [fixed]", "tx_gso_list": "off [fixed]", "fcoe_mtu": "off [fixed]", "tx_nocache_copy": "off", "loopback": "off [fixed]", "rx_fcs": "off", "rx_all": "off", "tx_vlan_stag_hw_insert": "off [fixed]", "rx_vlan_stag_hw_parse": "off [fixed]", "rx_vlan_stag_filter": "off [fixed]", "l2_fwd_offload": "off [fixed]", "hw_tc_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "esp_tx_csum_hw_offload": "off [fixed]", "rx_udp_tunnel_port_offload": "off [fixed]", "tls_hw_tx_offload": "off [fixed]", "tls_hw_rx_offload": "off [fixed]", "rx_gro_hw": "off [fixed]", "tls_hw_record": "off [fixed]", "rx_gro_list": "off", "macsec_hw_offload": "off [fixed]"}, "timestamping": [], "hw_timestamp_filters": []}, "ansible_default_ipv4": {"gateway": "172.22.22.1", "interface": "ens32", "address": "172.22.22.5", "broadcast": "172.22.22.255", "netmask": "255.255.255.0", "network": "172.22.22.0", "macaddress": "00:0c:29:75:67:d5", "mtu": 1500, "type": "ether", "alias": "ens32"}, "ansible_default_ipv6": {}, "ansible_all_ipv4_addresses": ["172.20.254.1", "172.22.22.5"], "ansible_all_ipv6_addresses": ["fe80::e96f:61b:c678:aeb1", "fe80::20c:29ff:fe75:67d5"], "ansible_selinux_python_present": true, "ansible_selinux": {"status": "enabled", "policyvers": 33, "config_mode": "enforcing", "mode": "enforcing", "type": "targeted"}, "ansible_python": {"version": {"major": 3, "minor": 9, "micro": 2, "releaselevel": "final", "serial": 0}, "version_info": [3, 9, 2, "final", 0], "executable": "/usr/bin/python3", "has_sslcontext": true, "type": "cpython"}, "ansible_fips": false, "ansible_env": {"SHELL": "/bin/bash", "SUDO_GID": "1000", "SUDO_COMMAND": "/bin/sh -c echo BECOME-SUCCESS-svesokmkirbulnsaisiohbofldesmhcq ; /usr/bin/python3 /home/k3s1/.ansible/tmp/ansible-tmp-1634555298.2977893-34177-187879632480528/AnsiballZ_setup.py", "SUDO_USER": "k3s1", "PWD": "/home/k3s1", "LOGNAME": "root", "HOME": "/root", "LANG": "en_US.UTF-8", "LS_COLORS": "rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=01;37;41:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=01;36:*.au=01;36:*.flac=01;36:*.m4a=01;36:*.mid=01;36:*.midi=01;36:*.mka=01;36:*.mp3=01;36:*.mpc=01;36:*.ogg=01;36:*.ra=01;36:*.wav=01;36:*.oga=01;36:*.opus=01;36:*.spx=01;36:*.xspf=01;36:", "TERM": "xterm-256color", "USER": "root", "SHLVL": "0", "PATH": "/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/var/lib/snapd/snap/bin", "SUDO_UID": "1000", "MAIL": "/var/mail/root", "_": "/usr/bin/python3"}, "ansible_pkg_mgr": "dnf", "ansible_service_mgr": "systemd", "gather_subset": ["all"], "module_setup": true}, "invocation": {"module_args": {"gather_subset": ["all"], "gather_timeout": 10, "filter": [], "fact_path": "/etc/ansible/facts.d"}}}\r\n', b'Shared connection to 172.20.254.1 closed.\r\n')
2021-10-18 13:08:22,082 p=34177 u=eduardgevorkyan n=ansible | <172.20.254.1> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:08:22,083 p=34178 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'\r\n\r\n{"ansible_facts": {"ansible_dns": {"nameservers": ["127.0.0.53"], "options": {"edns0": true, "trust-ad": true}, "search": ["home.arpa"]}, "ansible_is_chroot": false, "ansible_hostnqn": "", "ansible_system": "Linux", "ansible_kernel": "5.11.12-300.fc34.x86_64", "ansible_kernel_version": "#1 SMP Wed Apr 7 16:31:13 UTC 2021", "ansible_machine": "x86_64", "ansible_python_version": "3.9.2", "ansible_fqdn": "k3s2", "ansible_hostname": "k3s2", "ansible_nodename": "k3s2", "ansible_domain": "", "ansible_userspace_bits": "64", "ansible_architecture": "x86_64", "ansible_userspace_architecture": "x86_64", "ansible_machine_id": "250bb7177185479eba03735879fbc0d3", "ansible_user_id": "root", "ansible_user_uid": 0, "ansible_user_gid": 0, "ansible_user_gecos": "root", "ansible_user_dir": "/root", "ansible_user_shell": "/bin/bash", "ansible_real_user_id": 0, "ansible_effective_user_id": 0, "ansible_real_group_id": 0, "ansible_effective_group_id": 0, "ansible_system_capabilities_enforced": "False", "ansible_system_capabilities": [], "ansible_ssh_host_key_rsa_public": "AAAAB3NzaC1yc2EAAAADAQABAAABgQDrhtuduwUtaRWuHMtiOPZYKjlKJbjaqmBbcfPqxdpzbXlExXpVFnaZOJF0l69GGzu3AJxkgu2ajhbGMe8k/q14iQeaGQe+tXe0la4SpCrlvZ8xXw+pCwwjEhi6mrsJzXpqZxstIsnO5KDaYmNA4vgfh+Uf6JnTgCuBMEjWp4zgaepo1QC1Natx74KpO3bKgwGj3atv6nTsYZLgM1D63CSzeIqfOEX6EjEv8KndikEI4Leqiu181l7mLQvaypBqpg6yIzXrE+pLhu/SkyJztuZQE6O6RFtuCDC0eLCVIwW+b8LbsKut4x777Ox/HQbSj7DScJHLpWUWN2OUMcCx+bnp7BRPuHfIm0VdgHyc5uUuk/LW5G47OLpFMCWzf1BcVNhwI3q3aHte41M81dL5hSXuHp0MlalMK5IQI4n0nwO3JhqR/h2hshgPIoV99VXal7S15YObidnVHwLObLxBe18Vr3eyGWp7QuDIybKVOWkJ2vV6ckfUZpkGDfifHuBRZ5U=", "ansible_ssh_host_key_rsa_public_keytype": "ssh-rsa", "ansible_ssh_host_key_ecdsa_public": "AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBFSgyTOjq69TAgxUdV0gihLbk5kqzlwoY/IfYGC/h108JQdrDse8s6LvGgb37ZJcPdPovnCUJUsUrJOyeifKQO0=", "ansible_ssh_host_key_ecdsa_public_keytype": "ecdsa-sha2-nistp256", "ansible_ssh_host_key_ed25519_public": "AAAAC3NzaC1lZDI1NTE5AAAAIDM2LOsc8SI85Kfi2BIEEQyZV9TTdSyqXfY8x3W25tLJ", "ansible_ssh_host_key_ed25519_public_keytype": "ssh-ed25519", "ansible_virtualization_role": "guest", "ansible_virtualization_type": "VMware", "ansible_virtualization_tech_guest": ["VMware"], "ansible_virtualization_tech_host": [], "ansible_fibre_channel_wwn": [], "ansible_fips": false, "ansible_distribution": "Fedora", "ansible_distribution_release": "", "ansible_distribution_version": "34", "ansible_distribution_major_version": "34", "ansible_distribution_file_path": "/etc/redhat-release", "ansible_distribution_file_variety": "RedHat", "ansible_distribution_file_parsed": true, "ansible_os_family": "RedHat", "ansible_date_time": {"year": "2021", "month": "10", "weekday": "Monday", "weekday_number": "1", "weeknumber": "42", "day": "18", "hour": "13", "minute": "08", "second": "21", "epoch": "1634555301", "date": "2021-10-18", "time": "13:08:21", "iso8601_micro": "2021-10-18T11:08:21.308012Z", "iso8601": "2021-10-18T11:08:21Z", "iso8601_basic": "20211018T130821308012", "iso8601_basic_short": "20211018T130821", "tz": "CEST", "tz_dst": "CEST", "tz_offset": "+0200"}, "ansible_cmdline": {"BOOT_IMAGE": "(hd0,msdos1)/vmlinuz-5.11.12-300.fc34.x86_64", "root": "/dev/mapper/fedora_fedora-root", "ro": true, "rd.lvm.lv": "fedora_fedora/root", "rhgb": true, "quiet": true}, "ansible_proc_cmdline": {"BOOT_IMAGE": "(hd0,msdos1)/vmlinuz-5.11.12-300.fc34.x86_64", "root": "/dev/mapper/fedora_fedora-root", "ro": true, "rd.lvm.lv": "fedora_fedora/root", "rhgb": true, "quiet": true}, "ansible_selinux_python_present": true, "ansible_selinux": {"status": "enabled", "policyvers": 33, "config_mode": "enforcing", "mode": "enforcing", "type": "targeted"}, "ansible_iscsi_iqn": "", "ansible_env": {"SHELL": "/bin/bash", "SUDO_GID": "1000", "SUDO_COMMAND": "/bin/sh -c echo BECOME-SUCCESS-yjfqnajvowpeexoogjiqaqrpohhkuybs ; /usr/bin/python3 /home/k3s1/.ansible/tmp/ansible-tmp-1634555298.4797575-34178-48792241764785/AnsiballZ_setup.py", "SUDO_USER": "k3s1", "PWD": "/home/k3s1", "LOGNAME": "root", "HOME": "/root", "LANG": "en_US.UTF-8", "LS_COLORS": "rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=01;37;41:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=01;36:*.au=01;36:*.flac=01;36:*.m4a=01;36:*.mid=01;36:*.midi=01;36:*.mka=01;36:*.mp3=01;36:*.mpc=01;36:*.ogg=01;36:*.ra=01;36:*.wav=01;36:*.oga=01;36:*.opus=01;36:*.spx=01;36:*.xspf=01;36:", "TERM": "xterm-256color", "USER": "root", "SHLVL": "0", "PATH": "/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/var/lib/snapd/snap/bin", "SUDO_UID": "1000", "MAIL": "/var/mail/root", "_": "/usr/bin/python3"}, "ansible_python": {"version": {"major": 3, "minor": 9, "micro": 2, "releaselevel": "final", "serial": 0}, "version_info": [3, 9, 2, "final", 0], "executable": "/usr/bin/python3", "has_sslcontext": true, "type": "cpython"}, "ansible_processor": ["0", "GenuineIntel", "Intel(R) Core(TM) i5-6300U CPU @ 2.40GHz"], "ansible_processor_count": 1, "ansible_processor_cores": 1, "ansible_processor_threads_per_core": 1, "ansible_processor_vcpus": 1, "ansible_processor_nproc": 1, "ansible_memtotal_mb": 939, "ansible_memfree_mb": 184, "ansible_swaptotal_mb": 938, "ansible_swapfree_mb": 863, "ansible_memory_mb": {"real": {"total": 939, "used": 755, "free": 184}, "nocache": {"free": 553, "used": 386}, "swap": {"total": 938, "free": 863, "used": 75, "cached": 1}}, "ansible_bios_date": "07/22/2020", "ansible_bios_vendor": "Phoenix Technologies LTD", "ansible_bios_version": "6.00", "ansible_board_asset_tag": "NA", "ansible_board_name": "440BX Desktop Reference Platform", "ansible_board_serial": "None", "ansible_board_vendor": "Intel Corporation", "ansible_board_version": "None", "ansible_chassis_asset_tag": "No Asset Tag", "ansible_chassis_serial": "None", "ansible_chassis_vendor": "No Enclosure", "ansible_chassis_version": "N/A", "ansible_form_factor": "Other", "ansible_product_name": "VMware Virtual Platform", "ansible_product_serial": "VMware-56 4d fc bf ed 58 12 85-64 38 93 2d b6 b1 fd 9b", "ansible_product_uuid": "bffc4d56-58ed-8512-6438-932db6b1fd9b", "ansible_product_version": "None", "ansible_system_vendor": "VMware, Inc.", "ansible_devices": {"sr0": {"virtual": 1, "links": {"ids": ["ata-VMware_Virtual_IDE_CDROM_Drive_10000000000000000001"], "uuids": ["2021-04-23-10-53-02-00"], "labels": ["Fedora-S-dvd-x86_64-34"], "masters": []}, "vendor": "NECVMWar", "model": "VMware IDE CDR10", "sas_address": null, "sas_device_handle": null, "removable": "1", "support_discard": "0", "partitions": {}, "rotational": "1", "scheduler_mode": "bfq", "sectors": "4104192", "sectorsize": "2048", "size": "1.96 GB", "host": "IDE interface: Intel Corporation 82371AB/EB/MB PIIX4 IDE (rev 01)", "holders": []}, "dm-0": {"virtual": 1, "links": {"ids": ["dm-name-fedora_fedora-root", "dm-uuid-LVM-7jxwNZwbIlT2zhLQNYkDdk5ad9hy6cIJvtQTmfOhtO9ncZWdK8MBGzy4jFy4nHJx"], "uuids": ["a7edf097-e290-4469-ae87-078dca1d240a"], "labels": [], "masters": []}, "vendor": null, "model": null, "sas_address": null, "sas_device_handle": null, "removable": "0", "support_discard": "0", "partitions": {}, "rotational": "1", "scheduler_mode": "", "sectors": "18866176", "sectorsize": "512", "size": "9.00 GB", "host": "", "holders": []}, "sda": {"virtual": 1, "links": {"ids": [], "uuids": [], "labels": [], "masters": []}, "vendor": "VMware,", "model": "VMware Virtual S", "sas_address": null, "sas_device_handle": null, "removable": "0", "support_discard": "0", "partitions": {"sda2": {"links": {"ids": ["lvm-pv-uuid-rjeu7p-tab2-MqWk-DYUq-DzON-SxYX-vHpnuo"], "uuids": [], "labels": [], "masters": ["dm-0"]}, "start": "2099200", "sectors": "18872320", "sectorsize": 512, "size": "9.00 GB", "uuid": null, "holders": ["fedora_fedora-root"]}, "sda1": {"links": {"ids": [], "uuids": ["1546d3cb-7f60-410c-866d-47566ca5fd6b"], "labels": [], "masters": []}, "start": "2048", "sectors": "2097152", "sectorsize": 512, "size": "1.00 GB", "uuid": "1546d3cb-7f60-410c-866d-47566ca5fd6b", "holders": []}}, "rotational": "1", "scheduler_mode": "bfq", "sectors": "20971520", "sectorsize": "512", "size": "10.00 GB", "host": "SCSI storage controller: Broadcom / LSI 53c1030 PCI-X Fusion-MPT Dual Ultra320 SCSI (rev 01)", "holders": []}, "zram0": {"virtual": 1, "links": {"ids": [], "uuids": [], "labels": [], "masters": []}, "vendor": null, "model": null, "sas_address": null, "sas_device_handle": null, "removable": "0", "support_discard": "4096", "partitions": {}, "rotational": "0", "scheduler_mode": "", "sectors": "1923072", "sectorsize": "4096", "size": "939.00 MB", "host": "", "holders": []}}, "ansible_device_links": {"ids": {"dm-0": ["dm-name-fedora_fedora-root", "dm-uuid-LVM-7jxwNZwbIlT2zhLQNYkDdk5ad9hy6cIJvtQTmfOhtO9ncZWdK8MBGzy4jFy4nHJx"], "sda2": ["lvm-pv-uuid-rjeu7p-tab2-MqWk-DYUq-DzON-SxYX-vHpnuo"], "sr0": ["ata-VMware_Virtual_IDE_CDROM_Drive_10000000000000000001"]}, "uuids": {"sr0": ["2021-04-23-10-53-02-00"], "dm-0": ["a7edf097-e290-4469-ae87-078dca1d240a"], "sda1": ["1546d3cb-7f60-410c-866d-47566ca5fd6b"]}, "labels": {"sr0": ["Fedora-S-dvd-x86_64-34"]}, "masters": {"sda2": ["dm-0"]}}, "ansible_uptime_seconds": 35407, "ansible_lvm": {"lvs": {"root": {"size_g": "9.00", "vg": "fedora_fedora"}}, "vgs": {"fedora_fedora": {"size_g": "9.00", "free_g": "0", "num_lvs": "1", "num_pvs": "1"}}, "pvs": {"/dev/sda2": {"size_g": "9.00", "free_g": "0", "vg": "fedora_fedora"}}}, "ansible_mounts": [{"mount": "/", "device": "/dev/mapper/fedora_fedora-root", "fstype": "xfs", "options": "rw,seclabel,relatime,attr2,inode64,logbufs=8,logbsize=32k,noquota", "size_total": 9648996352, "size_available": 7087472640, "block_size": 4096, "block_total": 2355712, "block_available": 1730340, "block_used": 625372, "inode_total": 4716544, "inode_available": 4650540, "inode_used": 66004, "uuid": "a7edf097-e290-4469-ae87-078dca1d240a"}, {"mount": "/boot", "device": "/dev/sda1", "fstype": "xfs", "options": "rw,seclabel,relatime,attr2,inode64,logbufs=8,logbsize=32k,noquota", "size_total": 1063256064, "size_available": 867901440, "block_size": 4096, "block_total": 259584, "block_available": 211890, "block_used": 47694, "inode_total": 524288, "inode_available": 523932, "inode_used": 356, "uuid": "1546d3cb-7f60-410c-866d-47566ca5fd6b"}], "ansible_pkg_mgr": "dnf", "ansible_local": {}, "ansible_lsb": {}, "ansible_apparmor": {"status": "disabled"}, "ansible_interfaces": ["ens32.1", "ens32", "lo"], "ansible_ens32": {"device": "ens32", "macaddress": "00:0c:29:b1:fd:9b", "mtu": 1500, "active": true, "module": "e1000", "type": "ether", "pciid": "0000:02:00.0", "speed": 1000, "promisc": false, "ipv4": {"address": "172.22.22.6", "broadcast": "172.22.22.255", "netmask": "255.255.255.0", "network": "172.22.22.0"}, "ipv6": [{"address": "fe80::20c:29ff:feb1:fd9b", "prefix": "64", "scope": "link"}], "features": {"rx_checksumming": "off", "tx_checksumming": "on", "tx_checksum_ipv4": "off [fixed]", "tx_checksum_ip_generic": "on", "tx_checksum_ipv6": "off [fixed]", "tx_checksum_fcoe_crc": "off [fixed]", "tx_checksum_sctp": "off [fixed]", "scatter_gather": "on", "tx_scatter_gather": "on", "tx_scatter_gather_fraglist": "off [fixed]", "tcp_segmentation_offload": "on", "tx_tcp_segmentation": "on", "tx_tcp_ecn_segmentation": "off [fixed]", "tx_tcp_mangleid_segmentation": "off", "tx_tcp6_segmentation": "off [fixed]", "generic_segmentation_offload": "on", "generic_receive_offload": "on", "large_receive_offload": "off [fixed]", "rx_vlan_offload": "on", "tx_vlan_offload": "on [fixed]", "ntuple_filters": "off [fixed]", "receive_hashing": "off [fixed]", "highdma": "off [fixed]", "rx_vlan_filter": "on [fixed]", "vlan_challenged": "off [fixed]", "tx_lockless": "off [fixed]", "netns_local": "off [fixed]", "tx_gso_robust": "off [fixed]", "tx_fcoe_segmentation": "off [fixed]", "tx_gre_segmentation": "off [fixed]", "tx_gre_csum_segmentation": "off [fixed]", "tx_ipxip4_segmentation": "off [fixed]", "tx_ipxip6_segmentation": "off [fixed]", "tx_udp_tnl_segmentation": "off [fixed]", "tx_udp_tnl_csum_segmentation": "off [fixed]", "tx_gso_partial": "off [fixed]", "tx_tunnel_remcsum_segmentation": "off [fixed]", "tx_sctp_segmentation": "off [fixed]", "tx_esp_segmentation": "off [fixed]", "tx_udp_segmentation": "off [fixed]", "tx_gso_list": "off [fixed]", "fcoe_mtu": "off [fixed]", "tx_nocache_copy": "off", "loopback": "off [fixed]", "rx_fcs": "off", "rx_all": "off", "tx_vlan_stag_hw_insert": "off [fixed]", "rx_vlan_stag_hw_parse": "off [fixed]", "rx_vlan_stag_filter": "off [fixed]", "l2_fwd_offload": "off [fixed]", "hw_tc_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "esp_tx_csum_hw_offload": "off [fixed]", "rx_udp_tunnel_port_offload": "off [fixed]", "tls_hw_tx_offload": "off [fixed]", "tls_hw_rx_offload": "off [fixed]", "rx_gro_hw": "off [fixed]", "tls_hw_record": "off [fixed]", "rx_gro_list": "off", "macsec_hw_offload": "off [fixed]"}, "timestamping": [], "hw_timestamp_filters": []}, "ansible_lo": {"device": "lo", "mtu": 65536, "active": true, "type": "loopback", "promisc": false, "ipv4": {"address": "127.0.0.1", "broadcast": "", "netmask": "255.0.0.0", "network": "127.0.0.0"}, "ipv6": [{"address": "::1", "prefix": "128", "scope": "host"}], "features": {"rx_checksumming": "on [fixed]", "tx_checksumming": "on", "tx_checksum_ipv4": "off [fixed]", "tx_checksum_ip_generic": "on [fixed]", "tx_checksum_ipv6": "off [fixed]", "tx_checksum_fcoe_crc": "off [fixed]", "tx_checksum_sctp": "on [fixed]", "scatter_gather": "on", "tx_scatter_gather": "on [fixed]", "tx_scatter_gather_fraglist": "on [fixed]", "tcp_segmentation_offload": "on", "tx_tcp_segmentation": "on", "tx_tcp_ecn_segmentation": "on", "tx_tcp_mangleid_segmentation": "on", "tx_tcp6_segmentation": "on", "generic_segmentation_offload": "on", "generic_receive_offload": "on", "large_receive_offload": "off [fixed]", "rx_vlan_offload": "off [fixed]", "tx_vlan_offload": "off [fixed]", "ntuple_filters": "off [fixed]", "receive_hashing": "off [fixed]", "highdma": "on [fixed]", "rx_vlan_filter": "off [fixed]", "vlan_challenged": "on [fixed]", "tx_lockless": "on [fixed]", "netns_local": "on [fixed]", "tx_gso_robust": "off [fixed]", "tx_fcoe_segmentation": "off [fixed]", "tx_gre_segmentation": "off [fixed]", "tx_gre_csum_segmentation": "off [fixed]", "tx_ipxip4_segmentation": "off [fixed]", "tx_ipxip6_segmentation": "off [fixed]", "tx_udp_tnl_segmentation": "off [fixed]", "tx_udp_tnl_csum_segmentation": "off [fixed]", "tx_gso_partial": "off [fixed]", "tx_tunnel_remcsum_segmentation": "off [fixed]", "tx_sctp_segmentation": "on", "tx_esp_segmentation": "off [fixed]", "tx_udp_segmentation": "on", "tx_gso_list": "on", "fcoe_mtu": "off [fixed]", "tx_nocache_copy": "off [fixed]", "loopback": "on [fixed]", "rx_fcs": "off [fixed]", "rx_all": "off [fixed]", "tx_vlan_stag_hw_insert": "off [fixed]", "rx_vlan_stag_hw_parse": "off [fixed]", "rx_vlan_stag_filter": "off [fixed]", "l2_fwd_offload": "off [fixed]", "hw_tc_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "esp_tx_csum_hw_offload": "off [fixed]", "rx_udp_tunnel_port_offload": "off [fixed]", "tls_hw_tx_offload": "off [fixed]", "tls_hw_rx_offload": "off [fixed]", "rx_gro_hw": "off [fixed]", "tls_hw_record": "off [fixed]", "rx_gro_list": "off", "macsec_hw_offload": "off [fixed]"}, "timestamping": [], "hw_timestamp_filters": []}, "ansible_ens32.1": {"device": "ens32.1", "macaddress": "00:0c:29:b1:fd:9b", "mtu": 1500, "active": true, "type": "ether", "speed": 1000, "promisc": false, "ipv4": {"address": "172.20.254.2", "broadcast": "172.20.254.255", "netmask": "255.255.255.0", "network": "172.20.254.0"}, "ipv6": [{"address": "fe80::516:a0f9:2e01:39c4", "prefix": "64", "scope": "link"}], "features": {"rx_checksumming": "off [fixed]", "tx_checksumming": "on", "tx_checksum_ipv4": "off [fixed]", "tx_checksum_ip_generic": "on", "tx_checksum_ipv6": "off [fixed]", "tx_checksum_fcoe_crc": "off [requested on]", "tx_checksum_sctp": "off [requested on]", "scatter_gather": "on", "tx_scatter_gather": "on", "tx_scatter_gather_fraglist": "off [requested on]", "tcp_segmentation_offload": "on", "tx_tcp_segmentation": "on", "tx_tcp_ecn_segmentation": "on", "tx_tcp_mangleid_segmentation": "on", "tx_tcp6_segmentation": "on", "generic_segmentation_offload": "on", "generic_receive_offload": "on", "large_receive_offload": "off [fixed]", "rx_vlan_offload": "off [fixed]", "tx_vlan_offload": "off [fixed]", "ntuple_filters": "off [fixed]", "receive_hashing": "off [fixed]", "highdma": "off [requested on]", "rx_vlan_filter": "off [fixed]", "vlan_challenged": "off [fixed]", "tx_lockless": "on [fixed]", "netns_local": "off [fixed]", "tx_gso_robust": "off [fixed]", "tx_fcoe_segmentation": "off [requested on]", "tx_gre_segmentation": "off [requested on]", "tx_gre_csum_segmentation": "off [requested on]", "tx_ipxip4_segmentation": "off [requested on]", "tx_ipxip6_segmentation": "off [requested on]", "tx_udp_tnl_segmentation": "off [requested on]", "tx_udp_tnl_csum_segmentation": "off [requested on]", "tx_gso_partial": "off [fixed]", "tx_tunnel_remcsum_segmentation": "off [fixed]", "tx_sctp_segmentation": "on", "tx_esp_segmentation": "off [fixed]", "tx_udp_segmentation": "on", "tx_gso_list": "on", "fcoe_mtu": "off [requested on]", "tx_nocache_copy": "off", "loopback": "off [fixed]", "rx_fcs": "off [fixed]", "rx_all": "off [fixed]", "tx_vlan_stag_hw_insert": "off [fixed]", "rx_vlan_stag_hw_parse": "off [fixed]", "rx_vlan_stag_filter": "off [fixed]", "l2_fwd_offload": "off [fixed]", "hw_tc_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "esp_tx_csum_hw_offload": "off [fixed]", "rx_udp_tunnel_port_offload": "off [fixed]", "tls_hw_tx_offload": "off [fixed]", "tls_hw_rx_offload": "off [fixed]", "rx_gro_hw": "off [fixed]", "tls_hw_record": "off [fixed]", "rx_gro_list": "off", "macsec_hw_offload": "off [fixed]"}, "timestamping": [], "hw_timestamp_filters": []}, "ansible_default_ipv4": {"gateway": "172.22.22.1", "interface": "ens32", "address": "172.22.22.6", "broadcast": "172.22.22.255", "netmask": "255.255.255.0", "network": "172.22.22.0", "macaddress": "00:0c:29:b1:fd:9b", "mtu": 1500, "type": "ether", "alias": "ens32"}, "ansible_default_ipv6": {}, "ansible_all_ipv4_addresses": ["172.22.22.6", "172.20.254.2"], "ansible_all_ipv6_addresses": ["fe80::20c:29ff:feb1:fd9b", "fe80::516:a0f9:2e01:39c4"], "ansible_service_mgr": "systemd", "gather_subset": ["all"], "module_setup": true}, "invocation": {"module_args": {"gather_subset": ["all"], "gather_timeout": 10, "filter": [], "fact_path": "/etc/ansible/facts.d"}}}\r\n', b'Shared connection to 172.20.254.2 closed.\r\n')
2021-10-18 13:08:22,086 p=34177 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e 172.20.254.1 '/bin/sh -c '"'"'rm -f -r /home/k3s1/.ansible/tmp/ansible-tmp-1634555298.2977893-34177-187879632480528/ > /dev/null 2>&1 && sleep 0'"'"''
2021-10-18 13:08:22,119 p=34178 u=eduardgevorkyan n=ansible | <172.20.254.2> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:08:22,128 p=34178 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 172.20.254.2 '/bin/sh -c '"'"'rm -f -r /home/k3s1/.ansible/tmp/ansible-tmp-1634555298.4797575-34178-48792241764785/ > /dev/null 2>&1 && sleep 0'"'"''
2021-10-18 13:08:22,199 p=34180 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'', b'')
2021-10-18 13:08:22,284 p=34177 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'', b'')
2021-10-18 13:08:22,300 p=34178 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'', b'')
2021-10-18 13:08:22,371 p=34173 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-18 13:08:22,448 p=34173 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-18 13:08:22,478 p=34173 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-18 13:08:22,543 p=34173 u=eduardgevorkyan n=ansible | META: ran handlers
2021-10-18 13:08:22,617 p=34173 u=eduardgevorkyan n=ansible | TASK [artem_shestakov.keepalived : Install Keepalived] ***********************************************************************************
2021-10-18 13:08:23,688 p=34173 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/artem_shestakov.keepalived/tasks/redhat.yml for k3s1, k3s2, k3s3
2021-10-18 13:08:23,714 p=34173 u=eduardgevorkyan n=ansible | TASK [artem_shestakov.keepalived : Install Keepalived] ***********************************************************************************
2021-10-18 13:08:23,784 p=34221 u=eduardgevorkyan n=ansible | <172.20.254.1> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:08:23,789 p=34221 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e 172.20.254.1 '/bin/sh -c '"'"'echo ~k3s1 && sleep 0'"'"''
2021-10-18 13:08:23,886 p=34222 u=eduardgevorkyan n=ansible | <172.20.254.2> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:08:23,894 p=34222 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 172.20.254.2 '/bin/sh -c '"'"'echo ~k3s1 && sleep 0'"'"''
2021-10-18 13:08:23,987 p=34221 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'/home/k3s1\n', b'')
2021-10-18 13:08:24,013 p=34221 u=eduardgevorkyan n=ansible | <172.20.254.1> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:08:24,019 p=34221 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e 172.20.254.1 '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/k3s1/.ansible/tmp `"&& mkdir "` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555304.002254-34221-257787883649827 `" && echo ansible-tmp-1634555304.002254-34221-257787883649827="` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555304.002254-34221-257787883649827 `" ) && sleep 0'"'"''
2021-10-18 13:08:24,107 p=34224 u=eduardgevorkyan n=ansible | <172.20.254.3> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:08:24,120 p=34224 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 172.20.254.3 '/bin/sh -c '"'"'echo ~k3s1 && sleep 0'"'"''
2021-10-18 13:08:24,194 p=34222 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'/home/k3s1\n', b'')
2021-10-18 13:08:24,197 p=34222 u=eduardgevorkyan n=ansible | <172.20.254.2> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:08:24,202 p=34222 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 172.20.254.2 '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/k3s1/.ansible/tmp `"&& mkdir "` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555304.195716-34222-7936170376339 `" && echo ansible-tmp-1634555304.195716-34222-7936170376339="` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555304.195716-34222-7936170376339 `" ) && sleep 0'"'"''
2021-10-18 13:08:24,279 p=34221 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'ansible-tmp-1634555304.002254-34221-257787883649827=/home/k3s1/.ansible/tmp/ansible-tmp-1634555304.002254-34221-257787883649827\n', b'')
2021-10-18 13:08:24,334 p=34224 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'/home/k3s1\n', b'')
2021-10-18 13:08:24,339 p=34224 u=eduardgevorkyan n=ansible | <172.20.254.3> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:08:24,361 p=34224 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 172.20.254.3 '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/k3s1/.ansible/tmp `"&& mkdir "` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555304.3384154-34224-23898596071322 `" && echo ansible-tmp-1634555304.3384154-34224-23898596071322="` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555304.3384154-34224-23898596071322 `" ) && sleep 0'"'"''
2021-10-18 13:08:24,406 p=34222 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'ansible-tmp-1634555304.195716-34222-7936170376339=/home/k3s1/.ansible/tmp/ansible-tmp-1634555304.195716-34222-7936170376339\n', b'')
2021-10-18 13:08:24,594 p=34224 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'ansible-tmp-1634555304.3384154-34224-23898596071322=/home/k3s1/.ansible/tmp/ansible-tmp-1634555304.3384154-34224-23898596071322\n', b'')
2021-10-18 13:08:24,929 p=34224 u=eduardgevorkyan n=ansible | Using module file /usr/local/lib/python3.9/site-packages/ansible/modules/dnf.py
2021-10-18 13:08:24,931 p=34222 u=eduardgevorkyan n=ansible | Using module file /usr/local/lib/python3.9/site-packages/ansible/modules/dnf.py
2021-10-18 13:08:24,933 p=34224 u=eduardgevorkyan n=ansible | <172.20.254.3> PUT /home/eduardgevorkyan/.ansible/tmp/ansible-local-341736yrf0svp/tmp9jd68cd4 TO /home/k3s1/.ansible/tmp/ansible-tmp-1634555304.3384154-34224-23898596071322/AnsiballZ_dnf.py
2021-10-18 13:08:24,932 p=34222 u=eduardgevorkyan n=ansible | <172.20.254.2> PUT /home/eduardgevorkyan/.ansible/tmp/ansible-local-341736yrf0svp/tmpd8v0pdxe TO /home/k3s1/.ansible/tmp/ansible-tmp-1634555304.195716-34222-7936170376339/AnsiballZ_dnf.py
2021-10-18 13:08:24,936 p=34221 u=eduardgevorkyan n=ansible | Using module file /usr/local/lib/python3.9/site-packages/ansible/modules/dnf.py
2021-10-18 13:08:24,938 p=34222 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 '[172.20.254.2]'
2021-10-18 13:08:24,939 p=34224 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 '[172.20.254.3]'
2021-10-18 13:08:24,944 p=34221 u=eduardgevorkyan n=ansible | <172.20.254.1> PUT /home/eduardgevorkyan/.ansible/tmp/ansible-local-341736yrf0svp/tmpiua2yy94 TO /home/k3s1/.ansible/tmp/ansible-tmp-1634555304.002254-34221-257787883649827/AnsiballZ_dnf.py
2021-10-18 13:08:24,951 p=34221 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e '[172.20.254.1]'
2021-10-18 13:08:25,351 p=34221 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'sftp> put /home/eduardgevorkyan/.ansible/tmp/ansible-local-341736yrf0svp/tmpiua2yy94 /home/k3s1/.ansible/tmp/ansible-tmp-1634555304.002254-34221-257787883649827/AnsiballZ_dnf.py\n', b'')
2021-10-18 13:08:25,353 p=34221 u=eduardgevorkyan n=ansible | <172.20.254.1> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:08:25,356 p=34221 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e 172.20.254.1 '/bin/sh -c '"'"'chmod u+x /home/k3s1/.ansible/tmp/ansible-tmp-1634555304.002254-34221-257787883649827/ /home/k3s1/.ansible/tmp/ansible-tmp-1634555304.002254-34221-257787883649827/AnsiballZ_dnf.py && sleep 0'"'"''
2021-10-18 13:08:25,374 p=34224 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'sftp> put /home/eduardgevorkyan/.ansible/tmp/ansible-local-341736yrf0svp/tmp9jd68cd4 /home/k3s1/.ansible/tmp/ansible-tmp-1634555304.3384154-34224-23898596071322/AnsiballZ_dnf.py\n', b'')
2021-10-18 13:08:25,375 p=34224 u=eduardgevorkyan n=ansible | <172.20.254.3> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:08:25,384 p=34224 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 172.20.254.3 '/bin/sh -c '"'"'chmod u+x /home/k3s1/.ansible/tmp/ansible-tmp-1634555304.3384154-34224-23898596071322/ /home/k3s1/.ansible/tmp/ansible-tmp-1634555304.3384154-34224-23898596071322/AnsiballZ_dnf.py && sleep 0'"'"''
2021-10-18 13:08:25,393 p=34222 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'sftp> put /home/eduardgevorkyan/.ansible/tmp/ansible-local-341736yrf0svp/tmpd8v0pdxe /home/k3s1/.ansible/tmp/ansible-tmp-1634555304.195716-34222-7936170376339/AnsiballZ_dnf.py\n', b'')
2021-10-18 13:08:25,394 p=34222 u=eduardgevorkyan n=ansible | <172.20.254.2> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:08:25,396 p=34222 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 172.20.254.2 '/bin/sh -c '"'"'chmod u+x /home/k3s1/.ansible/tmp/ansible-tmp-1634555304.195716-34222-7936170376339/ /home/k3s1/.ansible/tmp/ansible-tmp-1634555304.195716-34222-7936170376339/AnsiballZ_dnf.py && sleep 0'"'"''
2021-10-18 13:08:25,607 p=34221 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'', b'')
2021-10-18 13:08:25,610 p=34221 u=eduardgevorkyan n=ansible | <172.20.254.1> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:08:25,613 p=34221 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e -tt 172.20.254.1 '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-kzfsnxbipvxqnwfkmovyxlbrnntqigcw ; /usr/bin/python3 /home/k3s1/.ansible/tmp/ansible-tmp-1634555304.002254-34221-257787883649827/AnsiballZ_dnf.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
2021-10-18 13:08:25,641 p=34224 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'', b'')
2021-10-18 13:08:25,644 p=34222 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'', b'')
2021-10-18 13:08:25,645 p=34222 u=eduardgevorkyan n=ansible | <172.20.254.2> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:08:25,647 p=34224 u=eduardgevorkyan n=ansible | <172.20.254.3> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:08:25,650 p=34222 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 -tt 172.20.254.2 '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-iwdejapogfkbcytjdzwfemnpeeyiljld ; /usr/bin/python3 /home/k3s1/.ansible/tmp/ansible-tmp-1634555304.195716-34222-7936170376339/AnsiballZ_dnf.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
2021-10-18 13:08:25,657 p=34224 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 -tt 172.20.254.3 '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-zidrjjkqngcbeezcpjfzlpugubxleuuz ; /usr/bin/python3 /home/k3s1/.ansible/tmp/ansible-tmp-1634555304.3384154-34224-23898596071322/AnsiballZ_dnf.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
2021-10-18 13:08:25,964 p=34221 u=eduardgevorkyan n=ansible | Escalation succeeded
2021-10-18 13:08:25,968 p=34222 u=eduardgevorkyan n=ansible | Escalation succeeded
2021-10-18 13:08:25,984 p=34224 u=eduardgevorkyan n=ansible | Escalation succeeded
2021-10-18 13:08:34,205 p=34221 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'\r\n{"msg": "Nothing to do", "changed": false, "results": [], "rc": 0, "invocation": {"module_args": {"name": ["keepalived"], "state": "present", "allow_downgrade": false, "autoremove": false, "bugfix": false, "disable_gpg_check": false, "disable_plugin": [], "disablerepo": [], "download_only": false, "enable_plugin": [], "enablerepo": [], "exclude": [], "installroot": "/", "install_repoquery": true, "install_weak_deps": true, "security": false, "skip_broken": false, "update_cache": false, "update_only": false, "validate_certs": true, "lock_timeout": 30, "allowerasing": false, "nobest": false, "conf_file": null, "disable_excludes": null, "download_dir": null, "list": null, "releasever": null}}}\r\n', b'Shared connection to 172.20.254.1 closed.\r\n')
2021-10-18 13:08:34,206 p=34221 u=eduardgevorkyan n=ansible | <172.20.254.1> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:08:34,208 p=34221 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e 172.20.254.1 '/bin/sh -c '"'"'rm -f -r /home/k3s1/.ansible/tmp/ansible-tmp-1634555304.002254-34221-257787883649827/ > /dev/null 2>&1 && sleep 0'"'"''
2021-10-18 13:08:34,273 p=34224 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'\r\n{"msg": "Nothing to do", "changed": false, "results": [], "rc": 0, "invocation": {"module_args": {"name": ["keepalived"], "state": "present", "allow_downgrade": false, "autoremove": false, "bugfix": false, "disable_gpg_check": false, "disable_plugin": [], "disablerepo": [], "download_only": false, "enable_plugin": [], "enablerepo": [], "exclude": [], "installroot": "/", "install_repoquery": true, "install_weak_deps": true, "security": false, "skip_broken": false, "update_cache": false, "update_only": false, "validate_certs": true, "lock_timeout": 30, "allowerasing": false, "nobest": false, "conf_file": null, "disable_excludes": null, "download_dir": null, "list": null, "releasever": null}}}\r\n', b'Shared connection to 172.20.254.3 closed.\r\n')
2021-10-18 13:08:34,276 p=34224 u=eduardgevorkyan n=ansible | <172.20.254.3> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:08:34,294 p=34224 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 172.20.254.3 '/bin/sh -c '"'"'rm -f -r /home/k3s1/.ansible/tmp/ansible-tmp-1634555304.3384154-34224-23898596071322/ > /dev/null 2>&1 && sleep 0'"'"''
2021-10-18 13:08:34,354 p=34222 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'\r\n\r\n{"msg": "Nothing to do", "changed": false, "results": [], "rc": 0, "invocation": {"module_args": {"name": ["keepalived"], "state": "present", "allow_downgrade": false, "autoremove": false, "bugfix": false, "disable_gpg_check": false, "disable_plugin": [], "disablerepo": [], "download_only": false, "enable_plugin": [], "enablerepo": [], "exclude": [], "installroot": "/", "install_repoquery": true, "install_weak_deps": true, "security": false, "skip_broken": false, "update_cache": false, "update_only": false, "validate_certs": true, "lock_timeout": 30, "allowerasing": false, "nobest": false, "conf_file": null, "disable_excludes": null, "download_dir": null, "list": null, "releasever": null}}}\r\n', b'Shared connection to 172.20.254.2 closed.\r\n')
2021-10-18 13:08:34,358 p=34222 u=eduardgevorkyan n=ansible | <172.20.254.2> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:08:34,367 p=34222 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 172.20.254.2 '/bin/sh -c '"'"'rm -f -r /home/k3s1/.ansible/tmp/ansible-tmp-1634555304.195716-34222-7936170376339/ > /dev/null 2>&1 && sleep 0'"'"''
2021-10-18 13:08:34,396 p=34221 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'', b'')
2021-10-18 13:08:34,411 p=34173 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "allow_downgrade": false,
            "allowerasing": false,
            "autoremove": false,
            "bugfix": false,
            "conf_file": null,
            "disable_excludes": null,
            "disable_gpg_check": false,
            "disable_plugin": [],
            "disablerepo": [],
            "download_dir": null,
            "download_only": false,
            "enable_plugin": [],
            "enablerepo": [],
            "exclude": [],
            "install_repoquery": true,
            "install_weak_deps": true,
            "installroot": "/",
            "list": null,
            "lock_timeout": 30,
            "name": [
                "keepalived"
            ],
            "nobest": false,
            "releasever": null,
            "security": false,
            "skip_broken": false,
            "state": "present",
            "update_cache": false,
            "update_only": false,
            "validate_certs": true
        }
    },
    "msg": "Nothing to do",
    "rc": 0,
    "results": []
}
2021-10-18 13:08:34,535 p=34224 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'', b'')
2021-10-18 13:08:34,545 p=34173 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "allow_downgrade": false,
            "allowerasing": false,
            "autoremove": false,
            "bugfix": false,
            "conf_file": null,
            "disable_excludes": null,
            "disable_gpg_check": false,
            "disable_plugin": [],
            "disablerepo": [],
            "download_dir": null,
            "download_only": false,
            "enable_plugin": [],
            "enablerepo": [],
            "exclude": [],
            "install_repoquery": true,
            "install_weak_deps": true,
            "installroot": "/",
            "list": null,
            "lock_timeout": 30,
            "name": [
                "keepalived"
            ],
            "nobest": false,
            "releasever": null,
            "security": false,
            "skip_broken": false,
            "state": "present",
            "update_cache": false,
            "update_only": false,
            "validate_certs": true
        }
    },
    "msg": "Nothing to do",
    "rc": 0,
    "results": []
}
2021-10-18 13:08:34,555 p=34222 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'', b'')
2021-10-18 13:08:34,567 p=34173 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "allow_downgrade": false,
            "allowerasing": false,
            "autoremove": false,
            "bugfix": false,
            "conf_file": null,
            "disable_excludes": null,
            "disable_gpg_check": false,
            "disable_plugin": [],
            "disablerepo": [],
            "download_dir": null,
            "download_only": false,
            "enable_plugin": [],
            "enablerepo": [],
            "exclude": [],
            "install_repoquery": true,
            "install_weak_deps": true,
            "installroot": "/",
            "list": null,
            "lock_timeout": 30,
            "name": [
                "keepalived"
            ],
            "nobest": false,
            "releasever": null,
            "security": false,
            "skip_broken": false,
            "state": "present",
            "update_cache": false,
            "update_only": false,
            "validate_certs": true
        }
    },
    "msg": "Nothing to do",
    "rc": 0,
    "results": []
}
2021-10-18 13:08:34,617 p=34173 u=eduardgevorkyan n=ansible | TASK [artem_shestakov.keepalived : Copy config file] *************************************************************************************
2021-10-18 13:08:34,678 p=34264 u=eduardgevorkyan n=ansible | <172.20.254.1> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:08:34,683 p=34264 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e 172.20.254.1 '/bin/sh -c '"'"'echo ~k3s1 && sleep 0'"'"''
2021-10-18 13:08:34,763 p=34265 u=eduardgevorkyan n=ansible | <172.20.254.2> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:08:34,769 p=34265 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 172.20.254.2 '/bin/sh -c '"'"'echo ~k3s1 && sleep 0'"'"''
2021-10-18 13:08:34,833 p=34264 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'/home/k3s1\n', b'')
2021-10-18 13:08:34,834 p=34264 u=eduardgevorkyan n=ansible | <172.20.254.1> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:08:34,836 p=34264 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e 172.20.254.1 '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/k3s1/.ansible/tmp `"&& mkdir "` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555314.8344026-34264-22339660539259 `" && echo ansible-tmp-1634555314.8344026-34264-22339660539259="` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555314.8344026-34264-22339660539259 `" ) && sleep 0'"'"''
2021-10-18 13:08:34,889 p=34267 u=eduardgevorkyan n=ansible | <172.20.254.3> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:08:34,898 p=34267 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 172.20.254.3 '/bin/sh -c '"'"'echo ~k3s1 && sleep 0'"'"''
2021-10-18 13:08:34,966 p=34265 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'/home/k3s1\n', b'')
2021-10-18 13:08:34,968 p=34265 u=eduardgevorkyan n=ansible | <172.20.254.2> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:08:34,971 p=34265 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 172.20.254.2 '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/k3s1/.ansible/tmp `"&& mkdir "` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555314.9675303-34265-36533811315504 `" && echo ansible-tmp-1634555314.9675303-34265-36533811315504="` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555314.9675303-34265-36533811315504 `" ) && sleep 0'"'"''
2021-10-18 13:08:35,057 p=34264 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'ansible-tmp-1634555314.8344026-34264-22339660539259=/home/k3s1/.ansible/tmp/ansible-tmp-1634555314.8344026-34264-22339660539259\n', b'')
2021-10-18 13:08:35,120 p=34267 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'/home/k3s1\n', b'')
2021-10-18 13:08:35,123 p=34267 u=eduardgevorkyan n=ansible | <172.20.254.3> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:08:35,127 p=34267 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 172.20.254.3 '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/k3s1/.ansible/tmp `"&& mkdir "` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555315.1219368-34267-353178923033 `" && echo ansible-tmp-1634555315.1219368-34267-353178923033="` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555315.1219368-34267-353178923033 `" ) && sleep 0'"'"''
2021-10-18 13:08:35,166 p=34265 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'ansible-tmp-1634555314.9675303-34265-36533811315504=/home/k3s1/.ansible/tmp/ansible-tmp-1634555314.9675303-34265-36533811315504\n', b'')
2021-10-18 13:08:35,312 p=34264 u=eduardgevorkyan n=ansible | <172.20.254.1> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:08:35,318 p=34264 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e 172.20.254.1 '/bin/sh -c '"'"'rm -f -r /home/k3s1/.ansible/tmp/ansible-tmp-1634555314.8344026-34264-22339660539259/ > /dev/null 2>&1 && sleep 0'"'"''
2021-10-18 13:08:35,352 p=34267 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'ansible-tmp-1634555315.1219368-34267-353178923033=/home/k3s1/.ansible/tmp/ansible-tmp-1634555315.1219368-34267-353178923033\n', b'')
2021-10-18 13:08:35,424 p=34265 u=eduardgevorkyan n=ansible | <172.20.254.2> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:08:35,429 p=34265 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 172.20.254.2 '/bin/sh -c '"'"'rm -f -r /home/k3s1/.ansible/tmp/ansible-tmp-1634555314.9675303-34265-36533811315504/ > /dev/null 2>&1 && sleep 0'"'"''
2021-10-18 13:08:35,519 p=34264 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'', b'')
2021-10-18 13:08:35,535 p=34173 u=eduardgevorkyan n=ansible | The full traceback is:
Traceback (most recent call last):
  File "/usr/local/lib/python3.9/site-packages/ansible/template/__init__.py", line 1100, in do_template
    res = j2_concat(rf)
  File "<template>", line 71, in root
  File "/usr/local/lib/python3.9/site-packages/jinja2/runtime.py", line 903, in _fail_with_undefined_error
    raise self._undefined_exception(self._undefined_message)
jinja2.exceptions.UndefinedError: list object has no element 1

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.9/site-packages/ansible/plugins/action/template.py", line 146, in run
    resultant = templar.do_template(template_data, preserve_trailing_newlines=True, escape_backslashes=False)
  File "/usr/local/lib/python3.9/site-packages/ansible/template/__init__.py", line 1137, in do_template
    raise AnsibleUndefinedVariable(e)
ansible.errors.AnsibleUndefinedVariable: list object has no element 1

2021-10-18 13:08:35,536 p=34173 u=eduardgevorkyan n=ansible | fatal: [k3s1]: FAILED! => {
    "changed": false,
    "msg": "AnsibleUndefinedVariable: list object has no element 1"
}
2021-10-18 13:08:35,589 p=34267 u=eduardgevorkyan n=ansible | <172.20.254.3> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:08:35,605 p=34265 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'', b'')
2021-10-18 13:08:35,607 p=34267 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 172.20.254.3 '/bin/sh -c '"'"'rm -f -r /home/k3s1/.ansible/tmp/ansible-tmp-1634555315.1219368-34267-353178923033/ > /dev/null 2>&1 && sleep 0'"'"''
2021-10-18 13:08:35,620 p=34173 u=eduardgevorkyan n=ansible | The full traceback is:
Traceback (most recent call last):
  File "/usr/local/lib/python3.9/site-packages/ansible/template/__init__.py", line 1100, in do_template
    res = j2_concat(rf)
  File "<template>", line 71, in root
  File "/usr/local/lib/python3.9/site-packages/jinja2/runtime.py", line 903, in _fail_with_undefined_error
    raise self._undefined_exception(self._undefined_message)
jinja2.exceptions.UndefinedError: list object has no element 1

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.9/site-packages/ansible/plugins/action/template.py", line 146, in run
    resultant = templar.do_template(template_data, preserve_trailing_newlines=True, escape_backslashes=False)
  File "/usr/local/lib/python3.9/site-packages/ansible/template/__init__.py", line 1137, in do_template
    raise AnsibleUndefinedVariable(e)
ansible.errors.AnsibleUndefinedVariable: list object has no element 1

2021-10-18 13:08:35,621 p=34173 u=eduardgevorkyan n=ansible | fatal: [k3s2]: FAILED! => {
    "changed": false,
    "msg": "AnsibleUndefinedVariable: list object has no element 1"
}
2021-10-18 13:08:35,756 p=34267 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'', b'')
2021-10-18 13:08:35,762 p=34173 u=eduardgevorkyan n=ansible | The full traceback is:
Traceback (most recent call last):
  File "/usr/local/lib/python3.9/site-packages/ansible/template/__init__.py", line 1100, in do_template
    res = j2_concat(rf)
  File "<template>", line 71, in root
  File "/usr/local/lib/python3.9/site-packages/jinja2/runtime.py", line 903, in _fail_with_undefined_error
    raise self._undefined_exception(self._undefined_message)
jinja2.exceptions.UndefinedError: list object has no element 1

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.9/site-packages/ansible/plugins/action/template.py", line 146, in run
    resultant = templar.do_template(template_data, preserve_trailing_newlines=True, escape_backslashes=False)
  File "/usr/local/lib/python3.9/site-packages/ansible/template/__init__.py", line 1137, in do_template
    raise AnsibleUndefinedVariable(e)
ansible.errors.AnsibleUndefinedVariable: list object has no element 1

2021-10-18 13:08:35,762 p=34173 u=eduardgevorkyan n=ansible | fatal: [k3s3]: FAILED! => {
    "changed": false,
    "msg": "AnsibleUndefinedVariable: list object has no element 1"
}
2021-10-18 13:08:35,768 p=34173 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-18 13:08:35,768 p=34173 u=eduardgevorkyan n=ansible | k3s1                       : ok=3    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-10-18 13:08:35,768 p=34173 u=eduardgevorkyan n=ansible | k3s2                       : ok=3    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-10-18 13:08:35,768 p=34173 u=eduardgevorkyan n=ansible | k3s3                       : ok=3    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-10-18 13:14:46,473 p=34584 u=eduardgevorkyan n=ansible | ansible-playbook [core 2.11.6] 
  config file = /home/eduardgevorkyan/demo-mysql/ansible.cfg
  configured module search path = ['/home/eduardgevorkyan/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.9/site-packages/ansible
  ansible collection location = /home/eduardgevorkyan/.ansible/collections:/usr/share/ansible/collections
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.9.2 (default, Feb 20 2021, 00:00:00) [GCC 11.0.0 20210210 (Red Hat 11.0.0-0)]
  jinja version = 3.0.2
  libyaml = True
2021-10-18 13:14:46,473 p=34584 u=eduardgevorkyan n=ansible | Using /home/eduardgevorkyan/demo-mysql/ansible.cfg as config file
2021-10-18 13:14:46,482 p=34584 u=eduardgevorkyan n=ansible | host_list declined parsing /home/eduardgevorkyan/demo-mysql/inventory.yml as it did not pass its verify_file() method
2021-10-18 13:14:46,493 p=34584 u=eduardgevorkyan n=ansible | script declined parsing /home/eduardgevorkyan/demo-mysql/inventory.yml as it did not pass its verify_file() method
2021-10-18 13:14:46,506 p=34584 u=eduardgevorkyan n=ansible | Parsed /home/eduardgevorkyan/demo-mysql/inventory.yml inventory source with yaml plugin
2021-10-18 13:14:46,692 p=34584 u=eduardgevorkyan n=ansible | Skipping callback 'default', as we already have a stdout callback.
2021-10-18 13:14:46,693 p=34584 u=eduardgevorkyan n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2021-10-18 13:14:46,693 p=34584 u=eduardgevorkyan n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2021-10-18 13:14:46,693 p=34584 u=eduardgevorkyan n=ansible | PLAYBOOK: keepalive.yml ******************************************************************************************************************
2021-10-18 13:14:46,694 p=34584 u=eduardgevorkyan n=ansible | 1 plays in keepalive.yml
2021-10-18 13:14:46,698 p=34584 u=eduardgevorkyan n=ansible | PLAY [Install keepalived] ****************************************************************************************************************
2021-10-18 13:14:46,736 p=34584 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-18 13:14:46,791 p=34588 u=eduardgevorkyan n=ansible | <172.20.254.1> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:14:46,795 p=34588 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e 172.20.254.1 '/bin/sh -c '"'"'echo ~k3s1 && sleep 0'"'"''
2021-10-18 13:14:46,876 p=34589 u=eduardgevorkyan n=ansible | <172.20.254.2> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:14:46,881 p=34589 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 172.20.254.2 '/bin/sh -c '"'"'echo ~k3s1 && sleep 0'"'"''
2021-10-18 13:14:46,944 p=34591 u=eduardgevorkyan n=ansible | <172.20.254.3> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:14:46,949 p=34591 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 172.20.254.3 '/bin/sh -c '"'"'echo ~k3s1 && sleep 0'"'"''
2021-10-18 13:14:47,323 p=34588 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'/home/k3s1\n', b'')
2021-10-18 13:14:47,325 p=34588 u=eduardgevorkyan n=ansible | <172.20.254.1> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:14:47,327 p=34588 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e 172.20.254.1 '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/k3s1/.ansible/tmp `"&& mkdir "` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555687.3245246-34588-70746197253624 `" && echo ansible-tmp-1634555687.3245246-34588-70746197253624="` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555687.3245246-34588-70746197253624 `" ) && sleep 0'"'"''
2021-10-18 13:14:47,414 p=34589 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'/home/k3s1\n', b'')
2021-10-18 13:14:47,417 p=34589 u=eduardgevorkyan n=ansible | <172.20.254.2> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:14:47,419 p=34589 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 172.20.254.2 '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/k3s1/.ansible/tmp `"&& mkdir "` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555687.4160972-34589-191591147719588 `" && echo ansible-tmp-1634555687.4160972-34589-191591147719588="` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555687.4160972-34589-191591147719588 `" ) && sleep 0'"'"''
2021-10-18 13:14:47,449 p=34591 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'/home/k3s1\n', b'')
2021-10-18 13:14:47,450 p=34591 u=eduardgevorkyan n=ansible | <172.20.254.3> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:14:47,451 p=34591 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 172.20.254.3 '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/k3s1/.ansible/tmp `"&& mkdir "` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555687.450187-34591-188532025980375 `" && echo ansible-tmp-1634555687.450187-34591-188532025980375="` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555687.450187-34591-188532025980375 `" ) && sleep 0'"'"''
2021-10-18 13:14:47,477 p=34588 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'ansible-tmp-1634555687.3245246-34588-70746197253624=/home/k3s1/.ansible/tmp/ansible-tmp-1634555687.3245246-34588-70746197253624\n', b'')
2021-10-18 13:14:47,582 p=34589 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'ansible-tmp-1634555687.4160972-34589-191591147719588=/home/k3s1/.ansible/tmp/ansible-tmp-1634555687.4160972-34589-191591147719588\n', b'')
2021-10-18 13:14:47,624 p=34591 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'ansible-tmp-1634555687.450187-34591-188532025980375=/home/k3s1/.ansible/tmp/ansible-tmp-1634555687.450187-34591-188532025980375\n', b'')
2021-10-18 13:14:48,033 p=34591 u=eduardgevorkyan n=ansible | Using module file /usr/local/lib/python3.9/site-packages/ansible/modules/setup.py
2021-10-18 13:14:48,033 p=34589 u=eduardgevorkyan n=ansible | Using module file /usr/local/lib/python3.9/site-packages/ansible/modules/setup.py
2021-10-18 13:14:48,035 p=34589 u=eduardgevorkyan n=ansible | <172.20.254.2> PUT /home/eduardgevorkyan/.ansible/tmp/ansible-local-34584yi9d6_w2/tmpnr4bj_rm TO /home/k3s1/.ansible/tmp/ansible-tmp-1634555687.4160972-34589-191591147719588/AnsiballZ_setup.py
2021-10-18 13:14:48,036 p=34591 u=eduardgevorkyan n=ansible | <172.20.254.3> PUT /home/eduardgevorkyan/.ansible/tmp/ansible-local-34584yi9d6_w2/tmpuc0d969k TO /home/k3s1/.ansible/tmp/ansible-tmp-1634555687.450187-34591-188532025980375/AnsiballZ_setup.py
2021-10-18 13:14:48,040 p=34589 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 '[172.20.254.2]'
2021-10-18 13:14:48,041 p=34591 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 '[172.20.254.3]'
2021-10-18 13:14:48,049 p=34588 u=eduardgevorkyan n=ansible | Using module file /usr/local/lib/python3.9/site-packages/ansible/modules/setup.py
2021-10-18 13:14:48,051 p=34588 u=eduardgevorkyan n=ansible | <172.20.254.1> PUT /home/eduardgevorkyan/.ansible/tmp/ansible-local-34584yi9d6_w2/tmpu9l5wo7r TO /home/k3s1/.ansible/tmp/ansible-tmp-1634555687.3245246-34588-70746197253624/AnsiballZ_setup.py
2021-10-18 13:14:48,056 p=34588 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e '[172.20.254.1]'
2021-10-18 13:14:48,384 p=34588 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'sftp> put /home/eduardgevorkyan/.ansible/tmp/ansible-local-34584yi9d6_w2/tmpu9l5wo7r /home/k3s1/.ansible/tmp/ansible-tmp-1634555687.3245246-34588-70746197253624/AnsiballZ_setup.py\n', b'')
2021-10-18 13:14:48,385 p=34588 u=eduardgevorkyan n=ansible | <172.20.254.1> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:14:48,390 p=34591 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'sftp> put /home/eduardgevorkyan/.ansible/tmp/ansible-local-34584yi9d6_w2/tmpuc0d969k /home/k3s1/.ansible/tmp/ansible-tmp-1634555687.450187-34591-188532025980375/AnsiballZ_setup.py\n', b'')
2021-10-18 13:14:48,391 p=34591 u=eduardgevorkyan n=ansible | <172.20.254.3> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:14:48,392 p=34588 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e 172.20.254.1 '/bin/sh -c '"'"'chmod u+x /home/k3s1/.ansible/tmp/ansible-tmp-1634555687.3245246-34588-70746197253624/ /home/k3s1/.ansible/tmp/ansible-tmp-1634555687.3245246-34588-70746197253624/AnsiballZ_setup.py && sleep 0'"'"''
2021-10-18 13:14:48,393 p=34591 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 172.20.254.3 '/bin/sh -c '"'"'chmod u+x /home/k3s1/.ansible/tmp/ansible-tmp-1634555687.450187-34591-188532025980375/ /home/k3s1/.ansible/tmp/ansible-tmp-1634555687.450187-34591-188532025980375/AnsiballZ_setup.py && sleep 0'"'"''
2021-10-18 13:14:48,413 p=34589 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'sftp> put /home/eduardgevorkyan/.ansible/tmp/ansible-local-34584yi9d6_w2/tmpnr4bj_rm /home/k3s1/.ansible/tmp/ansible-tmp-1634555687.4160972-34589-191591147719588/AnsiballZ_setup.py\n', b'')
2021-10-18 13:14:48,414 p=34589 u=eduardgevorkyan n=ansible | <172.20.254.2> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:14:48,415 p=34589 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 172.20.254.2 '/bin/sh -c '"'"'chmod u+x /home/k3s1/.ansible/tmp/ansible-tmp-1634555687.4160972-34589-191591147719588/ /home/k3s1/.ansible/tmp/ansible-tmp-1634555687.4160972-34589-191591147719588/AnsiballZ_setup.py && sleep 0'"'"''
2021-10-18 13:14:48,578 p=34588 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'', b'')
2021-10-18 13:14:48,580 p=34588 u=eduardgevorkyan n=ansible | <172.20.254.1> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:14:48,591 p=34589 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'', b'')
2021-10-18 13:14:48,593 p=34591 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'', b'')
2021-10-18 13:14:48,594 p=34591 u=eduardgevorkyan n=ansible | <172.20.254.3> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:14:48,594 p=34589 u=eduardgevorkyan n=ansible | <172.20.254.2> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:14:48,598 p=34589 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 -tt 172.20.254.2 '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-vabonzdcrrbwrqhrakwsvrhkvfsuscjz ; /usr/bin/python3 /home/k3s1/.ansible/tmp/ansible-tmp-1634555687.4160972-34589-191591147719588/AnsiballZ_setup.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
2021-10-18 13:14:48,600 p=34591 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 -tt 172.20.254.3 '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-bhclbwiiavxnqqurnkdhfepvjrzeinqz ; /usr/bin/python3 /home/k3s1/.ansible/tmp/ansible-tmp-1634555687.450187-34591-188532025980375/AnsiballZ_setup.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
2021-10-18 13:14:48,605 p=34588 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e -tt 172.20.254.1 '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-cuvxosoklzojzbomnosmrqxgzbzlzkcv ; /usr/bin/python3 /home/k3s1/.ansible/tmp/ansible-tmp-1634555687.3245246-34588-70746197253624/AnsiballZ_setup.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
2021-10-18 13:14:48,872 p=34589 u=eduardgevorkyan n=ansible | Escalation succeeded
2021-10-18 13:14:48,878 p=34591 u=eduardgevorkyan n=ansible | Escalation succeeded
2021-10-18 13:14:48,906 p=34588 u=eduardgevorkyan n=ansible | Escalation succeeded
2021-10-18 13:14:50,284 p=34589 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'\r\n{"ansible_facts": {"ansible_dns": {"nameservers": ["127.0.0.53"], "options": {"edns0": true, "trust-ad": true}, "search": ["home.arpa"]}, "ansible_virtualization_role": "guest", "ansible_virtualization_type": "VMware", "ansible_virtualization_tech_guest": ["VMware"], "ansible_virtualization_tech_host": [], "ansible_system": "Linux", "ansible_kernel": "5.11.12-300.fc34.x86_64", "ansible_kernel_version": "#1 SMP Wed Apr 7 16:31:13 UTC 2021", "ansible_machine": "x86_64", "ansible_python_version": "3.9.2", "ansible_fqdn": "k3s2", "ansible_hostname": "k3s2", "ansible_nodename": "k3s2", "ansible_domain": "", "ansible_userspace_bits": "64", "ansible_architecture": "x86_64", "ansible_userspace_architecture": "x86_64", "ansible_machine_id": "250bb7177185479eba03735879fbc0d3", "ansible_user_id": "root", "ansible_user_uid": 0, "ansible_user_gid": 0, "ansible_user_gecos": "root", "ansible_user_dir": "/root", "ansible_user_shell": "/bin/bash", "ansible_real_user_id": 0, "ansible_effective_user_id": 0, "ansible_real_group_id": 0, "ansible_effective_group_id": 0, "ansible_ssh_host_key_rsa_public": "AAAAB3NzaC1yc2EAAAADAQABAAABgQDrhtuduwUtaRWuHMtiOPZYKjlKJbjaqmBbcfPqxdpzbXlExXpVFnaZOJF0l69GGzu3AJxkgu2ajhbGMe8k/q14iQeaGQe+tXe0la4SpCrlvZ8xXw+pCwwjEhi6mrsJzXpqZxstIsnO5KDaYmNA4vgfh+Uf6JnTgCuBMEjWp4zgaepo1QC1Natx74KpO3bKgwGj3atv6nTsYZLgM1D63CSzeIqfOEX6EjEv8KndikEI4Leqiu181l7mLQvaypBqpg6yIzXrE+pLhu/SkyJztuZQE6O6RFtuCDC0eLCVIwW+b8LbsKut4x777Ox/HQbSj7DScJHLpWUWN2OUMcCx+bnp7BRPuHfIm0VdgHyc5uUuk/LW5G47OLpFMCWzf1BcVNhwI3q3aHte41M81dL5hSXuHp0MlalMK5IQI4n0nwO3JhqR/h2hshgPIoV99VXal7S15YObidnVHwLObLxBe18Vr3eyGWp7QuDIybKVOWkJ2vV6ckfUZpkGDfifHuBRZ5U=", "ansible_ssh_host_key_rsa_public_keytype": "ssh-rsa", "ansible_ssh_host_key_ecdsa_public": "AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBFSgyTOjq69TAgxUdV0gihLbk5kqzlwoY/IfYGC/h108JQdrDse8s6LvGgb37ZJcPdPovnCUJUsUrJOyeifKQO0=", "ansible_ssh_host_key_ecdsa_public_keytype": "ecdsa-sha2-nistp256", "ansible_ssh_host_key_ed25519_public": "AAAAC3NzaC1lZDI1NTE5AAAAIDM2LOsc8SI85Kfi2BIEEQyZV9TTdSyqXfY8x3W25tLJ", "ansible_ssh_host_key_ed25519_public_keytype": "ssh-ed25519", "ansible_lsb": {}, "ansible_fips": false, "ansible_cmdline": {"BOOT_IMAGE": "(hd0,msdos1)/vmlinuz-5.11.12-300.fc34.x86_64", "root": "/dev/mapper/fedora_fedora-root", "ro": true, "rd.lvm.lv": "fedora_fedora/root", "rhgb": true, "quiet": true}, "ansible_proc_cmdline": {"BOOT_IMAGE": "(hd0,msdos1)/vmlinuz-5.11.12-300.fc34.x86_64", "root": "/dev/mapper/fedora_fedora-root", "ro": true, "rd.lvm.lv": "fedora_fedora/root", "rhgb": true, "quiet": true}, "ansible_processor": ["0", "GenuineIntel", "Intel(R) Core(TM) i5-6300U CPU @ 2.40GHz"], "ansible_processor_count": 1, "ansible_processor_cores": 1, "ansible_processor_threads_per_core": 1, "ansible_processor_vcpus": 1, "ansible_processor_nproc": 1, "ansible_memtotal_mb": 939, "ansible_memfree_mb": 182, "ansible_swaptotal_mb": 938, "ansible_swapfree_mb": 863, "ansible_memory_mb": {"real": {"total": 939, "used": 757, "free": 182}, "nocache": {"free": 553, "used": 386}, "swap": {"total": 938, "free": 863, "used": 75, "cached": 1}}, "ansible_bios_date": "07/22/2020", "ansible_bios_vendor": "Phoenix Technologies LTD", "ansible_bios_version": "6.00", "ansible_board_asset_tag": "NA", "ansible_board_name": "440BX Desktop Reference Platform", "ansible_board_serial": "None", "ansible_board_vendor": "Intel Corporation", "ansible_board_version": "None", "ansible_chassis_asset_tag": "No Asset Tag", "ansible_chassis_serial": "None", "ansible_chassis_vendor": "No Enclosure", "ansible_chassis_version": "N/A", "ansible_form_factor": "Other", "ansible_product_name": "VMware Virtual Platform", "ansible_product_serial": "VMware-56 4d fc bf ed 58 12 85-64 38 93 2d b6 b1 fd 9b", "ansible_product_uuid": "bffc4d56-58ed-8512-6438-932db6b1fd9b", "ansible_product_version": "None", "ansible_system_vendor": "VMware, Inc.", "ansible_devices": {"sr0": {"virtual": 1, "links": {"ids": ["ata-VMware_Virtual_IDE_CDROM_Drive_10000000000000000001"], "uuids": ["2021-04-23-10-53-02-00"], "labels": ["Fedora-S-dvd-x86_64-34"], "masters": []}, "vendor": "NECVMWar", "model": "VMware IDE CDR10", "sas_address": null, "sas_device_handle": null, "removable": "1", "support_discard": "0", "partitions": {}, "rotational": "1", "scheduler_mode": "bfq", "sectors": "4104192", "sectorsize": "2048", "size": "1.96 GB", "host": "IDE interface: Intel Corporation 82371AB/EB/MB PIIX4 IDE (rev 01)", "holders": []}, "dm-0": {"virtual": 1, "links": {"ids": ["dm-name-fedora_fedora-root", "dm-uuid-LVM-7jxwNZwbIlT2zhLQNYkDdk5ad9hy6cIJvtQTmfOhtO9ncZWdK8MBGzy4jFy4nHJx"], "uuids": ["a7edf097-e290-4469-ae87-078dca1d240a"], "labels": [], "masters": []}, "vendor": null, "model": null, "sas_address": null, "sas_device_handle": null, "removable": "0", "support_discard": "0", "partitions": {}, "rotational": "1", "scheduler_mode": "", "sectors": "18866176", "sectorsize": "512", "size": "9.00 GB", "host": "", "holders": []}, "sda": {"virtual": 1, "links": {"ids": [], "uuids": [], "labels": [], "masters": []}, "vendor": "VMware,", "model": "VMware Virtual S", "sas_address": null, "sas_device_handle": null, "removable": "0", "support_discard": "0", "partitions": {"sda2": {"links": {"ids": ["lvm-pv-uuid-rjeu7p-tab2-MqWk-DYUq-DzON-SxYX-vHpnuo"], "uuids": [], "labels": [], "masters": ["dm-0"]}, "start": "2099200", "sectors": "18872320", "sectorsize": 512, "size": "9.00 GB", "uuid": null, "holders": ["fedora_fedora-root"]}, "sda1": {"links": {"ids": [], "uuids": ["1546d3cb-7f60-410c-866d-47566ca5fd6b"], "labels": [], "masters": []}, "start": "2048", "sectors": "2097152", "sectorsize": 512, "size": "1.00 GB", "uuid": "1546d3cb-7f60-410c-866d-47566ca5fd6b", "holders": []}}, "rotational": "1", "scheduler_mode": "bfq", "sectors": "20971520", "sectorsize": "512", "size": "10.00 GB", "host": "SCSI storage controller: Broadcom / LSI 53c1030 PCI-X Fusion-MPT Dual Ultra320 SCSI (rev 01)", "holders": []}, "zram0": {"virtual": 1, "links": {"ids": [], "uuids": [], "labels": [], "masters": []}, "vendor": null, "model": null, "sas_address": null, "sas_device_handle": null, "removable": "0", "support_discard": "4096", "partitions": {}, "rotational": "0", "scheduler_mode": "", "sectors": "1923072", "sectorsize": "4096", "size": "939.00 MB", "host": "", "holders": []}}, "ansible_device_links": {"ids": {"dm-0": ["dm-name-fedora_fedora-root", "dm-uuid-LVM-7jxwNZwbIlT2zhLQNYkDdk5ad9hy6cIJvtQTmfOhtO9ncZWdK8MBGzy4jFy4nHJx"], "sda2": ["lvm-pv-uuid-rjeu7p-tab2-MqWk-DYUq-DzON-SxYX-vHpnuo"], "sr0": ["ata-VMware_Virtual_IDE_CDROM_Drive_10000000000000000001"]}, "uuids": {"sr0": ["2021-04-23-10-53-02-00"], "dm-0": ["a7edf097-e290-4469-ae87-078dca1d240a"], "sda1": ["1546d3cb-7f60-410c-866d-47566ca5fd6b"]}, "labels": {"sr0": ["Fedora-S-dvd-x86_64-34"]}, "masters": {"sda2": ["dm-0"]}}, "ansible_uptime_seconds": 35796, "ansible_lvm": {"lvs": {"root": {"size_g": "9.00", "vg": "fedora_fedora"}}, "vgs": {"fedora_fedora": {"size_g": "9.00", "free_g": "0", "num_lvs": "1", "num_pvs": "1"}}, "pvs": {"/dev/sda2": {"size_g": "9.00", "free_g": "0", "vg": "fedora_fedora"}}}, "ansible_mounts": [{"mount": "/", "device": "/dev/mapper/fedora_fedora-root", "fstype": "xfs", "options": "rw,seclabel,relatime,attr2,inode64,logbufs=8,logbsize=32k,noquota", "size_total": 9648996352, "size_available": 7087263744, "block_size": 4096, "block_total": 2355712, "block_available": 1730289, "block_used": 625423, "inode_total": 4716544, "inode_available": 4650540, "inode_used": 66004, "uuid": "a7edf097-e290-4469-ae87-078dca1d240a"}, {"mount": "/boot", "device": "/dev/sda1", "fstype": "xfs", "options": "rw,seclabel,relatime,attr2,inode64,logbufs=8,logbsize=32k,noquota", "size_total": 1063256064, "size_available": 867901440, "block_size": 4096, "block_total": 259584, "block_available": 211890, "block_used": 47694, "inode_total": 524288, "inode_available": 523932, "inode_used": 356, "uuid": "1546d3cb-7f60-410c-866d-47566ca5fd6b"}], "ansible_python": {"version": {"major": 3, "minor": 9, "micro": 2, "releaselevel": "final", "serial": 0}, "version_info": [3, 9, 2, "final", 0], "executable": "/usr/bin/python3", "has_sslcontext": true, "type": "cpython"}, "ansible_local": {}, "ansible_iscsi_iqn": "", "ansible_system_capabilities_enforced": "False", "ansible_system_capabilities": [], "ansible_distribution": "Fedora", "ansible_distribution_release": "", "ansible_distribution_version": "34", "ansible_distribution_major_version": "34", "ansible_distribution_file_path": "/etc/redhat-release", "ansible_distribution_file_variety": "RedHat", "ansible_distribution_file_parsed": true, "ansible_os_family": "RedHat", "ansible_interfaces": ["lo", "ens32.1", "ens32"], "ansible_ens32": {"device": "ens32", "macaddress": "00:0c:29:b1:fd:9b", "mtu": 1500, "active": true, "module": "e1000", "type": "ether", "pciid": "0000:02:00.0", "speed": 1000, "promisc": false, "ipv4": {"address": "172.22.22.6", "broadcast": "172.22.22.255", "netmask": "255.255.255.0", "network": "172.22.22.0"}, "ipv6": [{"address": "fe80::20c:29ff:feb1:fd9b", "prefix": "64", "scope": "link"}], "features": {"rx_checksumming": "off", "tx_checksumming": "on", "tx_checksum_ipv4": "off [fixed]", "tx_checksum_ip_generic": "on", "tx_checksum_ipv6": "off [fixed]", "tx_checksum_fcoe_crc": "off [fixed]", "tx_checksum_sctp": "off [fixed]", "scatter_gather": "on", "tx_scatter_gather": "on", "tx_scatter_gather_fraglist": "off [fixed]", "tcp_segmentation_offload": "on", "tx_tcp_segmentation": "on", "tx_tcp_ecn_segmentation": "off [fixed]", "tx_tcp_mangleid_segmentation": "off", "tx_tcp6_segmentation": "off [fixed]", "generic_segmentation_offload": "on", "generic_receive_offload": "on", "large_receive_offload": "off [fixed]", "rx_vlan_offload": "on", "tx_vlan_offload": "on [fixed]", "ntuple_filters": "off [fixed]", "receive_hashing": "off [fixed]", "highdma": "off [fixed]", "rx_vlan_filter": "on [fixed]", "vlan_challenged": "off [fixed]", "tx_lockless": "off [fixed]", "netns_local": "off [fixed]", "tx_gso_robust": "off [fixed]", "tx_fcoe_segmentation": "off [fixed]", "tx_gre_segmentation": "off [fixed]", "tx_gre_csum_segmentation": "off [fixed]", "tx_ipxip4_segmentation": "off [fixed]", "tx_ipxip6_segmentation": "off [fixed]", "tx_udp_tnl_segmentation": "off [fixed]", "tx_udp_tnl_csum_segmentation": "off [fixed]", "tx_gso_partial": "off [fixed]", "tx_tunnel_remcsum_segmentation": "off [fixed]", "tx_sctp_segmentation": "off [fixed]", "tx_esp_segmentation": "off [fixed]", "tx_udp_segmentation": "off [fixed]", "tx_gso_list": "off [fixed]", "fcoe_mtu": "off [fixed]", "tx_nocache_copy": "off", "loopback": "off [fixed]", "rx_fcs": "off", "rx_all": "off", "tx_vlan_stag_hw_insert": "off [fixed]", "rx_vlan_stag_hw_parse": "off [fixed]", "rx_vlan_stag_filter": "off [fixed]", "l2_fwd_offload": "off [fixed]", "hw_tc_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "esp_tx_csum_hw_offload": "off [fixed]", "rx_udp_tunnel_port_offload": "off [fixed]", "tls_hw_tx_offload": "off [fixed]", "tls_hw_rx_offload": "off [fixed]", "rx_gro_hw": "off [fixed]", "tls_hw_record": "off [fixed]", "rx_gro_list": "off", "macsec_hw_offload": "off [fixed]"}, "timestamping": [], "hw_timestamp_filters": []}, "ansible_lo": {"device": "lo", "mtu": 65536, "active": true, "type": "loopback", "promisc": false, "ipv4": {"address": "127.0.0.1", "broadcast": "", "netmask": "255.0.0.0", "network": "127.0.0.0"}, "ipv6": [{"address": "::1", "prefix": "128", "scope": "host"}], "features": {"rx_checksumming": "on [fixed]", "tx_checksumming": "on", "tx_checksum_ipv4": "off [fixed]", "tx_checksum_ip_generic": "on [fixed]", "tx_checksum_ipv6": "off [fixed]", "tx_checksum_fcoe_crc": "off [fixed]", "tx_checksum_sctp": "on [fixed]", "scatter_gather": "on", "tx_scatter_gather": "on [fixed]", "tx_scatter_gather_fraglist": "on [fixed]", "tcp_segmentation_offload": "on", "tx_tcp_segmentation": "on", "tx_tcp_ecn_segmentation": "on", "tx_tcp_mangleid_segmentation": "on", "tx_tcp6_segmentation": "on", "generic_segmentation_offload": "on", "generic_receive_offload": "on", "large_receive_offload": "off [fixed]", "rx_vlan_offload": "off [fixed]", "tx_vlan_offload": "off [fixed]", "ntuple_filters": "off [fixed]", "receive_hashing": "off [fixed]", "highdma": "on [fixed]", "rx_vlan_filter": "off [fixed]", "vlan_challenged": "on [fixed]", "tx_lockless": "on [fixed]", "netns_local": "on [fixed]", "tx_gso_robust": "off [fixed]", "tx_fcoe_segmentation": "off [fixed]", "tx_gre_segmentation": "off [fixed]", "tx_gre_csum_segmentation": "off [fixed]", "tx_ipxip4_segmentation": "off [fixed]", "tx_ipxip6_segmentation": "off [fixed]", "tx_udp_tnl_segmentation": "off [fixed]", "tx_udp_tnl_csum_segmentation": "off [fixed]", "tx_gso_partial": "off [fixed]", "tx_tunnel_remcsum_segmentation": "off [fixed]", "tx_sctp_segmentation": "on", "tx_esp_segmentation": "off [fixed]", "tx_udp_segmentation": "on", "tx_gso_list": "on", "fcoe_mtu": "off [fixed]", "tx_nocache_copy": "off [fixed]", "loopback": "on [fixed]", "rx_fcs": "off [fixed]", "rx_all": "off [fixed]", "tx_vlan_stag_hw_insert": "off [fixed]", "rx_vlan_stag_hw_parse": "off [fixed]", "rx_vlan_stag_filter": "off [fixed]", "l2_fwd_offload": "off [fixed]", "hw_tc_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "esp_tx_csum_hw_offload": "off [fixed]", "rx_udp_tunnel_port_offload": "off [fixed]", "tls_hw_tx_offload": "off [fixed]", "tls_hw_rx_offload": "off [fixed]", "rx_gro_hw": "off [fixed]", "tls_hw_record": "off [fixed]", "rx_gro_list": "off", "macsec_hw_offload": "off [fixed]"}, "timestamping": [], "hw_timestamp_filters": []}, "ansible_ens32.1": {"device": "ens32.1", "macaddress": "00:0c:29:b1:fd:9b", "mtu": 1500, "active": true, "type": "ether", "speed": 1000, "promisc": false, "ipv4": {"address": "172.20.254.2", "broadcast": "172.20.254.255", "netmask": "255.255.255.0", "network": "172.20.254.0"}, "ipv6": [{"address": "fe80::516:a0f9:2e01:39c4", "prefix": "64", "scope": "link"}], "features": {"rx_checksumming": "off [fixed]", "tx_checksumming": "on", "tx_checksum_ipv4": "off [fixed]", "tx_checksum_ip_generic": "on", "tx_checksum_ipv6": "off [fixed]", "tx_checksum_fcoe_crc": "off [requested on]", "tx_checksum_sctp": "off [requested on]", "scatter_gather": "on", "tx_scatter_gather": "on", "tx_scatter_gather_fraglist": "off [requested on]", "tcp_segmentation_offload": "on", "tx_tcp_segmentation": "on", "tx_tcp_ecn_segmentation": "on", "tx_tcp_mangleid_segmentation": "on", "tx_tcp6_segmentation": "on", "generic_segmentation_offload": "on", "generic_receive_offload": "on", "large_receive_offload": "off [fixed]", "rx_vlan_offload": "off [fixed]", "tx_vlan_offload": "off [fixed]", "ntuple_filters": "off [fixed]", "receive_hashing": "off [fixed]", "highdma": "off [requested on]", "rx_vlan_filter": "off [fixed]", "vlan_challenged": "off [fixed]", "tx_lockless": "on [fixed]", "netns_local": "off [fixed]", "tx_gso_robust": "off [fixed]", "tx_fcoe_segmentation": "off [requested on]", "tx_gre_segmentation": "off [requested on]", "tx_gre_csum_segmentation": "off [requested on]", "tx_ipxip4_segmentation": "off [requested on]", "tx_ipxip6_segmentation": "off [requested on]", "tx_udp_tnl_segmentation": "off [requested on]", "tx_udp_tnl_csum_segmentation": "off [requested on]", "tx_gso_partial": "off [fixed]", "tx_tunnel_remcsum_segmentation": "off [fixed]", "tx_sctp_segmentation": "on", "tx_esp_segmentation": "off [fixed]", "tx_udp_segmentation": "on", "tx_gso_list": "on", "fcoe_mtu": "off [requested on]", "tx_nocache_copy": "off", "loopback": "off [fixed]", "rx_fcs": "off [fixed]", "rx_all": "off [fixed]", "tx_vlan_stag_hw_insert": "off [fixed]", "rx_vlan_stag_hw_parse": "off [fixed]", "rx_vlan_stag_filter": "off [fixed]", "l2_fwd_offload": "off [fixed]", "hw_tc_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "esp_tx_csum_hw_offload": "off [fixed]", "rx_udp_tunnel_port_offload": "off [fixed]", "tls_hw_tx_offload": "off [fixed]", "tls_hw_rx_offload": "off [fixed]", "rx_gro_hw": "off [fixed]", "tls_hw_record": "off [fixed]", "rx_gro_list": "off", "macsec_hw_offload": "off [fixed]"}, "timestamping": [], "hw_timestamp_filters": []}, "ansible_default_ipv4": {"gateway": "172.22.22.1", "interface": "ens32", "address": "172.22.22.6", "broadcast": "172.22.22.255", "netmask": "255.255.255.0", "network": "172.22.22.0", "macaddress": "00:0c:29:b1:fd:9b", "mtu": 1500, "type": "ether", "alias": "ens32"}, "ansible_default_ipv6": {}, "ansible_all_ipv4_addresses": ["172.22.22.6", "172.20.254.2"], "ansible_all_ipv6_addresses": ["fe80::20c:29ff:feb1:fd9b", "fe80::516:a0f9:2e01:39c4"], "ansible_date_time": {"year": "2021", "month": "10", "weekday": "Monday", "weekday_number": "1", "weeknumber": "42", "day": "18", "hour": "13", "minute": "14", "second": "50", "epoch": "1634555690", "date": "2021-10-18", "time": "13:14:50", "iso8601_micro": "2021-10-18T11:14:50.163761Z", "iso8601": "2021-10-18T11:14:50Z", "iso8601_basic": "20211018T131450163761", "iso8601_basic_short": "20211018T131450", "tz": "CEST", "tz_dst": "CEST", "tz_offset": "+0200"}, "ansible_is_chroot": false, "ansible_apparmor": {"status": "disabled"}, "ansible_env": {"SHELL": "/bin/bash", "SUDO_GID": "1000", "SUDO_COMMAND": "/bin/sh -c echo BECOME-SUCCESS-vabonzdcrrbwrqhrakwsvrhkvfsuscjz ; /usr/bin/python3 /home/k3s1/.ansible/tmp/ansible-tmp-1634555687.4160972-34589-191591147719588/AnsiballZ_setup.py", "SUDO_USER": "k3s1", "PWD": "/home/k3s1", "LOGNAME": "root", "HOME": "/root", "LANG": "en_US.UTF-8", "LS_COLORS": "rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=01;37;41:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=01;36:*.au=01;36:*.flac=01;36:*.m4a=01;36:*.mid=01;36:*.midi=01;36:*.mka=01;36:*.mp3=01;36:*.mpc=01;36:*.ogg=01;36:*.ra=01;36:*.wav=01;36:*.oga=01;36:*.opus=01;36:*.spx=01;36:*.xspf=01;36:", "TERM": "xterm-256color", "USER": "root", "SHLVL": "0", "PATH": "/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/var/lib/snapd/snap/bin", "SUDO_UID": "1000", "MAIL": "/var/mail/root", "_": "/usr/bin/python3"}, "ansible_fibre_channel_wwn": [], "ansible_hostnqn": "", "ansible_service_mgr": "systemd", "ansible_selinux_python_present": true, "ansible_selinux": {"status": "enabled", "policyvers": 33, "config_mode": "enforcing", "mode": "enforcing", "type": "targeted"}, "ansible_pkg_mgr": "dnf", "gather_subset": ["all"], "module_setup": true}, "invocation": {"module_args": {"gather_subset": ["all"], "gather_timeout": 10, "filter": [], "fact_path": "/etc/ansible/facts.d"}}}\r\n', b'Shared connection to 172.20.254.2 closed.\r\n')
2021-10-18 13:14:50,346 p=34591 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'\r\n{"ansible_facts": {"ansible_lsb": {}, "ansible_distribution": "Fedora", "ansible_distribution_release": "", "ansible_distribution_version": "34", "ansible_distribution_major_version": "34", "ansible_distribution_file_path": "/etc/redhat-release", "ansible_distribution_file_variety": "RedHat", "ansible_distribution_file_parsed": true, "ansible_os_family": "RedHat", "ansible_local": {}, "ansible_user_id": "root", "ansible_user_uid": 0, "ansible_user_gid": 0, "ansible_user_gecos": "root", "ansible_user_dir": "/root", "ansible_user_shell": "/bin/bash", "ansible_real_user_id": 0, "ansible_effective_user_id": 0, "ansible_real_group_id": 0, "ansible_effective_group_id": 0, "ansible_ssh_host_key_rsa_public": "AAAAB3NzaC1yc2EAAAADAQABAAABgQDrhtuduwUtaRWuHMtiOPZYKjlKJbjaqmBbcfPqxdpzbXlExXpVFnaZOJF0l69GGzu3AJxkgu2ajhbGMe8k/q14iQeaGQe+tXe0la4SpCrlvZ8xXw+pCwwjEhi6mrsJzXpqZxstIsnO5KDaYmNA4vgfh+Uf6JnTgCuBMEjWp4zgaepo1QC1Natx74KpO3bKgwGj3atv6nTsYZLgM1D63CSzeIqfOEX6EjEv8KndikEI4Leqiu181l7mLQvaypBqpg6yIzXrE+pLhu/SkyJztuZQE6O6RFtuCDC0eLCVIwW+b8LbsKut4x777Ox/HQbSj7DScJHLpWUWN2OUMcCx+bnp7BRPuHfIm0VdgHyc5uUuk/LW5G47OLpFMCWzf1BcVNhwI3q3aHte41M81dL5hSXuHp0MlalMK5IQI4n0nwO3JhqR/h2hshgPIoV99VXal7S15YObidnVHwLObLxBe18Vr3eyGWp7QuDIybKVOWkJ2vV6ckfUZpkGDfifHuBRZ5U=", "ansible_ssh_host_key_rsa_public_keytype": "ssh-rsa", "ansible_ssh_host_key_ecdsa_public": "AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBFSgyTOjq69TAgxUdV0gihLbk5kqzlwoY/IfYGC/h108JQdrDse8s6LvGgb37ZJcPdPovnCUJUsUrJOyeifKQO0=", "ansible_ssh_host_key_ecdsa_public_keytype": "ecdsa-sha2-nistp256", "ansible_ssh_host_key_ed25519_public": "AAAAC3NzaC1lZDI1NTE5AAAAIDM2LOsc8SI85Kfi2BIEEQyZV9TTdSyqXfY8x3W25tLJ", "ansible_ssh_host_key_ed25519_public_keytype": "ssh-ed25519", "ansible_system": "Linux", "ansible_kernel": "5.11.12-300.fc34.x86_64", "ansible_kernel_version": "#1 SMP Wed Apr 7 16:31:13 UTC 2021", "ansible_machine": "x86_64", "ansible_python_version": "3.9.2", "ansible_fqdn": "k3s3", "ansible_hostname": "k3s3", "ansible_nodename": "k3s3", "ansible_domain": "", "ansible_userspace_bits": "64", "ansible_architecture": "x86_64", "ansible_userspace_architecture": "x86_64", "ansible_machine_id": "250bb7177185479eba03735879fbc0d3", "ansible_hostnqn": "", "ansible_system_capabilities_enforced": "False", "ansible_system_capabilities": [], "ansible_dns": {"nameservers": ["127.0.0.53"], "options": {"edns0": true, "trust-ad": true}, "search": ["home.arpa"]}, "ansible_virtualization_role": "guest", "ansible_virtualization_type": "VMware", "ansible_virtualization_tech_guest": ["VMware"], "ansible_virtualization_tech_host": [], "ansible_python": {"version": {"major": 3, "minor": 9, "micro": 2, "releaselevel": "final", "serial": 0}, "version_info": [3, 9, 2, "final", 0], "executable": "/usr/bin/python3", "has_sslcontext": true, "type": "cpython"}, "ansible_processor": ["0", "GenuineIntel", "Intel(R) Core(TM) i5-6300U CPU @ 2.40GHz"], "ansible_processor_count": 1, "ansible_processor_cores": 1, "ansible_processor_threads_per_core": 1, "ansible_processor_vcpus": 1, "ansible_processor_nproc": 1, "ansible_memtotal_mb": 939, "ansible_memfree_mb": 177, "ansible_swaptotal_mb": 938, "ansible_swapfree_mb": 861, "ansible_memory_mb": {"real": {"total": 939, "used": 762, "free": 177}, "nocache": {"free": 553, "used": 386}, "swap": {"total": 938, "free": 861, "used": 77, "cached": 1}}, "ansible_bios_date": "07/22/2020", "ansible_bios_vendor": "Phoenix Technologies LTD", "ansible_bios_version": "6.00", "ansible_board_asset_tag": "NA", "ansible_board_name": "440BX Desktop Reference Platform", "ansible_board_serial": "None", "ansible_board_vendor": "Intel Corporation", "ansible_board_version": "None", "ansible_chassis_asset_tag": "No Asset Tag", "ansible_chassis_serial": "None", "ansible_chassis_vendor": "No Enclosure", "ansible_chassis_version": "N/A", "ansible_form_factor": "Other", "ansible_product_name": "VMware Virtual Platform", "ansible_product_serial": "VMware-56 4d 13 ab e4 30 eb dd-eb 55 55 93 85 2f d9 27", "ansible_product_uuid": "ab134d56-30e4-ddeb-eb55-5593852fd927", "ansible_product_version": "None", "ansible_system_vendor": "VMware, Inc.", "ansible_devices": {"sr0": {"virtual": 1, "links": {"ids": ["ata-VMware_Virtual_IDE_CDROM_Drive_10000000000000000001"], "uuids": ["2021-04-23-10-53-02-00"], "labels": ["Fedora-S-dvd-x86_64-34"], "masters": []}, "vendor": "NECVMWar", "model": "VMware IDE CDR10", "sas_address": null, "sas_device_handle": null, "removable": "1", "support_discard": "0", "partitions": {}, "rotational": "1", "scheduler_mode": "bfq", "sectors": "4104192", "sectorsize": "2048", "size": "1.96 GB", "host": "IDE interface: Intel Corporation 82371AB/EB/MB PIIX4 IDE (rev 01)", "holders": []}, "dm-0": {"virtual": 1, "links": {"ids": ["dm-name-fedora_fedora-root", "dm-uuid-LVM-7jxwNZwbIlT2zhLQNYkDdk5ad9hy6cIJvtQTmfOhtO9ncZWdK8MBGzy4jFy4nHJx"], "uuids": ["a7edf097-e290-4469-ae87-078dca1d240a"], "labels": [], "masters": []}, "vendor": null, "model": null, "sas_address": null, "sas_device_handle": null, "removable": "0", "support_discard": "0", "partitions": {}, "rotational": "1", "scheduler_mode": "", "sectors": "18866176", "sectorsize": "512", "size": "9.00 GB", "host": "", "holders": []}, "sda": {"virtual": 1, "links": {"ids": [], "uuids": [], "labels": [], "masters": []}, "vendor": "VMware,", "model": "VMware Virtual S", "sas_address": null, "sas_device_handle": null, "removable": "0", "support_discard": "0", "partitions": {"sda2": {"links": {"ids": ["lvm-pv-uuid-rjeu7p-tab2-MqWk-DYUq-DzON-SxYX-vHpnuo"], "uuids": [], "labels": [], "masters": ["dm-0"]}, "start": "2099200", "sectors": "18872320", "sectorsize": 512, "size": "9.00 GB", "uuid": null, "holders": ["fedora_fedora-root"]}, "sda1": {"links": {"ids": [], "uuids": ["1546d3cb-7f60-410c-866d-47566ca5fd6b"], "labels": [], "masters": []}, "start": "2048", "sectors": "2097152", "sectorsize": 512, "size": "1.00 GB", "uuid": "1546d3cb-7f60-410c-866d-47566ca5fd6b", "holders": []}}, "rotational": "1", "scheduler_mode": "bfq", "sectors": "20971520", "sectorsize": "512", "size": "10.00 GB", "host": "SCSI storage controller: Broadcom / LSI 53c1030 PCI-X Fusion-MPT Dual Ultra320 SCSI (rev 01)", "holders": []}, "zram0": {"virtual": 1, "links": {"ids": [], "uuids": [], "labels": [], "masters": []}, "vendor": null, "model": null, "sas_address": null, "sas_device_handle": null, "removable": "0", "support_discard": "4096", "partitions": {}, "rotational": "0", "scheduler_mode": "", "sectors": "1923072", "sectorsize": "4096", "size": "939.00 MB", "host": "", "holders": []}}, "ansible_device_links": {"ids": {"dm-0": ["dm-name-fedora_fedora-root", "dm-uuid-LVM-7jxwNZwbIlT2zhLQNYkDdk5ad9hy6cIJvtQTmfOhtO9ncZWdK8MBGzy4jFy4nHJx"], "sda2": ["lvm-pv-uuid-rjeu7p-tab2-MqWk-DYUq-DzON-SxYX-vHpnuo"], "sr0": ["ata-VMware_Virtual_IDE_CDROM_Drive_10000000000000000001"]}, "uuids": {"sr0": ["2021-04-23-10-53-02-00"], "dm-0": ["a7edf097-e290-4469-ae87-078dca1d240a"], "sda1": ["1546d3cb-7f60-410c-866d-47566ca5fd6b"]}, "labels": {"sr0": ["Fedora-S-dvd-x86_64-34"]}, "masters": {"sda2": ["dm-0"]}}, "ansible_uptime_seconds": 35787, "ansible_lvm": {"lvs": {"root": {"size_g": "9.00", "vg": "fedora_fedora"}}, "vgs": {"fedora_fedora": {"size_g": "9.00", "free_g": "0", "num_lvs": "1", "num_pvs": "1"}}, "pvs": {"/dev/sda2": {"size_g": "9.00", "free_g": "0", "vg": "fedora_fedora"}}}, "ansible_mounts": [{"mount": "/", "device": "/dev/mapper/fedora_fedora-root", "fstype": "xfs", "options": "rw,seclabel,relatime,attr2,inode64,logbufs=8,logbsize=32k,noquota", "size_total": 9648996352, "size_available": 7087718400, "block_size": 4096, "block_total": 2355712, "block_available": 1730400, "block_used": 625312, "inode_total": 4716544, "inode_available": 4650539, "inode_used": 66005, "uuid": "a7edf097-e290-4469-ae87-078dca1d240a"}, {"mount": "/boot", "device": "/dev/sda1", "fstype": "xfs", "options": "rw,seclabel,relatime,attr2,inode64,logbufs=8,logbsize=32k,noquota", "size_total": 1063256064, "size_available": 867901440, "block_size": 4096, "block_total": 259584, "block_available": 211890, "block_used": 47694, "inode_total": 524288, "inode_available": 523932, "inode_used": 356, "uuid": "1546d3cb-7f60-410c-866d-47566ca5fd6b"}], "ansible_fips": false, "ansible_env": {"SHELL": "/bin/bash", "SUDO_GID": "1000", "SUDO_COMMAND": "/bin/sh -c echo BECOME-SUCCESS-bhclbwiiavxnqqurnkdhfepvjrzeinqz ; /usr/bin/python3 /home/k3s1/.ansible/tmp/ansible-tmp-1634555687.450187-34591-188532025980375/AnsiballZ_setup.py", "SUDO_USER": "k3s1", "PWD": "/home/k3s1", "LOGNAME": "root", "HOME": "/root", "LANG": "en_US.UTF-8", "LS_COLORS": "rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=01;37;41:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=01;36:*.au=01;36:*.flac=01;36:*.m4a=01;36:*.mid=01;36:*.midi=01;36:*.mka=01;36:*.mp3=01;36:*.mpc=01;36:*.ogg=01;36:*.ra=01;36:*.wav=01;36:*.oga=01;36:*.opus=01;36:*.spx=01;36:*.xspf=01;36:", "TERM": "xterm-256color", "USER": "root", "SHLVL": "0", "PATH": "/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/var/lib/snapd/snap/bin", "SUDO_UID": "1000", "MAIL": "/var/mail/root", "_": "/usr/bin/python3"}, "ansible_selinux_python_present": true, "ansible_selinux": {"status": "enabled", "policyvers": 33, "config_mode": "enforcing", "mode": "enforcing", "type": "targeted"}, "ansible_fibre_channel_wwn": [], "ansible_is_chroot": false, "ansible_iscsi_iqn": "", "ansible_date_time": {"year": "2021", "month": "10", "weekday": "Monday", "weekday_number": "1", "weeknumber": "42", "day": "18", "hour": "13", "minute": "14", "second": "49", "epoch": "1634555689", "date": "2021-10-18", "time": "13:14:49", "iso8601_micro": "2021-10-18T11:14:49.987412Z", "iso8601": "2021-10-18T11:14:49Z", "iso8601_basic": "20211018T131449987412", "iso8601_basic_short": "20211018T131449", "tz": "CEST", "tz_dst": "CEST", "tz_offset": "+0200"}, "ansible_cmdline": {"BOOT_IMAGE": "(hd0,msdos1)/vmlinuz-5.11.12-300.fc34.x86_64", "root": "/dev/mapper/fedora_fedora-root", "ro": true, "rd.lvm.lv": "fedora_fedora/root", "rhgb": true, "quiet": true}, "ansible_proc_cmdline": {"BOOT_IMAGE": "(hd0,msdos1)/vmlinuz-5.11.12-300.fc34.x86_64", "root": "/dev/mapper/fedora_fedora-root", "ro": true, "rd.lvm.lv": "fedora_fedora/root", "rhgb": true, "quiet": true}, "ansible_apparmor": {"status": "disabled"}, "ansible_interfaces": ["lo", "ens32", "ens32.1"], "ansible_ens32.1": {"device": "ens32.1", "macaddress": "00:0c:29:2f:d9:27", "mtu": 1500, "active": true, "type": "ether", "speed": 1000, "promisc": false, "ipv4": {"address": "172.20.254.3", "broadcast": "172.20.254.255", "netmask": "255.255.255.0", "network": "172.20.254.0"}, "ipv6": [{"address": "fe80::fa91:e7d0:edf7:a398", "prefix": "64", "scope": "link"}], "features": {"rx_checksumming": "off [fixed]", "tx_checksumming": "on", "tx_checksum_ipv4": "off [fixed]", "tx_checksum_ip_generic": "on", "tx_checksum_ipv6": "off [fixed]", "tx_checksum_fcoe_crc": "off [requested on]", "tx_checksum_sctp": "off [requested on]", "scatter_gather": "on", "tx_scatter_gather": "on", "tx_scatter_gather_fraglist": "off [requested on]", "tcp_segmentation_offload": "on", "tx_tcp_segmentation": "on", "tx_tcp_ecn_segmentation": "on", "tx_tcp_mangleid_segmentation": "on", "tx_tcp6_segmentation": "on", "generic_segmentation_offload": "on", "generic_receive_offload": "on", "large_receive_offload": "off [fixed]", "rx_vlan_offload": "off [fixed]", "tx_vlan_offload": "off [fixed]", "ntuple_filters": "off [fixed]", "receive_hashing": "off [fixed]", "highdma": "off [requested on]", "rx_vlan_filter": "off [fixed]", "vlan_challenged": "off [fixed]", "tx_lockless": "on [fixed]", "netns_local": "off [fixed]", "tx_gso_robust": "off [fixed]", "tx_fcoe_segmentation": "off [requested on]", "tx_gre_segmentation": "off [requested on]", "tx_gre_csum_segmentation": "off [requested on]", "tx_ipxip4_segmentation": "off [requested on]", "tx_ipxip6_segmentation": "off [requested on]", "tx_udp_tnl_segmentation": "off [requested on]", "tx_udp_tnl_csum_segmentation": "off [requested on]", "tx_gso_partial": "off [fixed]", "tx_tunnel_remcsum_segmentation": "off [fixed]", "tx_sctp_segmentation": "on", "tx_esp_segmentation": "off [fixed]", "tx_udp_segmentation": "on", "tx_gso_list": "on", "fcoe_mtu": "off [requested on]", "tx_nocache_copy": "off", "loopback": "off [fixed]", "rx_fcs": "off [fixed]", "rx_all": "off [fixed]", "tx_vlan_stag_hw_insert": "off [fixed]", "rx_vlan_stag_hw_parse": "off [fixed]", "rx_vlan_stag_filter": "off [fixed]", "l2_fwd_offload": "off [fixed]", "hw_tc_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "esp_tx_csum_hw_offload": "off [fixed]", "rx_udp_tunnel_port_offload": "off [fixed]", "tls_hw_tx_offload": "off [fixed]", "tls_hw_rx_offload": "off [fixed]", "rx_gro_hw": "off [fixed]", "tls_hw_record": "off [fixed]", "rx_gro_list": "off", "macsec_hw_offload": "off [fixed]"}, "timestamping": [], "hw_timestamp_filters": []}, "ansible_ens32": {"device": "ens32", "macaddress": "00:0c:29:2f:d9:27", "mtu": 1500, "active": true, "module": "e1000", "type": "ether", "pciid": "0000:02:00.0", "speed": 1000, "promisc": false, "ipv4": {"address": "172.22.22.7", "broadcast": "172.22.22.255", "netmask": "255.255.255.0", "network": "172.22.22.0"}, "ipv6": [{"address": "fe80::20c:29ff:fe2f:d927", "prefix": "64", "scope": "link"}], "features": {"rx_checksumming": "off", "tx_checksumming": "on", "tx_checksum_ipv4": "off [fixed]", "tx_checksum_ip_generic": "on", "tx_checksum_ipv6": "off [fixed]", "tx_checksum_fcoe_crc": "off [fixed]", "tx_checksum_sctp": "off [fixed]", "scatter_gather": "on", "tx_scatter_gather": "on", "tx_scatter_gather_fraglist": "off [fixed]", "tcp_segmentation_offload": "on", "tx_tcp_segmentation": "on", "tx_tcp_ecn_segmentation": "off [fixed]", "tx_tcp_mangleid_segmentation": "off", "tx_tcp6_segmentation": "off [fixed]", "generic_segmentation_offload": "on", "generic_receive_offload": "on", "large_receive_offload": "off [fixed]", "rx_vlan_offload": "on", "tx_vlan_offload": "on [fixed]", "ntuple_filters": "off [fixed]", "receive_hashing": "off [fixed]", "highdma": "off [fixed]", "rx_vlan_filter": "on [fixed]", "vlan_challenged": "off [fixed]", "tx_lockless": "off [fixed]", "netns_local": "off [fixed]", "tx_gso_robust": "off [fixed]", "tx_fcoe_segmentation": "off [fixed]", "tx_gre_segmentation": "off [fixed]", "tx_gre_csum_segmentation": "off [fixed]", "tx_ipxip4_segmentation": "off [fixed]", "tx_ipxip6_segmentation": "off [fixed]", "tx_udp_tnl_segmentation": "off [fixed]", "tx_udp_tnl_csum_segmentation": "off [fixed]", "tx_gso_partial": "off [fixed]", "tx_tunnel_remcsum_segmentation": "off [fixed]", "tx_sctp_segmentation": "off [fixed]", "tx_esp_segmentation": "off [fixed]", "tx_udp_segmentation": "off [fixed]", "tx_gso_list": "off [fixed]", "fcoe_mtu": "off [fixed]", "tx_nocache_copy": "off", "loopback": "off [fixed]", "rx_fcs": "off", "rx_all": "off", "tx_vlan_stag_hw_insert": "off [fixed]", "rx_vlan_stag_hw_parse": "off [fixed]", "rx_vlan_stag_filter": "off [fixed]", "l2_fwd_offload": "off [fixed]", "hw_tc_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "esp_tx_csum_hw_offload": "off [fixed]", "rx_udp_tunnel_port_offload": "off [fixed]", "tls_hw_tx_offload": "off [fixed]", "tls_hw_rx_offload": "off [fixed]", "rx_gro_hw": "off [fixed]", "tls_hw_record": "off [fixed]", "rx_gro_list": "off", "macsec_hw_offload": "off [fixed]"}, "timestamping": [], "hw_timestamp_filters": []}, "ansible_lo": {"device": "lo", "mtu": 65536, "active": true, "type": "loopback", "promisc": false, "ipv4": {"address": "127.0.0.1", "broadcast": "", "netmask": "255.0.0.0", "network": "127.0.0.0"}, "ipv6": [{"address": "::1", "prefix": "128", "scope": "host"}], "features": {"rx_checksumming": "on [fixed]", "tx_checksumming": "on", "tx_checksum_ipv4": "off [fixed]", "tx_checksum_ip_generic": "on [fixed]", "tx_checksum_ipv6": "off [fixed]", "tx_checksum_fcoe_crc": "off [fixed]", "tx_checksum_sctp": "on [fixed]", "scatter_gather": "on", "tx_scatter_gather": "on [fixed]", "tx_scatter_gather_fraglist": "on [fixed]", "tcp_segmentation_offload": "on", "tx_tcp_segmentation": "on", "tx_tcp_ecn_segmentation": "on", "tx_tcp_mangleid_segmentation": "on", "tx_tcp6_segmentation": "on", "generic_segmentation_offload": "on", "generic_receive_offload": "on", "large_receive_offload": "off [fixed]", "rx_vlan_offload": "off [fixed]", "tx_vlan_offload": "off [fixed]", "ntuple_filters": "off [fixed]", "receive_hashing": "off [fixed]", "highdma": "on [fixed]", "rx_vlan_filter": "off [fixed]", "vlan_challenged": "on [fixed]", "tx_lockless": "on [fixed]", "netns_local": "on [fixed]", "tx_gso_robust": "off [fixed]", "tx_fcoe_segmentation": "off [fixed]", "tx_gre_segmentation": "off [fixed]", "tx_gre_csum_segmentation": "off [fixed]", "tx_ipxip4_segmentation": "off [fixed]", "tx_ipxip6_segmentation": "off [fixed]", "tx_udp_tnl_segmentation": "off [fixed]", "tx_udp_tnl_csum_segmentation": "off [fixed]", "tx_gso_partial": "off [fixed]", "tx_tunnel_remcsum_segmentation": "off [fixed]", "tx_sctp_segmentation": "on", "tx_esp_segmentation": "off [fixed]", "tx_udp_segmentation": "on", "tx_gso_list": "on", "fcoe_mtu": "off [fixed]", "tx_nocache_copy": "off [fixed]", "loopback": "on [fixed]", "rx_fcs": "off [fixed]", "rx_all": "off [fixed]", "tx_vlan_stag_hw_insert": "off [fixed]", "rx_vlan_stag_hw_parse": "off [fixed]", "rx_vlan_stag_filter": "off [fixed]", "l2_fwd_offload": "off [fixed]", "hw_tc_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "esp_tx_csum_hw_offload": "off [fixed]", "rx_udp_tunnel_port_offload": "off [fixed]", "tls_hw_tx_offload": "off [fixed]", "tls_hw_rx_offload": "off [fixed]", "rx_gro_hw": "off [fixed]", "tls_hw_record": "off [fixed]", "rx_gro_list": "off", "macsec_hw_offload": "off [fixed]"}, "timestamping": [], "hw_timestamp_filters": []}, "ansible_default_ipv4": {"gateway": "172.22.22.1", "interface": "ens32", "address": "172.22.22.7", "broadcast": "172.22.22.255", "netmask": "255.255.255.0", "network": "172.22.22.0", "macaddress": "00:0c:29:2f:d9:27", "mtu": 1500, "type": "ether", "alias": "ens32"}, "ansible_default_ipv6": {}, "ansible_all_ipv4_addresses": ["172.20.254.3", "172.22.22.7"], "ansible_all_ipv6_addresses": ["fe80::fa91:e7d0:edf7:a398", "fe80::20c:29ff:fe2f:d927"], "ansible_service_mgr": "systemd", "ansible_pkg_mgr": "dnf", "gather_subset": ["all"], "module_setup": true}, "invocation": {"module_args": {"gather_subset": ["all"], "gather_timeout": 10, "filter": [], "fact_path": "/etc/ansible/facts.d"}}}\r\n', b'Shared connection to 172.20.254.3 closed.\r\n')
2021-10-18 13:14:50,368 p=34589 u=eduardgevorkyan n=ansible | <172.20.254.2> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:14:50,379 p=34589 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 172.20.254.2 '/bin/sh -c '"'"'rm -f -r /home/k3s1/.ansible/tmp/ansible-tmp-1634555687.4160972-34589-191591147719588/ > /dev/null 2>&1 && sleep 0'"'"''
2021-10-18 13:14:50,397 p=34591 u=eduardgevorkyan n=ansible | <172.20.254.3> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:14:50,455 p=34591 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 172.20.254.3 '/bin/sh -c '"'"'rm -f -r /home/k3s1/.ansible/tmp/ansible-tmp-1634555687.450187-34591-188532025980375/ > /dev/null 2>&1 && sleep 0'"'"''
2021-10-18 13:14:50,457 p=34588 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'\r\n{"ansible_facts": {"ansible_fips": false, "ansible_user_id": "root", "ansible_user_uid": 0, "ansible_user_gid": 0, "ansible_user_gecos": "root", "ansible_user_dir": "/root", "ansible_user_shell": "/bin/bash", "ansible_real_user_id": 0, "ansible_effective_user_id": 0, "ansible_real_group_id": 0, "ansible_effective_group_id": 0, "ansible_distribution": "Fedora", "ansible_distribution_release": "", "ansible_distribution_version": "34", "ansible_distribution_major_version": "34", "ansible_distribution_file_path": "/etc/redhat-release", "ansible_distribution_file_variety": "RedHat", "ansible_distribution_file_parsed": true, "ansible_os_family": "RedHat", "ansible_ssh_host_key_rsa_public": "AAAAB3NzaC1yc2EAAAADAQABAAABgQDrhtuduwUtaRWuHMtiOPZYKjlKJbjaqmBbcfPqxdpzbXlExXpVFnaZOJF0l69GGzu3AJxkgu2ajhbGMe8k/q14iQeaGQe+tXe0la4SpCrlvZ8xXw+pCwwjEhi6mrsJzXpqZxstIsnO5KDaYmNA4vgfh+Uf6JnTgCuBMEjWp4zgaepo1QC1Natx74KpO3bKgwGj3atv6nTsYZLgM1D63CSzeIqfOEX6EjEv8KndikEI4Leqiu181l7mLQvaypBqpg6yIzXrE+pLhu/SkyJztuZQE6O6RFtuCDC0eLCVIwW+b8LbsKut4x777Ox/HQbSj7DScJHLpWUWN2OUMcCx+bnp7BRPuHfIm0VdgHyc5uUuk/LW5G47OLpFMCWzf1BcVNhwI3q3aHte41M81dL5hSXuHp0MlalMK5IQI4n0nwO3JhqR/h2hshgPIoV99VXal7S15YObidnVHwLObLxBe18Vr3eyGWp7QuDIybKVOWkJ2vV6ckfUZpkGDfifHuBRZ5U=", "ansible_ssh_host_key_rsa_public_keytype": "ssh-rsa", "ansible_ssh_host_key_ecdsa_public": "AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBFSgyTOjq69TAgxUdV0gihLbk5kqzlwoY/IfYGC/h108JQdrDse8s6LvGgb37ZJcPdPovnCUJUsUrJOyeifKQO0=", "ansible_ssh_host_key_ecdsa_public_keytype": "ecdsa-sha2-nistp256", "ansible_ssh_host_key_ed25519_public": "AAAAC3NzaC1lZDI1NTE5AAAAIDM2LOsc8SI85Kfi2BIEEQyZV9TTdSyqXfY8x3W25tLJ", "ansible_ssh_host_key_ed25519_public_keytype": "ssh-ed25519", "ansible_date_time": {"year": "2021", "month": "10", "weekday": "Monday", "weekday_number": "1", "weeknumber": "42", "day": "18", "hour": "13", "minute": "14", "second": "49", "epoch": "1634555689", "date": "2021-10-18", "time": "13:14:49", "iso8601_micro": "2021-10-18T11:14:49.559187Z", "iso8601": "2021-10-18T11:14:49Z", "iso8601_basic": "20211018T131449559187", "iso8601_basic_short": "20211018T131449", "tz": "CEST", "tz_dst": "CEST", "tz_offset": "+0200"}, "ansible_env": {"SHELL": "/bin/bash", "SUDO_GID": "1000", "SUDO_COMMAND": "/bin/sh -c echo BECOME-SUCCESS-cuvxosoklzojzbomnosmrqxgzbzlzkcv ; /usr/bin/python3 /home/k3s1/.ansible/tmp/ansible-tmp-1634555687.3245246-34588-70746197253624/AnsiballZ_setup.py", "SUDO_USER": "k3s1", "PWD": "/home/k3s1", "LOGNAME": "root", "HOME": "/root", "LANG": "en_US.UTF-8", "LS_COLORS": "rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=01;37;41:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=01;36:*.au=01;36:*.flac=01;36:*.m4a=01;36:*.mid=01;36:*.midi=01;36:*.mka=01;36:*.mp3=01;36:*.mpc=01;36:*.ogg=01;36:*.ra=01;36:*.wav=01;36:*.oga=01;36:*.opus=01;36:*.spx=01;36:*.xspf=01;36:", "TERM": "xterm-256color", "USER": "root", "SHLVL": "0", "PATH": "/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/var/lib/snapd/snap/bin", "SUDO_UID": "1000", "MAIL": "/var/mail/root", "_": "/usr/bin/python3"}, "ansible_apparmor": {"status": "disabled"}, "ansible_system_capabilities_enforced": "False", "ansible_system_capabilities": [], "ansible_virtualization_role": "guest", "ansible_virtualization_type": "VMware", "ansible_virtualization_tech_guest": ["VMware"], "ansible_virtualization_tech_host": [], "ansible_lsb": {}, "ansible_hostnqn": "", "ansible_system": "Linux", "ansible_kernel": "5.11.12-300.fc34.x86_64", "ansible_kernel_version": "#1 SMP Wed Apr 7 16:31:13 UTC 2021", "ansible_machine": "x86_64", "ansible_python_version": "3.9.2", "ansible_fqdn": "k3s1", "ansible_hostname": "k3s1", "ansible_nodename": "k3s1", "ansible_domain": "", "ansible_userspace_bits": "64", "ansible_architecture": "x86_64", "ansible_userspace_architecture": "x86_64", "ansible_machine_id": "250bb7177185479eba03735879fbc0d3", "ansible_processor": ["0", "GenuineIntel", "Intel(R) Core(TM) i5-6300U CPU @ 2.40GHz"], "ansible_processor_count": 1, "ansible_processor_cores": 1, "ansible_processor_threads_per_core": 1, "ansible_processor_vcpus": 1, "ansible_processor_nproc": 1, "ansible_memtotal_mb": 939, "ansible_memfree_mb": 177, "ansible_swaptotal_mb": 938, "ansible_swapfree_mb": 872, "ansible_memory_mb": {"real": {"total": 939, "used": 762, "free": 177}, "nocache": {"free": 547, "used": 392}, "swap": {"total": 938, "free": 872, "used": 66, "cached": 0}}, "ansible_bios_date": "07/22/2020", "ansible_bios_vendor": "Phoenix Technologies LTD", "ansible_bios_version": "6.00", "ansible_board_asset_tag": "NA", "ansible_board_name": "440BX Desktop Reference Platform", "ansible_board_serial": "None", "ansible_board_vendor": "Intel Corporation", "ansible_board_version": "None", "ansible_chassis_asset_tag": "No Asset Tag", "ansible_chassis_serial": "None", "ansible_chassis_vendor": "No Enclosure", "ansible_chassis_version": "N/A", "ansible_form_factor": "Other", "ansible_product_name": "VMware Virtual Platform", "ansible_product_serial": "VMware-56 4d 1d 4a de e0 6a 61-cd fd f8 d6 89 75 67 d5", "ansible_product_uuid": "4a1d4d56-e0de-616a-cdfd-f8d6897567d5", "ansible_product_version": "None", "ansible_system_vendor": "VMware, Inc.", "ansible_devices": {"sr0": {"virtual": 1, "links": {"ids": ["ata-VMware_Virtual_IDE_CDROM_Drive_10000000000000000001"], "uuids": ["2021-04-23-10-53-02-00"], "labels": ["Fedora-S-dvd-x86_64-34"], "masters": []}, "vendor": "NECVMWar", "model": "VMware IDE CDR10", "sas_address": null, "sas_device_handle": null, "removable": "1", "support_discard": "0", "partitions": {}, "rotational": "1", "scheduler_mode": "bfq", "sectors": "4104192", "sectorsize": "2048", "size": "1.96 GB", "host": "IDE interface: Intel Corporation 82371AB/EB/MB PIIX4 IDE (rev 01)", "holders": []}, "dm-0": {"virtual": 1, "links": {"ids": ["dm-name-fedora_fedora-root", "dm-uuid-LVM-7jxwNZwbIlT2zhLQNYkDdk5ad9hy6cIJvtQTmfOhtO9ncZWdK8MBGzy4jFy4nHJx"], "uuids": ["a7edf097-e290-4469-ae87-078dca1d240a"], "labels": [], "masters": []}, "vendor": null, "model": null, "sas_address": null, "sas_device_handle": null, "removable": "0", "support_discard": "0", "partitions": {}, "rotational": "1", "scheduler_mode": "", "sectors": "18866176", "sectorsize": "512", "size": "9.00 GB", "host": "", "holders": []}, "sda": {"virtual": 1, "links": {"ids": [], "uuids": [], "labels": [], "masters": []}, "vendor": "VMware,", "model": "VMware Virtual S", "sas_address": null, "sas_device_handle": null, "removable": "0", "support_discard": "0", "partitions": {"sda2": {"links": {"ids": ["lvm-pv-uuid-rjeu7p-tab2-MqWk-DYUq-DzON-SxYX-vHpnuo"], "uuids": [], "labels": [], "masters": ["dm-0"]}, "start": "2099200", "sectors": "18872320", "sectorsize": 512, "size": "9.00 GB", "uuid": null, "holders": ["fedora_fedora-root"]}, "sda1": {"links": {"ids": [], "uuids": ["1546d3cb-7f60-410c-866d-47566ca5fd6b"], "labels": [], "masters": []}, "start": "2048", "sectors": "2097152", "sectorsize": 512, "size": "1.00 GB", "uuid": "1546d3cb-7f60-410c-866d-47566ca5fd6b", "holders": []}}, "rotational": "1", "scheduler_mode": "bfq", "sectors": "20971520", "sectorsize": "512", "size": "10.00 GB", "host": "SCSI storage controller: Broadcom / LSI 53c1030 PCI-X Fusion-MPT Dual Ultra320 SCSI (rev 01)", "holders": []}, "zram0": {"virtual": 1, "links": {"ids": [], "uuids": [], "labels": [], "masters": []}, "vendor": null, "model": null, "sas_address": null, "sas_device_handle": null, "removable": "0", "support_discard": "4096", "partitions": {}, "rotational": "0", "scheduler_mode": "", "sectors": "1923072", "sectorsize": "4096", "size": "939.00 MB", "host": "", "holders": []}}, "ansible_device_links": {"ids": {"dm-0": ["dm-name-fedora_fedora-root", "dm-uuid-LVM-7jxwNZwbIlT2zhLQNYkDdk5ad9hy6cIJvtQTmfOhtO9ncZWdK8MBGzy4jFy4nHJx"], "sda2": ["lvm-pv-uuid-rjeu7p-tab2-MqWk-DYUq-DzON-SxYX-vHpnuo"], "sr0": ["ata-VMware_Virtual_IDE_CDROM_Drive_10000000000000000001"]}, "uuids": {"sr0": ["2021-04-23-10-53-02-00"], "dm-0": ["a7edf097-e290-4469-ae87-078dca1d240a"], "sda1": ["1546d3cb-7f60-410c-866d-47566ca5fd6b"]}, "labels": {"sr0": ["Fedora-S-dvd-x86_64-34"]}, "masters": {"sda2": ["dm-0"]}}, "ansible_uptime_seconds": 35802, "ansible_lvm": {"lvs": {"root": {"size_g": "9.00", "vg": "fedora_fedora"}}, "vgs": {"fedora_fedora": {"size_g": "9.00", "free_g": "0", "num_lvs": "1", "num_pvs": "1"}}, "pvs": {"/dev/sda2": {"size_g": "9.00", "free_g": "0", "vg": "fedora_fedora"}}}, "ansible_mounts": [{"mount": "/", "device": "/dev/mapper/fedora_fedora-root", "fstype": "xfs", "options": "rw,seclabel,relatime,attr2,inode64,logbufs=8,logbsize=32k,noquota", "size_total": 9648996352, "size_available": 7087202304, "block_size": 4096, "block_total": 2355712, "block_available": 1730274, "block_used": 625438, "inode_total": 4716544, "inode_available": 4650541, "inode_used": 66003, "uuid": "a7edf097-e290-4469-ae87-078dca1d240a"}, {"mount": "/boot", "device": "/dev/sda1", "fstype": "xfs", "options": "rw,seclabel,relatime,attr2,inode64,logbufs=8,logbsize=32k,noquota", "size_total": 1063256064, "size_available": 867901440, "block_size": 4096, "block_total": 259584, "block_available": 211890, "block_used": 47694, "inode_total": 524288, "inode_available": 523932, "inode_used": 356, "uuid": "1546d3cb-7f60-410c-866d-47566ca5fd6b"}], "ansible_selinux_python_present": true, "ansible_selinux": {"status": "enabled", "policyvers": 33, "config_mode": "enforcing", "mode": "enforcing", "type": "targeted"}, "ansible_fibre_channel_wwn": [], "ansible_is_chroot": false, "ansible_interfaces": ["lo", "ens32", "ens32.1"], "ansible_lo": {"device": "lo", "mtu": 65536, "active": true, "type": "loopback", "promisc": false, "ipv4": {"address": "127.0.0.1", "broadcast": "", "netmask": "255.0.0.0", "network": "127.0.0.0"}, "ipv6": [{"address": "::1", "prefix": "128", "scope": "host"}], "features": {"rx_checksumming": "on [fixed]", "tx_checksumming": "on", "tx_checksum_ipv4": "off [fixed]", "tx_checksum_ip_generic": "on [fixed]", "tx_checksum_ipv6": "off [fixed]", "tx_checksum_fcoe_crc": "off [fixed]", "tx_checksum_sctp": "on [fixed]", "scatter_gather": "on", "tx_scatter_gather": "on [fixed]", "tx_scatter_gather_fraglist": "on [fixed]", "tcp_segmentation_offload": "on", "tx_tcp_segmentation": "on", "tx_tcp_ecn_segmentation": "on", "tx_tcp_mangleid_segmentation": "on", "tx_tcp6_segmentation": "on", "generic_segmentation_offload": "on", "generic_receive_offload": "on", "large_receive_offload": "off [fixed]", "rx_vlan_offload": "off [fixed]", "tx_vlan_offload": "off [fixed]", "ntuple_filters": "off [fixed]", "receive_hashing": "off [fixed]", "highdma": "on [fixed]", "rx_vlan_filter": "off [fixed]", "vlan_challenged": "on [fixed]", "tx_lockless": "on [fixed]", "netns_local": "on [fixed]", "tx_gso_robust": "off [fixed]", "tx_fcoe_segmentation": "off [fixed]", "tx_gre_segmentation": "off [fixed]", "tx_gre_csum_segmentation": "off [fixed]", "tx_ipxip4_segmentation": "off [fixed]", "tx_ipxip6_segmentation": "off [fixed]", "tx_udp_tnl_segmentation": "off [fixed]", "tx_udp_tnl_csum_segmentation": "off [fixed]", "tx_gso_partial": "off [fixed]", "tx_tunnel_remcsum_segmentation": "off [fixed]", "tx_sctp_segmentation": "on", "tx_esp_segmentation": "off [fixed]", "tx_udp_segmentation": "on", "tx_gso_list": "on", "fcoe_mtu": "off [fixed]", "tx_nocache_copy": "off [fixed]", "loopback": "on [fixed]", "rx_fcs": "off [fixed]", "rx_all": "off [fixed]", "tx_vlan_stag_hw_insert": "off [fixed]", "rx_vlan_stag_hw_parse": "off [fixed]", "rx_vlan_stag_filter": "off [fixed]", "l2_fwd_offload": "off [fixed]", "hw_tc_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "esp_tx_csum_hw_offload": "off [fixed]", "rx_udp_tunnel_port_offload": "off [fixed]", "tls_hw_tx_offload": "off [fixed]", "tls_hw_rx_offload": "off [fixed]", "rx_gro_hw": "off [fixed]", "tls_hw_record": "off [fixed]", "rx_gro_list": "off", "macsec_hw_offload": "off [fixed]"}, "timestamping": [], "hw_timestamp_filters": []}, "ansible_ens32.1": {"device": "ens32.1", "macaddress": "00:0c:29:75:67:d5", "mtu": 1500, "active": true, "type": "ether", "speed": 1000, "promisc": false, "ipv4": {"address": "172.20.254.1", "broadcast": "172.20.254.255", "netmask": "255.255.255.0", "network": "172.20.254.0"}, "ipv6": [{"address": "fe80::e96f:61b:c678:aeb1", "prefix": "64", "scope": "link"}], "features": {"rx_checksumming": "off [fixed]", "tx_checksumming": "on", "tx_checksum_ipv4": "off [fixed]", "tx_checksum_ip_generic": "on", "tx_checksum_ipv6": "off [fixed]", "tx_checksum_fcoe_crc": "off [requested on]", "tx_checksum_sctp": "off [requested on]", "scatter_gather": "on", "tx_scatter_gather": "on", "tx_scatter_gather_fraglist": "off [requested on]", "tcp_segmentation_offload": "on", "tx_tcp_segmentation": "on", "tx_tcp_ecn_segmentation": "on", "tx_tcp_mangleid_segmentation": "on", "tx_tcp6_segmentation": "on", "generic_segmentation_offload": "on", "generic_receive_offload": "on", "large_receive_offload": "off [fixed]", "rx_vlan_offload": "off [fixed]", "tx_vlan_offload": "off [fixed]", "ntuple_filters": "off [fixed]", "receive_hashing": "off [fixed]", "highdma": "off [requested on]", "rx_vlan_filter": "off [fixed]", "vlan_challenged": "off [fixed]", "tx_lockless": "on [fixed]", "netns_local": "off [fixed]", "tx_gso_robust": "off [fixed]", "tx_fcoe_segmentation": "off [requested on]", "tx_gre_segmentation": "off [requested on]", "tx_gre_csum_segmentation": "off [requested on]", "tx_ipxip4_segmentation": "off [requested on]", "tx_ipxip6_segmentation": "off [requested on]", "tx_udp_tnl_segmentation": "off [requested on]", "tx_udp_tnl_csum_segmentation": "off [requested on]", "tx_gso_partial": "off [fixed]", "tx_tunnel_remcsum_segmentation": "off [fixed]", "tx_sctp_segmentation": "on", "tx_esp_segmentation": "off [fixed]", "tx_udp_segmentation": "on", "tx_gso_list": "on", "fcoe_mtu": "off [requested on]", "tx_nocache_copy": "off", "loopback": "off [fixed]", "rx_fcs": "off [fixed]", "rx_all": "off [fixed]", "tx_vlan_stag_hw_insert": "off [fixed]", "rx_vlan_stag_hw_parse": "off [fixed]", "rx_vlan_stag_filter": "off [fixed]", "l2_fwd_offload": "off [fixed]", "hw_tc_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "esp_tx_csum_hw_offload": "off [fixed]", "rx_udp_tunnel_port_offload": "off [fixed]", "tls_hw_tx_offload": "off [fixed]", "tls_hw_rx_offload": "off [fixed]", "rx_gro_hw": "off [fixed]", "tls_hw_record": "off [fixed]", "rx_gro_list": "off", "macsec_hw_offload": "off [fixed]"}, "timestamping": [], "hw_timestamp_filters": []}, "ansible_ens32": {"device": "ens32", "macaddress": "00:0c:29:75:67:d5", "mtu": 1500, "active": true, "module": "e1000", "type": "ether", "pciid": "0000:02:00.0", "speed": 1000, "promisc": false, "ipv4": {"address": "172.22.22.5", "broadcast": "172.22.22.255", "netmask": "255.255.255.0", "network": "172.22.22.0"}, "ipv6": [{"address": "fe80::20c:29ff:fe75:67d5", "prefix": "64", "scope": "link"}], "features": {"rx_checksumming": "off", "tx_checksumming": "on", "tx_checksum_ipv4": "off [fixed]", "tx_checksum_ip_generic": "on", "tx_checksum_ipv6": "off [fixed]", "tx_checksum_fcoe_crc": "off [fixed]", "tx_checksum_sctp": "off [fixed]", "scatter_gather": "on", "tx_scatter_gather": "on", "tx_scatter_gather_fraglist": "off [fixed]", "tcp_segmentation_offload": "on", "tx_tcp_segmentation": "on", "tx_tcp_ecn_segmentation": "off [fixed]", "tx_tcp_mangleid_segmentation": "off", "tx_tcp6_segmentation": "off [fixed]", "generic_segmentation_offload": "on", "generic_receive_offload": "on", "large_receive_offload": "off [fixed]", "rx_vlan_offload": "on", "tx_vlan_offload": "on [fixed]", "ntuple_filters": "off [fixed]", "receive_hashing": "off [fixed]", "highdma": "off [fixed]", "rx_vlan_filter": "on [fixed]", "vlan_challenged": "off [fixed]", "tx_lockless": "off [fixed]", "netns_local": "off [fixed]", "tx_gso_robust": "off [fixed]", "tx_fcoe_segmentation": "off [fixed]", "tx_gre_segmentation": "off [fixed]", "tx_gre_csum_segmentation": "off [fixed]", "tx_ipxip4_segmentation": "off [fixed]", "tx_ipxip6_segmentation": "off [fixed]", "tx_udp_tnl_segmentation": "off [fixed]", "tx_udp_tnl_csum_segmentation": "off [fixed]", "tx_gso_partial": "off [fixed]", "tx_tunnel_remcsum_segmentation": "off [fixed]", "tx_sctp_segmentation": "off [fixed]", "tx_esp_segmentation": "off [fixed]", "tx_udp_segmentation": "off [fixed]", "tx_gso_list": "off [fixed]", "fcoe_mtu": "off [fixed]", "tx_nocache_copy": "off", "loopback": "off [fixed]", "rx_fcs": "off", "rx_all": "off", "tx_vlan_stag_hw_insert": "off [fixed]", "rx_vlan_stag_hw_parse": "off [fixed]", "rx_vlan_stag_filter": "off [fixed]", "l2_fwd_offload": "off [fixed]", "hw_tc_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "esp_tx_csum_hw_offload": "off [fixed]", "rx_udp_tunnel_port_offload": "off [fixed]", "tls_hw_tx_offload": "off [fixed]", "tls_hw_rx_offload": "off [fixed]", "rx_gro_hw": "off [fixed]", "tls_hw_record": "off [fixed]", "rx_gro_list": "off", "macsec_hw_offload": "off [fixed]"}, "timestamping": [], "hw_timestamp_filters": []}, "ansible_default_ipv4": {"gateway": "172.22.22.1", "interface": "ens32", "address": "172.22.22.5", "broadcast": "172.22.22.255", "netmask": "255.255.255.0", "network": "172.22.22.0", "macaddress": "00:0c:29:75:67:d5", "mtu": 1500, "type": "ether", "alias": "ens32"}, "ansible_default_ipv6": {}, "ansible_all_ipv4_addresses": ["172.20.254.1", "172.22.22.5"], "ansible_all_ipv6_addresses": ["fe80::e96f:61b:c678:aeb1", "fe80::20c:29ff:fe75:67d5"], "ansible_iscsi_iqn": "", "ansible_pkg_mgr": "dnf", "ansible_cmdline": {"BOOT_IMAGE": "(hd0,msdos1)/vmlinuz-5.11.12-300.fc34.x86_64", "root": "/dev/mapper/fedora_fedora-root", "ro": true, "rd.lvm.lv": "fedora_fedora/root", "rhgb": true, "quiet": true}, "ansible_proc_cmdline": {"BOOT_IMAGE": "(hd0,msdos1)/vmlinuz-5.11.12-300.fc34.x86_64", "root": "/dev/mapper/fedora_fedora-root", "ro": true, "rd.lvm.lv": "fedora_fedora/root", "rhgb": true, "quiet": true}, "ansible_local": {}, "ansible_python": {"version": {"major": 3, "minor": 9, "micro": 2, "releaselevel": "final", "serial": 0}, "version_info": [3, 9, 2, "final", 0], "executable": "/usr/bin/python3", "has_sslcontext": true, "type": "cpython"}, "ansible_dns": {"nameservers": ["127.0.0.53"], "options": {"edns0": true, "trust-ad": true}, "search": ["home.arpa"]}, "ansible_service_mgr": "systemd", "gather_subset": ["all"], "module_setup": true}, "invocation": {"module_args": {"gather_subset": ["all"], "gather_timeout": 10, "filter": [], "fact_path": "/etc/ansible/facts.d"}}}\r\n', b'Shared connection to 172.20.254.1 closed.\r\n')
2021-10-18 13:14:50,498 p=34588 u=eduardgevorkyan n=ansible | <172.20.254.1> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:14:50,519 p=34588 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e 172.20.254.1 '/bin/sh -c '"'"'rm -f -r /home/k3s1/.ansible/tmp/ansible-tmp-1634555687.3245246-34588-70746197253624/ > /dev/null 2>&1 && sleep 0'"'"''
2021-10-18 13:14:50,640 p=34589 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'', b'')
2021-10-18 13:14:50,914 p=34591 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'', b'')
2021-10-18 13:14:51,074 p=34588 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'', b'')
2021-10-18 13:14:51,339 p=34584 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-18 13:14:51,344 p=34584 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-18 13:14:51,346 p=34584 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-18 13:14:51,371 p=34584 u=eduardgevorkyan n=ansible | META: ran handlers
2021-10-18 13:14:51,392 p=34584 u=eduardgevorkyan n=ansible | TASK [artem_shestakov.keepalived : Install Keepalived] ***********************************************************************************
2021-10-18 13:14:51,711 p=34584 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/artem_shestakov.keepalived/tasks/redhat.yml for k3s1, k3s2, k3s3
2021-10-18 13:14:51,728 p=34584 u=eduardgevorkyan n=ansible | TASK [artem_shestakov.keepalived : Install Keepalived] ***********************************************************************************
2021-10-18 13:14:51,796 p=34652 u=eduardgevorkyan n=ansible | <172.20.254.1> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:14:51,807 p=34652 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e 172.20.254.1 '/bin/sh -c '"'"'echo ~k3s1 && sleep 0'"'"''
2021-10-18 13:14:51,882 p=34653 u=eduardgevorkyan n=ansible | <172.20.254.2> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:14:51,895 p=34653 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 172.20.254.2 '/bin/sh -c '"'"'echo ~k3s1 && sleep 0'"'"''
2021-10-18 13:14:51,965 p=34652 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'/home/k3s1\n', b'')
2021-10-18 13:14:51,966 p=34652 u=eduardgevorkyan n=ansible | <172.20.254.1> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:14:51,972 p=34652 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e 172.20.254.1 '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/k3s1/.ansible/tmp `"&& mkdir "` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555691.9664695-34652-123235502407572 `" && echo ansible-tmp-1634555691.9664695-34652-123235502407572="` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555691.9664695-34652-123235502407572 `" ) && sleep 0'"'"''
2021-10-18 13:14:52,038 p=34655 u=eduardgevorkyan n=ansible | <172.20.254.3> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:14:52,043 p=34655 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 172.20.254.3 '/bin/sh -c '"'"'echo ~k3s1 && sleep 0'"'"''
2021-10-18 13:14:52,106 p=34653 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'/home/k3s1\n', b'')
2021-10-18 13:14:52,107 p=34653 u=eduardgevorkyan n=ansible | <172.20.254.2> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:14:52,112 p=34653 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 172.20.254.2 '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/k3s1/.ansible/tmp `"&& mkdir "` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555692.1071558-34653-79916310769159 `" && echo ansible-tmp-1634555692.1071558-34653-79916310769159="` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555692.1071558-34653-79916310769159 `" ) && sleep 0'"'"''
2021-10-18 13:14:52,207 p=34652 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'ansible-tmp-1634555691.9664695-34652-123235502407572=/home/k3s1/.ansible/tmp/ansible-tmp-1634555691.9664695-34652-123235502407572\n', b'')
2021-10-18 13:14:52,321 p=34655 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'/home/k3s1\n', b'')
2021-10-18 13:14:52,322 p=34655 u=eduardgevorkyan n=ansible | <172.20.254.3> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:14:52,340 p=34655 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 172.20.254.3 '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/k3s1/.ansible/tmp `"&& mkdir "` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555692.3217084-34655-242138203557833 `" && echo ansible-tmp-1634555692.3217084-34655-242138203557833="` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555692.3217084-34655-242138203557833 `" ) && sleep 0'"'"''
2021-10-18 13:14:52,369 p=34653 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'ansible-tmp-1634555692.1071558-34653-79916310769159=/home/k3s1/.ansible/tmp/ansible-tmp-1634555692.1071558-34653-79916310769159\n', b'')
2021-10-18 13:14:52,529 p=34655 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'ansible-tmp-1634555692.3217084-34655-242138203557833=/home/k3s1/.ansible/tmp/ansible-tmp-1634555692.3217084-34655-242138203557833\n', b'')
2021-10-18 13:14:52,765 p=34653 u=eduardgevorkyan n=ansible | Using module file /usr/local/lib/python3.9/site-packages/ansible/modules/dnf.py
2021-10-18 13:14:52,766 p=34655 u=eduardgevorkyan n=ansible | Using module file /usr/local/lib/python3.9/site-packages/ansible/modules/dnf.py
2021-10-18 13:14:52,768 p=34653 u=eduardgevorkyan n=ansible | <172.20.254.2> PUT /home/eduardgevorkyan/.ansible/tmp/ansible-local-34584yi9d6_w2/tmp7kh66dve TO /home/k3s1/.ansible/tmp/ansible-tmp-1634555692.1071558-34653-79916310769159/AnsiballZ_dnf.py
2021-10-18 13:14:52,767 p=34655 u=eduardgevorkyan n=ansible | <172.20.254.3> PUT /home/eduardgevorkyan/.ansible/tmp/ansible-local-34584yi9d6_w2/tmpbhu79yh4 TO /home/k3s1/.ansible/tmp/ansible-tmp-1634555692.3217084-34655-242138203557833/AnsiballZ_dnf.py
2021-10-18 13:14:52,771 p=34653 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 '[172.20.254.2]'
2021-10-18 13:14:52,773 p=34655 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 '[172.20.254.3]'
2021-10-18 13:14:52,778 p=34652 u=eduardgevorkyan n=ansible | Using module file /usr/local/lib/python3.9/site-packages/ansible/modules/dnf.py
2021-10-18 13:14:52,783 p=34652 u=eduardgevorkyan n=ansible | <172.20.254.1> PUT /home/eduardgevorkyan/.ansible/tmp/ansible-local-34584yi9d6_w2/tmps7dsi87u TO /home/k3s1/.ansible/tmp/ansible-tmp-1634555691.9664695-34652-123235502407572/AnsiballZ_dnf.py
2021-10-18 13:14:52,788 p=34652 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e '[172.20.254.1]'
2021-10-18 13:14:53,159 p=34655 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'sftp> put /home/eduardgevorkyan/.ansible/tmp/ansible-local-34584yi9d6_w2/tmpbhu79yh4 /home/k3s1/.ansible/tmp/ansible-tmp-1634555692.3217084-34655-242138203557833/AnsiballZ_dnf.py\n', b'')
2021-10-18 13:14:53,161 p=34655 u=eduardgevorkyan n=ansible | <172.20.254.3> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:14:53,167 p=34653 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'sftp> put /home/eduardgevorkyan/.ansible/tmp/ansible-local-34584yi9d6_w2/tmp7kh66dve /home/k3s1/.ansible/tmp/ansible-tmp-1634555692.1071558-34653-79916310769159/AnsiballZ_dnf.py\n', b'')
2021-10-18 13:14:53,169 p=34653 u=eduardgevorkyan n=ansible | <172.20.254.2> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:14:53,180 p=34655 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 172.20.254.3 '/bin/sh -c '"'"'chmod u+x /home/k3s1/.ansible/tmp/ansible-tmp-1634555692.3217084-34655-242138203557833/ /home/k3s1/.ansible/tmp/ansible-tmp-1634555692.3217084-34655-242138203557833/AnsiballZ_dnf.py && sleep 0'"'"''
2021-10-18 13:14:53,187 p=34652 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'sftp> put /home/eduardgevorkyan/.ansible/tmp/ansible-local-34584yi9d6_w2/tmps7dsi87u /home/k3s1/.ansible/tmp/ansible-tmp-1634555691.9664695-34652-123235502407572/AnsiballZ_dnf.py\n', b'')
2021-10-18 13:14:53,188 p=34652 u=eduardgevorkyan n=ansible | <172.20.254.1> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:14:53,191 p=34653 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 172.20.254.2 '/bin/sh -c '"'"'chmod u+x /home/k3s1/.ansible/tmp/ansible-tmp-1634555692.1071558-34653-79916310769159/ /home/k3s1/.ansible/tmp/ansible-tmp-1634555692.1071558-34653-79916310769159/AnsiballZ_dnf.py && sleep 0'"'"''
2021-10-18 13:14:53,191 p=34652 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e 172.20.254.1 '/bin/sh -c '"'"'chmod u+x /home/k3s1/.ansible/tmp/ansible-tmp-1634555691.9664695-34652-123235502407572/ /home/k3s1/.ansible/tmp/ansible-tmp-1634555691.9664695-34652-123235502407572/AnsiballZ_dnf.py && sleep 0'"'"''
2021-10-18 13:14:53,407 p=34653 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'', b'')
2021-10-18 13:14:53,419 p=34652 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'', b'')
2021-10-18 13:14:53,422 p=34655 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'', b'')
2021-10-18 13:14:53,423 p=34652 u=eduardgevorkyan n=ansible | <172.20.254.1> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:14:53,424 p=34655 u=eduardgevorkyan n=ansible | <172.20.254.3> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:14:53,425 p=34652 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e -tt 172.20.254.1 '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-bcdtukdbilodonnwdnpisdpydydjszkg ; /usr/bin/python3 /home/k3s1/.ansible/tmp/ansible-tmp-1634555691.9664695-34652-123235502407572/AnsiballZ_dnf.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
2021-10-18 13:14:53,427 p=34655 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 -tt 172.20.254.3 '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-tfjkcdhtzuzqahxcyujiunehguwibwck ; /usr/bin/python3 /home/k3s1/.ansible/tmp/ansible-tmp-1634555692.3217084-34655-242138203557833/AnsiballZ_dnf.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
2021-10-18 13:14:53,429 p=34653 u=eduardgevorkyan n=ansible | <172.20.254.2> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:14:53,435 p=34653 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 -tt 172.20.254.2 '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-bzskdnbzpqhcwoulcdualdsvnxcvxemu ; /usr/bin/python3 /home/k3s1/.ansible/tmp/ansible-tmp-1634555692.1071558-34653-79916310769159/AnsiballZ_dnf.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
2021-10-18 13:14:53,751 p=34652 u=eduardgevorkyan n=ansible | Escalation succeeded
2021-10-18 13:14:53,780 p=34655 u=eduardgevorkyan n=ansible | Escalation succeeded
2021-10-18 13:14:53,803 p=34653 u=eduardgevorkyan n=ansible | Escalation succeeded
2021-10-18 13:15:01,709 p=34652 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'\r\n\r\n{"msg": "Nothing to do", "changed": false, "results": [], "rc": 0, "invocation": {"module_args": {"name": ["keepalived"], "state": "present", "allow_downgrade": false, "autoremove": false, "bugfix": false, "disable_gpg_check": false, "disable_plugin": [], "disablerepo": [], "download_only": false, "enable_plugin": [], "enablerepo": [], "exclude": [], "installroot": "/", "install_repoquery": true, "install_weak_deps": true, "security": false, "skip_broken": false, "update_cache": false, "update_only": false, "validate_certs": true, "lock_timeout": 30, "allowerasing": false, "nobest": false, "conf_file": null, "disable_excludes": null, "download_dir": null, "list": null, "releasever": null}}}\r\n', b'Shared connection to 172.20.254.1 closed.\r\n')
2021-10-18 13:15:01,715 p=34652 u=eduardgevorkyan n=ansible | <172.20.254.1> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:01,718 p=34652 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e 172.20.254.1 '/bin/sh -c '"'"'rm -f -r /home/k3s1/.ansible/tmp/ansible-tmp-1634555691.9664695-34652-123235502407572/ > /dev/null 2>&1 && sleep 0'"'"''
2021-10-18 13:15:01,812 p=34655 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'\r\n\r\n{"msg": "Nothing to do", "changed": false, "results": [], "rc": 0, "invocation": {"module_args": {"name": ["keepalived"], "state": "present", "allow_downgrade": false, "autoremove": false, "bugfix": false, "disable_gpg_check": false, "disable_plugin": [], "disablerepo": [], "download_only": false, "enable_plugin": [], "enablerepo": [], "exclude": [], "installroot": "/", "install_repoquery": true, "install_weak_deps": true, "security": false, "skip_broken": false, "update_cache": false, "update_only": false, "validate_certs": true, "lock_timeout": 30, "allowerasing": false, "nobest": false, "conf_file": null, "disable_excludes": null, "download_dir": null, "list": null, "releasever": null}}}\r\n', b'Shared connection to 172.20.254.3 closed.\r\n')
2021-10-18 13:15:01,816 p=34655 u=eduardgevorkyan n=ansible | <172.20.254.3> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:01,821 p=34653 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'\r\n{"msg": "Nothing to do", "changed": false, "results": [], "rc": 0, "invocation": {"module_args": {"name": ["keepalived"], "state": "present", "allow_downgrade": false, "autoremove": false, "bugfix": false, "disable_gpg_check": false, "disable_plugin": [], "disablerepo": [], "download_only": false, "enable_plugin": [], "enablerepo": [], "exclude": [], "installroot": "/", "install_repoquery": true, "install_weak_deps": true, "security": false, "skip_broken": false, "update_cache": false, "update_only": false, "validate_certs": true, "lock_timeout": 30, "allowerasing": false, "nobest": false, "conf_file": null, "disable_excludes": null, "download_dir": null, "list": null, "releasever": null}}}\r\n', b'Shared connection to 172.20.254.2 closed.\r\n')
2021-10-18 13:15:01,829 p=34653 u=eduardgevorkyan n=ansible | <172.20.254.2> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:01,838 p=34653 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 172.20.254.2 '/bin/sh -c '"'"'rm -f -r /home/k3s1/.ansible/tmp/ansible-tmp-1634555692.1071558-34653-79916310769159/ > /dev/null 2>&1 && sleep 0'"'"''
2021-10-18 13:15:01,842 p=34655 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 172.20.254.3 '/bin/sh -c '"'"'rm -f -r /home/k3s1/.ansible/tmp/ansible-tmp-1634555692.3217084-34655-242138203557833/ > /dev/null 2>&1 && sleep 0'"'"''
2021-10-18 13:15:01,895 p=34652 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'', b'')
2021-10-18 13:15:01,907 p=34584 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "allow_downgrade": false,
            "allowerasing": false,
            "autoremove": false,
            "bugfix": false,
            "conf_file": null,
            "disable_excludes": null,
            "disable_gpg_check": false,
            "disable_plugin": [],
            "disablerepo": [],
            "download_dir": null,
            "download_only": false,
            "enable_plugin": [],
            "enablerepo": [],
            "exclude": [],
            "install_repoquery": true,
            "install_weak_deps": true,
            "installroot": "/",
            "list": null,
            "lock_timeout": 30,
            "name": [
                "keepalived"
            ],
            "nobest": false,
            "releasever": null,
            "security": false,
            "skip_broken": false,
            "state": "present",
            "update_cache": false,
            "update_only": false,
            "validate_certs": true
        }
    },
    "msg": "Nothing to do",
    "rc": 0,
    "results": []
}
2021-10-18 13:15:02,055 p=34653 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'', b'')
2021-10-18 13:15:02,066 p=34655 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'', b'')
2021-10-18 13:15:02,068 p=34584 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "allow_downgrade": false,
            "allowerasing": false,
            "autoremove": false,
            "bugfix": false,
            "conf_file": null,
            "disable_excludes": null,
            "disable_gpg_check": false,
            "disable_plugin": [],
            "disablerepo": [],
            "download_dir": null,
            "download_only": false,
            "enable_plugin": [],
            "enablerepo": [],
            "exclude": [],
            "install_repoquery": true,
            "install_weak_deps": true,
            "installroot": "/",
            "list": null,
            "lock_timeout": 30,
            "name": [
                "keepalived"
            ],
            "nobest": false,
            "releasever": null,
            "security": false,
            "skip_broken": false,
            "state": "present",
            "update_cache": false,
            "update_only": false,
            "validate_certs": true
        }
    },
    "msg": "Nothing to do",
    "rc": 0,
    "results": []
}
2021-10-18 13:15:02,083 p=34584 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "allow_downgrade": false,
            "allowerasing": false,
            "autoremove": false,
            "bugfix": false,
            "conf_file": null,
            "disable_excludes": null,
            "disable_gpg_check": false,
            "disable_plugin": [],
            "disablerepo": [],
            "download_dir": null,
            "download_only": false,
            "enable_plugin": [],
            "enablerepo": [],
            "exclude": [],
            "install_repoquery": true,
            "install_weak_deps": true,
            "installroot": "/",
            "list": null,
            "lock_timeout": 30,
            "name": [
                "keepalived"
            ],
            "nobest": false,
            "releasever": null,
            "security": false,
            "skip_broken": false,
            "state": "present",
            "update_cache": false,
            "update_only": false,
            "validate_certs": true
        }
    },
    "msg": "Nothing to do",
    "rc": 0,
    "results": []
}
2021-10-18 13:15:02,114 p=34584 u=eduardgevorkyan n=ansible | TASK [artem_shestakov.keepalived : Copy config file] *************************************************************************************
2021-10-18 13:15:02,180 p=34679 u=eduardgevorkyan n=ansible | <172.20.254.1> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:02,189 p=34679 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e 172.20.254.1 '/bin/sh -c '"'"'echo ~k3s1 && sleep 0'"'"''
2021-10-18 13:15:02,255 p=34680 u=eduardgevorkyan n=ansible | <172.20.254.2> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:02,263 p=34680 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 172.20.254.2 '/bin/sh -c '"'"'echo ~k3s1 && sleep 0'"'"''
2021-10-18 13:15:02,355 p=34679 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'/home/k3s1\n', b'')
2021-10-18 13:15:02,357 p=34679 u=eduardgevorkyan n=ansible | <172.20.254.1> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:02,362 p=34679 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e 172.20.254.1 '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/k3s1/.ansible/tmp `"&& mkdir "` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.3560202-34679-106213476809992 `" && echo ansible-tmp-1634555702.3560202-34679-106213476809992="` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.3560202-34679-106213476809992 `" ) && sleep 0'"'"''
2021-10-18 13:15:02,385 p=34682 u=eduardgevorkyan n=ansible | <172.20.254.3> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:02,399 p=34682 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 172.20.254.3 '/bin/sh -c '"'"'echo ~k3s1 && sleep 0'"'"''
2021-10-18 13:15:02,445 p=34680 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'/home/k3s1\n', b'')
2021-10-18 13:15:02,446 p=34680 u=eduardgevorkyan n=ansible | <172.20.254.2> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:02,451 p=34680 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 172.20.254.2 '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/k3s1/.ansible/tmp `"&& mkdir "` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.4463959-34680-184833602276207 `" && echo ansible-tmp-1634555702.4463959-34680-184833602276207="` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.4463959-34680-184833602276207 `" ) && sleep 0'"'"''
2021-10-18 13:15:02,575 p=34679 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'ansible-tmp-1634555702.3560202-34679-106213476809992=/home/k3s1/.ansible/tmp/ansible-tmp-1634555702.3560202-34679-106213476809992\n', b'')
2021-10-18 13:15:02,619 p=34682 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'/home/k3s1\n', b'')
2021-10-18 13:15:02,626 p=34682 u=eduardgevorkyan n=ansible | <172.20.254.3> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:02,632 p=34682 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 172.20.254.3 '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/k3s1/.ansible/tmp `"&& mkdir "` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.6213548-34682-210572455051094 `" && echo ansible-tmp-1634555702.6213548-34682-210572455051094="` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.6213548-34682-210572455051094 `" ) && sleep 0'"'"''
2021-10-18 13:15:02,659 p=34680 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'ansible-tmp-1634555702.4463959-34680-184833602276207=/home/k3s1/.ansible/tmp/ansible-tmp-1634555702.4463959-34680-184833602276207\n', b'')
2021-10-18 13:15:02,822 p=34682 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'ansible-tmp-1634555702.6213548-34682-210572455051094=/home/k3s1/.ansible/tmp/ansible-tmp-1634555702.6213548-34682-210572455051094\n', b'')
2021-10-18 13:15:03,207 p=34682 u=eduardgevorkyan n=ansible | Using module file /usr/local/lib/python3.9/site-packages/ansible/modules/stat.py
2021-10-18 13:15:03,208 p=34680 u=eduardgevorkyan n=ansible | Using module file /usr/local/lib/python3.9/site-packages/ansible/modules/stat.py
2021-10-18 13:15:03,208 p=34682 u=eduardgevorkyan n=ansible | <172.20.254.3> PUT /home/eduardgevorkyan/.ansible/tmp/ansible-local-34584yi9d6_w2/tmp5ia9em5e TO /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.6213548-34682-210572455051094/AnsiballZ_stat.py
2021-10-18 13:15:03,209 p=34680 u=eduardgevorkyan n=ansible | <172.20.254.2> PUT /home/eduardgevorkyan/.ansible/tmp/ansible-local-34584yi9d6_w2/tmpzu97fhxq TO /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.4463959-34680-184833602276207/AnsiballZ_stat.py
2021-10-18 13:15:03,212 p=34680 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 '[172.20.254.2]'
2021-10-18 13:15:03,213 p=34682 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 '[172.20.254.3]'
2021-10-18 13:15:03,216 p=34679 u=eduardgevorkyan n=ansible | Using module file /usr/local/lib/python3.9/site-packages/ansible/modules/stat.py
2021-10-18 13:15:03,226 p=34679 u=eduardgevorkyan n=ansible | <172.20.254.1> PUT /home/eduardgevorkyan/.ansible/tmp/ansible-local-34584yi9d6_w2/tmpco36osg9 TO /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.3560202-34679-106213476809992/AnsiballZ_stat.py
2021-10-18 13:15:03,232 p=34679 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e '[172.20.254.1]'
2021-10-18 13:15:03,542 p=34682 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'sftp> put /home/eduardgevorkyan/.ansible/tmp/ansible-local-34584yi9d6_w2/tmp5ia9em5e /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.6213548-34682-210572455051094/AnsiballZ_stat.py\n', b'')
2021-10-18 13:15:03,545 p=34682 u=eduardgevorkyan n=ansible | <172.20.254.3> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:03,554 p=34679 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'sftp> put /home/eduardgevorkyan/.ansible/tmp/ansible-local-34584yi9d6_w2/tmpco36osg9 /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.3560202-34679-106213476809992/AnsiballZ_stat.py\n', b'')
2021-10-18 13:15:03,557 p=34679 u=eduardgevorkyan n=ansible | <172.20.254.1> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:03,563 p=34680 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'sftp> put /home/eduardgevorkyan/.ansible/tmp/ansible-local-34584yi9d6_w2/tmpzu97fhxq /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.4463959-34680-184833602276207/AnsiballZ_stat.py\n', b'')
2021-10-18 13:15:03,565 p=34680 u=eduardgevorkyan n=ansible | <172.20.254.2> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:03,565 p=34680 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 172.20.254.2 '/bin/sh -c '"'"'chmod u+x /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.4463959-34680-184833602276207/ /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.4463959-34680-184833602276207/AnsiballZ_stat.py && sleep 0'"'"''
2021-10-18 13:15:03,568 p=34679 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e 172.20.254.1 '/bin/sh -c '"'"'chmod u+x /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.3560202-34679-106213476809992/ /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.3560202-34679-106213476809992/AnsiballZ_stat.py && sleep 0'"'"''
2021-10-18 13:15:03,570 p=34682 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 172.20.254.3 '/bin/sh -c '"'"'chmod u+x /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.6213548-34682-210572455051094/ /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.6213548-34682-210572455051094/AnsiballZ_stat.py && sleep 0'"'"''
2021-10-18 13:15:03,759 p=34679 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'', b'')
2021-10-18 13:15:03,760 p=34682 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'', b'')
2021-10-18 13:15:03,762 p=34679 u=eduardgevorkyan n=ansible | <172.20.254.1> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:03,764 p=34682 u=eduardgevorkyan n=ansible | <172.20.254.3> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:03,766 p=34679 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e -tt 172.20.254.1 '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-gjvkxuwxxemhhjhngoggikdqshxcbdcz ; /usr/bin/python3 /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.3560202-34679-106213476809992/AnsiballZ_stat.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
2021-10-18 13:15:03,768 p=34682 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 -tt 172.20.254.3 '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-odjadosggajohstruhajixfreqolmibu ; /usr/bin/python3 /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.6213548-34682-210572455051094/AnsiballZ_stat.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
2021-10-18 13:15:03,776 p=34680 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'', b'')
2021-10-18 13:15:03,777 p=34680 u=eduardgevorkyan n=ansible | <172.20.254.2> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:03,779 p=34680 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 -tt 172.20.254.2 '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-awxebuakxsgjywjnsqvunctbaxwuahxm ; /usr/bin/python3 /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.4463959-34680-184833602276207/AnsiballZ_stat.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
2021-10-18 13:15:04,113 p=34679 u=eduardgevorkyan n=ansible | Escalation succeeded
2021-10-18 13:15:04,114 p=34680 u=eduardgevorkyan n=ansible | Escalation succeeded
2021-10-18 13:15:04,118 p=34682 u=eduardgevorkyan n=ansible | Escalation succeeded
2021-10-18 13:15:04,730 p=34679 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'\r\n\r\n{"changed": false, "stat": {"exists": true, "path": "/etc/keepalived/keepalived.conf", "mode": "0644", "isdir": false, "ischr": false, "isblk": false, "isreg": true, "isfifo": false, "islnk": false, "issock": false, "uid": 0, "gid": 0, "size": 3550, "inode": 25612652, "dev": 64768, "nlink": 1, "atime": 1618252769.0, "mtime": 1618252769.0, "ctime": 1634546264.414692, "wusr": true, "rusr": true, "xusr": false, "wgrp": false, "rgrp": true, "xgrp": false, "woth": false, "roth": true, "xoth": false, "isuid": false, "isgid": false, "blocks": 8, "block_size": 4096, "device_type": 0, "readable": true, "writeable": true, "executable": false, "pw_name": "root", "gr_name": "root", "checksum": "0bcaa8b62b9fb9cad211b4b42bd9f8499e4d8621", "mimetype": "text/plain", "charset": "us-ascii", "version": "2238885975", "attributes": [], "attr_flags": ""}, "invocation": {"module_args": {"path": "/etc/keepalived/keepalived.conf", "follow": false, "get_checksum": true, "checksum_algorithm": "sha1", "get_md5": false, "get_mime": true, "get_attributes": true}}}\r\n', b'Shared connection to 172.20.254.1 closed.\r\n')
2021-10-18 13:15:04,738 p=34679 u=eduardgevorkyan n=ansible | <172.20.254.1> PUT /home/eduardgevorkyan/.ansible/tmp/ansible-local-34584yi9d6_w2/tmp7olfkfuf/master_master.conf.j2 TO /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.3560202-34679-106213476809992/source
2021-10-18 13:15:04,743 p=34679 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e '[172.20.254.1]'
2021-10-18 13:15:04,756 p=34680 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'\r\n\r\n{"changed": false, "stat": {"exists": true, "path": "/etc/keepalived/keepalived.conf", "mode": "0644", "isdir": false, "ischr": false, "isblk": false, "isreg": true, "isfifo": false, "islnk": false, "issock": false, "uid": 0, "gid": 0, "size": 3550, "inode": 1051683, "dev": 64768, "nlink": 1, "atime": 1618252769.0, "mtime": 1618252769.0, "ctime": 1634546236.641336, "wusr": true, "rusr": true, "xusr": false, "wgrp": false, "rgrp": true, "xgrp": false, "woth": false, "roth": true, "xoth": false, "isuid": false, "isgid": false, "blocks": 8, "block_size": 4096, "device_type": 0, "readable": true, "writeable": true, "executable": false, "pw_name": "root", "gr_name": "root", "checksum": "0bcaa8b62b9fb9cad211b4b42bd9f8499e4d8621", "mimetype": "text/plain", "charset": "us-ascii", "version": "4130172282", "attributes": [], "attr_flags": ""}, "invocation": {"module_args": {"path": "/etc/keepalived/keepalived.conf", "follow": false, "get_checksum": true, "checksum_algorithm": "sha1", "get_md5": false, "get_mime": true, "get_attributes": true}}}\r\n', b'Shared connection to 172.20.254.2 closed.\r\n')
2021-10-18 13:15:04,755 p=34682 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'\r\n{"changed": false, "stat": {"exists": true, "path": "/etc/keepalived/keepalived.conf", "mode": "0644", "isdir": false, "ischr": false, "isblk": false, "isreg": true, "isfifo": false, "islnk": false, "issock": false, "uid": 0, "gid": 0, "size": 3550, "inode": 1047995, "dev": 64768, "nlink": 1, "atime": 1618252769.0, "mtime": 1618252769.0, "ctime": 1634546235.9428475, "wusr": true, "rusr": true, "xusr": false, "wgrp": false, "rgrp": true, "xgrp": false, "woth": false, "roth": true, "xoth": false, "isuid": false, "isgid": false, "blocks": 8, "block_size": 4096, "device_type": 0, "readable": true, "writeable": true, "executable": false, "pw_name": "root", "gr_name": "root", "checksum": "0bcaa8b62b9fb9cad211b4b42bd9f8499e4d8621", "mimetype": "text/plain", "charset": "us-ascii", "version": "336278487", "attributes": [], "attr_flags": ""}, "invocation": {"module_args": {"path": "/etc/keepalived/keepalived.conf", "follow": false, "get_checksum": true, "checksum_algorithm": "sha1", "get_md5": false, "get_mime": true, "get_attributes": true}}}\r\n', b'Shared connection to 172.20.254.3 closed.\r\n')
2021-10-18 13:15:04,764 p=34682 u=eduardgevorkyan n=ansible | <172.20.254.3> PUT /home/eduardgevorkyan/.ansible/tmp/ansible-local-34584yi9d6_w2/tmpi90dtxn8/master_master.conf.j2 TO /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.6213548-34682-210572455051094/source
2021-10-18 13:15:04,766 p=34680 u=eduardgevorkyan n=ansible | <172.20.254.2> PUT /home/eduardgevorkyan/.ansible/tmp/ansible-local-34584yi9d6_w2/tmpw2cz60id/master_master.conf.j2 TO /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.4463959-34680-184833602276207/source
2021-10-18 13:15:04,769 p=34680 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 '[172.20.254.2]'
2021-10-18 13:15:04,774 p=34682 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 '[172.20.254.3]'
2021-10-18 13:15:04,979 p=34679 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'sftp> put /home/eduardgevorkyan/.ansible/tmp/ansible-local-34584yi9d6_w2/tmp7olfkfuf/master_master.conf.j2 /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.3560202-34679-106213476809992/source\n', b'')
2021-10-18 13:15:04,980 p=34679 u=eduardgevorkyan n=ansible | <172.20.254.1> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:04,983 p=34679 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e 172.20.254.1 '/bin/sh -c '"'"'chmod u+x /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.3560202-34679-106213476809992/ /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.3560202-34679-106213476809992/source && sleep 0'"'"''
2021-10-18 13:15:05,002 p=34680 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'sftp> put /home/eduardgevorkyan/.ansible/tmp/ansible-local-34584yi9d6_w2/tmpw2cz60id/master_master.conf.j2 /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.4463959-34680-184833602276207/source\n', b'')
2021-10-18 13:15:05,004 p=34680 u=eduardgevorkyan n=ansible | <172.20.254.2> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:05,009 p=34682 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'sftp> put /home/eduardgevorkyan/.ansible/tmp/ansible-local-34584yi9d6_w2/tmpi90dtxn8/master_master.conf.j2 /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.6213548-34682-210572455051094/source\n', b'')
2021-10-18 13:15:05,010 p=34682 u=eduardgevorkyan n=ansible | <172.20.254.3> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:05,011 p=34682 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 172.20.254.3 '/bin/sh -c '"'"'chmod u+x /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.6213548-34682-210572455051094/ /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.6213548-34682-210572455051094/source && sleep 0'"'"''
2021-10-18 13:15:05,013 p=34680 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 172.20.254.2 '/bin/sh -c '"'"'chmod u+x /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.4463959-34680-184833602276207/ /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.4463959-34680-184833602276207/source && sleep 0'"'"''
2021-10-18 13:15:05,217 p=34680 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'', b'')
2021-10-18 13:15:05,218 p=34682 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'', b'')
2021-10-18 13:15:05,228 p=34679 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'', b'')
2021-10-18 13:15:05,553 p=34679 u=eduardgevorkyan n=ansible | Using module file /usr/local/lib/python3.9/site-packages/ansible/modules/copy.py
2021-10-18 13:15:05,554 p=34680 u=eduardgevorkyan n=ansible | Using module file /usr/local/lib/python3.9/site-packages/ansible/modules/copy.py
2021-10-18 13:15:05,556 p=34679 u=eduardgevorkyan n=ansible | <172.20.254.1> PUT /home/eduardgevorkyan/.ansible/tmp/ansible-local-34584yi9d6_w2/tmpxocrq__v TO /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.3560202-34679-106213476809992/AnsiballZ_copy.py
2021-10-18 13:15:05,557 p=34680 u=eduardgevorkyan n=ansible | <172.20.254.2> PUT /home/eduardgevorkyan/.ansible/tmp/ansible-local-34584yi9d6_w2/tmpat01xpvs TO /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.4463959-34680-184833602276207/AnsiballZ_copy.py
2021-10-18 13:15:05,559 p=34679 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e '[172.20.254.1]'
2021-10-18 13:15:05,560 p=34680 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 '[172.20.254.2]'
2021-10-18 13:15:05,568 p=34682 u=eduardgevorkyan n=ansible | Using module file /usr/local/lib/python3.9/site-packages/ansible/modules/copy.py
2021-10-18 13:15:05,568 p=34682 u=eduardgevorkyan n=ansible | <172.20.254.3> PUT /home/eduardgevorkyan/.ansible/tmp/ansible-local-34584yi9d6_w2/tmpgno3dt4k TO /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.6213548-34682-210572455051094/AnsiballZ_copy.py
2021-10-18 13:15:05,577 p=34682 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 '[172.20.254.3]'
2021-10-18 13:15:05,848 p=34679 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'sftp> put /home/eduardgevorkyan/.ansible/tmp/ansible-local-34584yi9d6_w2/tmpxocrq__v /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.3560202-34679-106213476809992/AnsiballZ_copy.py\n', b'')
2021-10-18 13:15:05,849 p=34679 u=eduardgevorkyan n=ansible | <172.20.254.1> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:05,851 p=34679 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e 172.20.254.1 '/bin/sh -c '"'"'chmod u+x /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.3560202-34679-106213476809992/ /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.3560202-34679-106213476809992/AnsiballZ_copy.py && sleep 0'"'"''
2021-10-18 13:15:05,878 p=34680 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'sftp> put /home/eduardgevorkyan/.ansible/tmp/ansible-local-34584yi9d6_w2/tmpat01xpvs /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.4463959-34680-184833602276207/AnsiballZ_copy.py\n', b'')
2021-10-18 13:15:05,879 p=34680 u=eduardgevorkyan n=ansible | <172.20.254.2> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:05,880 p=34680 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 172.20.254.2 '/bin/sh -c '"'"'chmod u+x /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.4463959-34680-184833602276207/ /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.4463959-34680-184833602276207/AnsiballZ_copy.py && sleep 0'"'"''
2021-10-18 13:15:05,895 p=34682 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'sftp> put /home/eduardgevorkyan/.ansible/tmp/ansible-local-34584yi9d6_w2/tmpgno3dt4k /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.6213548-34682-210572455051094/AnsiballZ_copy.py\n', b'')
2021-10-18 13:15:05,896 p=34682 u=eduardgevorkyan n=ansible | <172.20.254.3> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:05,897 p=34682 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 172.20.254.3 '/bin/sh -c '"'"'chmod u+x /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.6213548-34682-210572455051094/ /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.6213548-34682-210572455051094/AnsiballZ_copy.py && sleep 0'"'"''
2021-10-18 13:15:06,088 p=34679 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'', b'')
2021-10-18 13:15:06,094 p=34680 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'', b'')
2021-10-18 13:15:06,096 p=34680 u=eduardgevorkyan n=ansible | <172.20.254.2> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:06,098 p=34679 u=eduardgevorkyan n=ansible | <172.20.254.1> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:06,103 p=34680 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 -tt 172.20.254.2 '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-bjwyxvyavmoxdgpnmnultehuhzjyllsp ; /usr/bin/python3 /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.4463959-34680-184833602276207/AnsiballZ_copy.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
2021-10-18 13:15:06,110 p=34682 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'', b'')
2021-10-18 13:15:06,111 p=34682 u=eduardgevorkyan n=ansible | <172.20.254.3> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:06,116 p=34679 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e -tt 172.20.254.1 '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-dqjfoancwkpxwimtibmirzxfphdsjiiu ; /usr/bin/python3 /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.3560202-34679-106213476809992/AnsiballZ_copy.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
2021-10-18 13:15:06,118 p=34682 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 -tt 172.20.254.3 '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-etiabbmbhmpgjacdhjixkcbfokldoyim ; /usr/bin/python3 /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.6213548-34682-210572455051094/AnsiballZ_copy.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
2021-10-18 13:15:06,452 p=34682 u=eduardgevorkyan n=ansible | Escalation succeeded
2021-10-18 13:15:06,453 p=34680 u=eduardgevorkyan n=ansible | Escalation succeeded
2021-10-18 13:15:06,478 p=34679 u=eduardgevorkyan n=ansible | Escalation succeeded
2021-10-18 13:15:07,011 p=34682 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'\r\n{"dest": "/etc/keepalived/keepalived.conf", "src": "/home/k3s1/.ansible/tmp/ansible-tmp-1634555702.6213548-34682-210572455051094/source", "md5sum": "1740228c97842de343df7e014fd77e6b", "checksum": "87beec72054f6c7e2da83c6508ae26d4c16a2a54", "changed": true, "uid": 0, "gid": 0, "owner": "root", "group": "root", "mode": "0644", "state": "file", "secontext": "system_u:object_r:etc_t:s0", "size": 942, "invocation": {"module_args": {"src": "/home/k3s1/.ansible/tmp/ansible-tmp-1634555702.6213548-34682-210572455051094/source", "dest": "/etc/keepalived/keepalived.conf", "owner": "root", "group": "root", "mode": "0644", "follow": false, "_original_basename": "master_master.conf.j2", "checksum": "87beec72054f6c7e2da83c6508ae26d4c16a2a54", "backup": false, "force": true, "unsafe_writes": false, "content": null, "validate": null, "directory_mode": null, "remote_src": null, "local_follow": null, "seuser": null, "serole": null, "selevel": null, "setype": null, "attributes": null}}}\r\n', b'Shared connection to 172.20.254.3 closed.\r\n')
2021-10-18 13:15:07,014 p=34682 u=eduardgevorkyan n=ansible | <172.20.254.3> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:07,021 p=34680 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'\r\n\r\n{"dest": "/etc/keepalived/keepalived.conf", "src": "/home/k3s1/.ansible/tmp/ansible-tmp-1634555702.4463959-34680-184833602276207/source", "md5sum": "7766c181f0d2603595d822d4e614183b", "checksum": "81071b5dff16dace96717e93949dc198ed7cdf45", "changed": true, "uid": 0, "gid": 0, "owner": "root", "group": "root", "mode": "0644", "state": "file", "secontext": "system_u:object_r:etc_t:s0", "size": 942, "invocation": {"module_args": {"src": "/home/k3s1/.ansible/tmp/ansible-tmp-1634555702.4463959-34680-184833602276207/source", "dest": "/etc/keepalived/keepalived.conf", "owner": "root", "group": "root", "mode": "0644", "follow": false, "_original_basename": "master_master.conf.j2", "checksum": "81071b5dff16dace96717e93949dc198ed7cdf45", "backup": false, "force": true, "unsafe_writes": false, "content": null, "validate": null, "directory_mode": null, "remote_src": null, "local_follow": null, "seuser": null, "serole": null, "selevel": null, "setype": null, "attributes": null}}}\r\n', b'Shared connection to 172.20.254.2 closed.\r\n')
2021-10-18 13:15:07,031 p=34680 u=eduardgevorkyan n=ansible | <172.20.254.2> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:07,034 p=34682 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 172.20.254.3 '/bin/sh -c '"'"'rm -f -r /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.6213548-34682-210572455051094/ > /dev/null 2>&1 && sleep 0'"'"''
2021-10-18 13:15:07,039 p=34679 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'\r\n{"dest": "/etc/keepalived/keepalived.conf", "src": "/home/k3s1/.ansible/tmp/ansible-tmp-1634555702.3560202-34679-106213476809992/source", "md5sum": "36701c1430eeb89375c2e26c4dcfd407", "checksum": "b997c56bd2b054f789da1e0763f4ab7caf85a1c4", "changed": true, "uid": 0, "gid": 0, "owner": "root", "group": "root", "mode": "0644", "state": "file", "secontext": "system_u:object_r:etc_t:s0", "size": 942, "invocation": {"module_args": {"src": "/home/k3s1/.ansible/tmp/ansible-tmp-1634555702.3560202-34679-106213476809992/source", "dest": "/etc/keepalived/keepalived.conf", "owner": "root", "group": "root", "mode": "0644", "follow": false, "_original_basename": "master_master.conf.j2", "checksum": "b997c56bd2b054f789da1e0763f4ab7caf85a1c4", "backup": false, "force": true, "unsafe_writes": false, "content": null, "validate": null, "directory_mode": null, "remote_src": null, "local_follow": null, "seuser": null, "serole": null, "selevel": null, "setype": null, "attributes": null}}}\r\n', b'Shared connection to 172.20.254.1 closed.\r\n')
2021-10-18 13:15:07,041 p=34679 u=eduardgevorkyan n=ansible | <172.20.254.1> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:07,047 p=34680 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 172.20.254.2 '/bin/sh -c '"'"'rm -f -r /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.4463959-34680-184833602276207/ > /dev/null 2>&1 && sleep 0'"'"''
2021-10-18 13:15:07,048 p=34679 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e 172.20.254.1 '/bin/sh -c '"'"'rm -f -r /home/k3s1/.ansible/tmp/ansible-tmp-1634555702.3560202-34679-106213476809992/ > /dev/null 2>&1 && sleep 0'"'"''
2021-10-18 13:15:07,262 p=34682 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'', b'')
2021-10-18 13:15:07,286 p=34679 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'', b'')
2021-10-18 13:15:07,289 p=34680 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'', b'')
2021-10-18 13:15:07,292 p=34584 u=eduardgevorkyan n=ansible | changed: [k3s3] => {
    "changed": true,
    "checksum": "87beec72054f6c7e2da83c6508ae26d4c16a2a54",
    "dest": "/etc/keepalived/keepalived.conf",
    "diff": [],
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_original_basename": "master_master.conf.j2",
            "attributes": null,
            "backup": false,
            "checksum": "87beec72054f6c7e2da83c6508ae26d4c16a2a54",
            "content": null,
            "dest": "/etc/keepalived/keepalived.conf",
            "directory_mode": null,
            "follow": false,
            "force": true,
            "group": "root",
            "local_follow": null,
            "mode": "0644",
            "owner": "root",
            "remote_src": null,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": "/home/k3s1/.ansible/tmp/ansible-tmp-1634555702.6213548-34682-210572455051094/source",
            "unsafe_writes": false,
            "validate": null
        }
    },
    "md5sum": "1740228c97842de343df7e014fd77e6b",
    "mode": "0644",
    "owner": "root",
    "secontext": "system_u:object_r:etc_t:s0",
    "size": 942,
    "src": "/home/k3s1/.ansible/tmp/ansible-tmp-1634555702.6213548-34682-210572455051094/source",
    "state": "file",
    "uid": 0
}
2021-10-18 13:15:07,307 p=34584 u=eduardgevorkyan n=ansible | changed: [k3s2] => {
    "changed": true,
    "checksum": "81071b5dff16dace96717e93949dc198ed7cdf45",
    "dest": "/etc/keepalived/keepalived.conf",
    "diff": [],
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_original_basename": "master_master.conf.j2",
            "attributes": null,
            "backup": false,
            "checksum": "81071b5dff16dace96717e93949dc198ed7cdf45",
            "content": null,
            "dest": "/etc/keepalived/keepalived.conf",
            "directory_mode": null,
            "follow": false,
            "force": true,
            "group": "root",
            "local_follow": null,
            "mode": "0644",
            "owner": "root",
            "remote_src": null,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": "/home/k3s1/.ansible/tmp/ansible-tmp-1634555702.4463959-34680-184833602276207/source",
            "unsafe_writes": false,
            "validate": null
        }
    },
    "md5sum": "7766c181f0d2603595d822d4e614183b",
    "mode": "0644",
    "owner": "root",
    "secontext": "system_u:object_r:etc_t:s0",
    "size": 942,
    "src": "/home/k3s1/.ansible/tmp/ansible-tmp-1634555702.4463959-34680-184833602276207/source",
    "state": "file",
    "uid": 0
}
2021-10-18 13:15:07,312 p=34584 u=eduardgevorkyan n=ansible | changed: [k3s1] => {
    "changed": true,
    "checksum": "b997c56bd2b054f789da1e0763f4ab7caf85a1c4",
    "dest": "/etc/keepalived/keepalived.conf",
    "diff": [],
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_original_basename": "master_master.conf.j2",
            "attributes": null,
            "backup": false,
            "checksum": "b997c56bd2b054f789da1e0763f4ab7caf85a1c4",
            "content": null,
            "dest": "/etc/keepalived/keepalived.conf",
            "directory_mode": null,
            "follow": false,
            "force": true,
            "group": "root",
            "local_follow": null,
            "mode": "0644",
            "owner": "root",
            "remote_src": null,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": "/home/k3s1/.ansible/tmp/ansible-tmp-1634555702.3560202-34679-106213476809992/source",
            "unsafe_writes": false,
            "validate": null
        }
    },
    "md5sum": "36701c1430eeb89375c2e26c4dcfd407",
    "mode": "0644",
    "owner": "root",
    "secontext": "system_u:object_r:etc_t:s0",
    "size": 942,
    "src": "/home/k3s1/.ansible/tmp/ansible-tmp-1634555702.3560202-34679-106213476809992/source",
    "state": "file",
    "uid": 0
}
2021-10-18 13:15:07,339 p=34584 u=eduardgevorkyan n=ansible | META: role_complete for k3s1
2021-10-18 13:15:07,354 p=34584 u=eduardgevorkyan n=ansible | META: role_complete for k3s2
2021-10-18 13:15:07,404 p=34584 u=eduardgevorkyan n=ansible | META: role_complete for k3s3
2021-10-18 13:15:07,422 p=34584 u=eduardgevorkyan n=ansible | RUNNING HANDLER [artem_shestakov.keepalived : Re-start Keepalived] ***********************************************************************
2021-10-18 13:15:07,501 p=34727 u=eduardgevorkyan n=ansible | <172.20.254.3> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:07,504 p=34727 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 172.20.254.3 '/bin/sh -c '"'"'echo ~k3s1 && sleep 0'"'"''
2021-10-18 13:15:07,584 p=34728 u=eduardgevorkyan n=ansible | <172.20.254.2> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:07,589 p=34728 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 172.20.254.2 '/bin/sh -c '"'"'echo ~k3s1 && sleep 0'"'"''
2021-10-18 13:15:07,667 p=34727 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'/home/k3s1\n', b'')
2021-10-18 13:15:07,668 p=34727 u=eduardgevorkyan n=ansible | <172.20.254.3> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:07,669 p=34727 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 172.20.254.3 '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/k3s1/.ansible/tmp `"&& mkdir "` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555707.6677346-34727-67680603217459 `" && echo ansible-tmp-1634555707.6677346-34727-67680603217459="` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555707.6677346-34727-67680603217459 `" ) && sleep 0'"'"''
2021-10-18 13:15:07,688 p=34730 u=eduardgevorkyan n=ansible | <172.20.254.1> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:07,709 p=34730 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e 172.20.254.1 '/bin/sh -c '"'"'echo ~k3s1 && sleep 0'"'"''
2021-10-18 13:15:07,790 p=34728 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'/home/k3s1\n', b'')
2021-10-18 13:15:07,792 p=34728 u=eduardgevorkyan n=ansible | <172.20.254.2> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:07,799 p=34728 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 172.20.254.2 '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/k3s1/.ansible/tmp `"&& mkdir "` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555707.7911408-34728-227734032967513 `" && echo ansible-tmp-1634555707.7911408-34728-227734032967513="` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555707.7911408-34728-227734032967513 `" ) && sleep 0'"'"''
2021-10-18 13:15:07,885 p=34727 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'ansible-tmp-1634555707.6677346-34727-67680603217459=/home/k3s1/.ansible/tmp/ansible-tmp-1634555707.6677346-34727-67680603217459\n', b'')
2021-10-18 13:15:07,907 p=34730 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'/home/k3s1\n', b'')
2021-10-18 13:15:07,915 p=34730 u=eduardgevorkyan n=ansible | <172.20.254.1> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:07,920 p=34730 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e 172.20.254.1 '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/k3s1/.ansible/tmp `"&& mkdir "` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555707.9114392-34730-113658652066973 `" && echo ansible-tmp-1634555707.9114392-34730-113658652066973="` echo /home/k3s1/.ansible/tmp/ansible-tmp-1634555707.9114392-34730-113658652066973 `" ) && sleep 0'"'"''
2021-10-18 13:15:07,959 p=34728 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'ansible-tmp-1634555707.7911408-34728-227734032967513=/home/k3s1/.ansible/tmp/ansible-tmp-1634555707.7911408-34728-227734032967513\n', b'')
2021-10-18 13:15:08,115 p=34730 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'ansible-tmp-1634555707.9114392-34730-113658652066973=/home/k3s1/.ansible/tmp/ansible-tmp-1634555707.9114392-34730-113658652066973\n', b'')
2021-10-18 13:15:08,648 p=34728 u=eduardgevorkyan n=ansible | Using module file /usr/local/lib/python3.9/site-packages/ansible/modules/systemd.py
2021-10-18 13:15:08,649 p=34730 u=eduardgevorkyan n=ansible | Using module file /usr/local/lib/python3.9/site-packages/ansible/modules/systemd.py
2021-10-18 13:15:08,650 p=34728 u=eduardgevorkyan n=ansible | <172.20.254.2> PUT /home/eduardgevorkyan/.ansible/tmp/ansible-local-34584yi9d6_w2/tmplj6orwuz TO /home/k3s1/.ansible/tmp/ansible-tmp-1634555707.7911408-34728-227734032967513/AnsiballZ_systemd.py
2021-10-18 13:15:08,651 p=34730 u=eduardgevorkyan n=ansible | <172.20.254.1> PUT /home/eduardgevorkyan/.ansible/tmp/ansible-local-34584yi9d6_w2/tmpca6zhuoz TO /home/k3s1/.ansible/tmp/ansible-tmp-1634555707.9114392-34730-113658652066973/AnsiballZ_systemd.py
2021-10-18 13:15:08,655 p=34728 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 '[172.20.254.2]'
2021-10-18 13:15:08,657 p=34730 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e '[172.20.254.1]'
2021-10-18 13:15:08,658 p=34727 u=eduardgevorkyan n=ansible | Using module file /usr/local/lib/python3.9/site-packages/ansible/modules/systemd.py
2021-10-18 13:15:08,667 p=34727 u=eduardgevorkyan n=ansible | <172.20.254.3> PUT /home/eduardgevorkyan/.ansible/tmp/ansible-local-34584yi9d6_w2/tmpes66rr3o TO /home/k3s1/.ansible/tmp/ansible-tmp-1634555707.6677346-34727-67680603217459/AnsiballZ_systemd.py
2021-10-18 13:15:08,673 p=34727 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 '[172.20.254.3]'
2021-10-18 13:15:09,081 p=34728 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'sftp> put /home/eduardgevorkyan/.ansible/tmp/ansible-local-34584yi9d6_w2/tmplj6orwuz /home/k3s1/.ansible/tmp/ansible-tmp-1634555707.7911408-34728-227734032967513/AnsiballZ_systemd.py\n', b'')
2021-10-18 13:15:09,082 p=34728 u=eduardgevorkyan n=ansible | <172.20.254.2> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:09,089 p=34730 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'sftp> put /home/eduardgevorkyan/.ansible/tmp/ansible-local-34584yi9d6_w2/tmpca6zhuoz /home/k3s1/.ansible/tmp/ansible-tmp-1634555707.9114392-34730-113658652066973/AnsiballZ_systemd.py\n', b'')
2021-10-18 13:15:09,094 p=34730 u=eduardgevorkyan n=ansible | <172.20.254.1> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:09,086 p=34728 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 172.20.254.2 '/bin/sh -c '"'"'chmod u+x /home/k3s1/.ansible/tmp/ansible-tmp-1634555707.7911408-34728-227734032967513/ /home/k3s1/.ansible/tmp/ansible-tmp-1634555707.7911408-34728-227734032967513/AnsiballZ_systemd.py && sleep 0'"'"''
2021-10-18 13:15:09,104 p=34727 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'sftp> put /home/eduardgevorkyan/.ansible/tmp/ansible-local-34584yi9d6_w2/tmpes66rr3o /home/k3s1/.ansible/tmp/ansible-tmp-1634555707.6677346-34727-67680603217459/AnsiballZ_systemd.py\n', b'')
2021-10-18 13:15:09,106 p=34727 u=eduardgevorkyan n=ansible | <172.20.254.3> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:09,098 p=34730 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e 172.20.254.1 '/bin/sh -c '"'"'chmod u+x /home/k3s1/.ansible/tmp/ansible-tmp-1634555707.9114392-34730-113658652066973/ /home/k3s1/.ansible/tmp/ansible-tmp-1634555707.9114392-34730-113658652066973/AnsiballZ_systemd.py && sleep 0'"'"''
2021-10-18 13:15:09,112 p=34727 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 172.20.254.3 '/bin/sh -c '"'"'chmod u+x /home/k3s1/.ansible/tmp/ansible-tmp-1634555707.6677346-34727-67680603217459/ /home/k3s1/.ansible/tmp/ansible-tmp-1634555707.6677346-34727-67680603217459/AnsiballZ_systemd.py && sleep 0'"'"''
2021-10-18 13:15:09,364 p=34730 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'', b'')
2021-10-18 13:15:09,368 p=34730 u=eduardgevorkyan n=ansible | <172.20.254.1> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:09,370 p=34730 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e -tt 172.20.254.1 '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-kwcjzmkdvivzfhghnmvxecwpwdhdhnxa ; /usr/bin/python3 /home/k3s1/.ansible/tmp/ansible-tmp-1634555707.9114392-34730-113658652066973/AnsiballZ_systemd.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
2021-10-18 13:15:09,387 p=34728 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'', b'')
2021-10-18 13:15:09,390 p=34728 u=eduardgevorkyan n=ansible | <172.20.254.2> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:09,397 p=34727 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'', b'')
2021-10-18 13:15:09,398 p=34727 u=eduardgevorkyan n=ansible | <172.20.254.3> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:09,399 p=34727 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 -tt 172.20.254.3 '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-rnzqyrkzppqhyofucrdvsjsicxjtpzxh ; /usr/bin/python3 /home/k3s1/.ansible/tmp/ansible-tmp-1634555707.6677346-34727-67680603217459/AnsiballZ_systemd.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
2021-10-18 13:15:09,400 p=34728 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 -tt 172.20.254.2 '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-dwofxgyuloibbkiuxphmqufexbysbhhr ; /usr/bin/python3 /home/k3s1/.ansible/tmp/ansible-tmp-1634555707.7911408-34728-227734032967513/AnsiballZ_systemd.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
2021-10-18 13:15:09,741 p=34730 u=eduardgevorkyan n=ansible | Escalation succeeded
2021-10-18 13:15:09,745 p=34728 u=eduardgevorkyan n=ansible | Escalation succeeded
2021-10-18 13:15:09,756 p=34727 u=eduardgevorkyan n=ansible | Escalation succeeded
2021-10-18 13:15:10,956 p=34730 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'\r\n{"name": "keepalived", "changed": true, "status": {"Type": "forking", "Restart": "no", "PIDFile": "/run/keepalived.pid", "NotifyAccess": "none", "RestartUSec": "100ms", "TimeoutStartUSec": "1min 30s", "TimeoutStopUSec": "1min 30s", "TimeoutAbortUSec": "1min 30s", "TimeoutStartFailureMode": "terminate", "TimeoutStopFailureMode": "terminate", "RuntimeMaxUSec": "infinity", "WatchdogUSec": "infinity", "WatchdogTimestampMonotonic": "0", "RootDirectoryStartOnly": "no", "RemainAfterExit": "no", "GuessMainPID": "yes", "MainPID": "0", "ControlPID": "0", "FileDescriptorStoreMax": "0", "NFileDescriptorStore": "0", "StatusErrno": "0", "Result": "success", "ReloadResult": "success", "CleanResult": "success", "UID": "[not set]", "GID": "[not set]", "NRestarts": "0", "OOMPolicy": "stop", "ExecMainStartTimestampMonotonic": "0", "ExecMainExitTimestampMonotonic": "0", "ExecMainPID": "0", "ExecMainCode": "0", "ExecMainStatus": "0", "ExecStart": "{ path=/usr/sbin/keepalived ; argv[]=/usr/sbin/keepalived $KEEPALIVED_OPTIONS ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartEx": "{ path=/usr/sbin/keepalived ; argv[]=/usr/sbin/keepalived $KEEPALIVED_OPTIONS ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecReload": "{ path=/bin/kill ; argv[]=/bin/kill -HUP $MAINPID ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecReloadEx": "{ path=/bin/kill ; argv[]=/bin/kill -HUP $MAINPID ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "Slice": "system.slice", "MemoryCurrent": "[not set]", "CPUUsageNSec": "[not set]", "EffectiveCPUs": "", "EffectiveMemoryNodes": "", "TasksCurrent": "[not set]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "Delegate": "no", "CPUAccounting": "yes", "CPUWeight": "[not set]", "StartupCPUWeight": "[not set]", "CPUShares": "[not set]", "StartupCPUShares": "[not set]", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "AllowedCPUs": "", "AllowedMemoryNodes": "", "IOAccounting": "no", "IOWeight": "[not set]", "StartupIOWeight": "[not set]", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "StartupBlockIOWeight": "[not set]", "MemoryAccounting": "yes", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "MemoryMin": "0", "MemoryLow": "0", "MemoryHigh": "infinity", "MemoryMax": "infinity", "MemorySwapMax": "infinity", "MemoryLimit": "infinity", "DevicePolicy": "auto", "TasksAccounting": "yes", "TasksMax": "1080", "IPAccounting": "no", "ManagedOOMSwap": "auto", "ManagedOOMMemoryPressure": "auto", "ManagedOOMMemoryPressureLimit": "0", "ManagedOOMPreference": "none", "EnvironmentFiles": "/etc/sysconfig/keepalived (ignore_errors=yes)", "UMask": "0022", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LimitCORE": "infinity", "LimitCORESoft": "infinity", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitNOFILE": "524288", "LimitNOFILESoft": "1024", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitNPROC": "3602", "LimitNPROCSoft": "3602", "LimitMEMLOCK": "65536", "LimitMEMLOCKSoft": "65536", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitSIGPENDING": "3602", "LimitSIGPENDINGSoft": "3602", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "RootHashSignature": "", "OOMScoreAdjust": "0", "CoredumpFilter": "0x33", "Nice": "0", "IOSchedulingClass": "0", "IOSchedulingPriority": "0", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUAffinity": "", "CPUAffinityFromNUMA": "no", "NUMAPolicy": "n/a", "NUMAMask": "", "TimerSlackNSec": "50000", "CPUSchedulingResetOnFork": "no", "NonBlocking": "no", "StandardInput": "null", "StandardInputData": "", "StandardOutput": "journal", "StandardError": "inherit", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "SyslogPriority": "30", "SyslogLevelPrefix": "yes", "SyslogLevel": "6", "SyslogFacility": "3", "LogLevelMax": "-1", "LogRateLimitIntervalUSec": "0", "LogRateLimitBurst": "0", "SecureBits": "0", "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read cap_perfmon cap_bpf cap_checkpoint_restore", "AmbientCapabilities": "", "DynamicUser": "no", "RemoveIPC": "no", "MountFlags": "", "PrivateTmp": "no", "PrivateDevices": "no", "ProtectClock": "no", "ProtectKernelTunables": "no", "ProtectKernelModules": "no", "ProtectKernelLogs": "no", "ProtectControlGroups": "no", "PrivateNetwork": "no", "PrivateUsers": "no", "PrivateMounts": "no", "PrivateIPC": "no", "ProtectHome": "no", "ProtectSystem": "no", "SameProcessGroup": "no", "UtmpMode": "init", "IgnoreSIGPIPE": "yes", "NoNewPrivileges": "no", "SystemCallErrorNumber": "2147483646", "LockPersonality": "no", "RuntimeDirectoryPreserve": "no", "RuntimeDirectoryMode": "0755", "StateDirectoryMode": "0755", "CacheDirectoryMode": "0755", "LogsDirectoryMode": "0755", "ConfigurationDirectoryMode": "0755", "TimeoutCleanUSec": "infinity", "MemoryDenyWriteExecute": "no", "RestrictRealtime": "no", "RestrictSUIDSGID": "no", "RestrictNamespaces": "no", "MountAPIVFS": "no", "KeyringMode": "private", "ProtectProc": "default", "ProcSubset": "all", "ProtectHostname": "no", "KillMode": "process", "KillSignal": "15", "RestartKillSignal": "15", "FinalKillSignal": "9", "SendSIGKILL": "yes", "SendSIGHUP": "no", "WatchdogSignal": "6", "Id": "keepalived.service", "Names": "keepalived.service", "Requires": "system.slice sysinit.target", "Wants": "network-online.target", "Conflicts": "shutdown.target", "Before": "shutdown.target", "After": "sysinit.target system.slice basic.target syslog.target systemd-journald.socket network-online.target", "Description": "LVS and VRRP High Availability Monitor", "LoadState": "loaded", "ActiveState": "inactive", "FreezerState": "running", "SubState": "dead", "FragmentPath": "/usr/lib/systemd/system/keepalived.service", "UnitFileState": "disabled", "UnitFilePreset": "disabled", "StateChangeTimestampMonotonic": "0", "InactiveExitTimestampMonotonic": "0", "ActiveEnterTimestampMonotonic": "0", "ActiveExitTimestampMonotonic": "0", "InactiveEnterTimestampMonotonic": "0", "CanStart": "yes", "CanStop": "yes", "CanReload": "yes", "CanIsolate": "no", "CanFreeze": "yes", "StopWhenUnneeded": "no", "RefuseManualStart": "no", "RefuseManualStop": "no", "AllowIsolate": "no", "DefaultDependencies": "yes", "OnFailureJobMode": "replace", "IgnoreOnIsolate": "no", "NeedDaemonReload": "no", "JobTimeoutUSec": "infinity", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "ConditionResult": "no", "AssertResult": "no", "ConditionTimestampMonotonic": "0", "AssertTimestampMonotonic": "0", "Transient": "no", "Perpetual": "no", "StartLimitIntervalUSec": "10s", "StartLimitBurst": "5", "StartLimitAction": "none", "FailureAction": "none", "SuccessAction": "none", "CollectMode": "inactive"}, "state": "started", "invocation": {"module_args": {"name": "keepalived", "state": "restarted", "daemon_reload": false, "daemon_reexec": false, "scope": "system", "no_block": false, "enabled": null, "force": null, "masked": null}}}\r\n', b'Shared connection to 172.20.254.1 closed.\r\n')
2021-10-18 13:15:10,960 p=34730 u=eduardgevorkyan n=ansible | <172.20.254.1> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:10,962 p=34730 u=eduardgevorkyan n=ansible | <172.20.254.1> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/a67300576e 172.20.254.1 '/bin/sh -c '"'"'rm -f -r /home/k3s1/.ansible/tmp/ansible-tmp-1634555707.9114392-34730-113658652066973/ > /dev/null 2>&1 && sleep 0'"'"''
2021-10-18 13:15:10,982 p=34727 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'\r\n{"name": "keepalived", "changed": true, "status": {"Type": "forking", "Restart": "no", "PIDFile": "/run/keepalived.pid", "NotifyAccess": "none", "RestartUSec": "100ms", "TimeoutStartUSec": "1min 30s", "TimeoutStopUSec": "1min 30s", "TimeoutAbortUSec": "1min 30s", "TimeoutStartFailureMode": "terminate", "TimeoutStopFailureMode": "terminate", "RuntimeMaxUSec": "infinity", "WatchdogUSec": "infinity", "WatchdogTimestampMonotonic": "0", "RootDirectoryStartOnly": "no", "RemainAfterExit": "no", "GuessMainPID": "yes", "MainPID": "0", "ControlPID": "0", "FileDescriptorStoreMax": "0", "NFileDescriptorStore": "0", "StatusErrno": "0", "Result": "success", "ReloadResult": "success", "CleanResult": "success", "UID": "[not set]", "GID": "[not set]", "NRestarts": "0", "OOMPolicy": "stop", "ExecMainStartTimestampMonotonic": "0", "ExecMainExitTimestampMonotonic": "0", "ExecMainPID": "0", "ExecMainCode": "0", "ExecMainStatus": "0", "ExecStart": "{ path=/usr/sbin/keepalived ; argv[]=/usr/sbin/keepalived $KEEPALIVED_OPTIONS ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartEx": "{ path=/usr/sbin/keepalived ; argv[]=/usr/sbin/keepalived $KEEPALIVED_OPTIONS ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecReload": "{ path=/bin/kill ; argv[]=/bin/kill -HUP $MAINPID ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecReloadEx": "{ path=/bin/kill ; argv[]=/bin/kill -HUP $MAINPID ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "Slice": "system.slice", "MemoryCurrent": "[not set]", "CPUUsageNSec": "[not set]", "EffectiveCPUs": "", "EffectiveMemoryNodes": "", "TasksCurrent": "[not set]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "Delegate": "no", "CPUAccounting": "yes", "CPUWeight": "[not set]", "StartupCPUWeight": "[not set]", "CPUShares": "[not set]", "StartupCPUShares": "[not set]", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "AllowedCPUs": "", "AllowedMemoryNodes": "", "IOAccounting": "no", "IOWeight": "[not set]", "StartupIOWeight": "[not set]", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "StartupBlockIOWeight": "[not set]", "MemoryAccounting": "yes", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "MemoryMin": "0", "MemoryLow": "0", "MemoryHigh": "infinity", "MemoryMax": "infinity", "MemorySwapMax": "infinity", "MemoryLimit": "infinity", "DevicePolicy": "auto", "TasksAccounting": "yes", "TasksMax": "1080", "IPAccounting": "no", "ManagedOOMSwap": "auto", "ManagedOOMMemoryPressure": "auto", "ManagedOOMMemoryPressureLimit": "0", "ManagedOOMPreference": "none", "EnvironmentFiles": "/etc/sysconfig/keepalived (ignore_errors=yes)", "UMask": "0022", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LimitCORE": "infinity", "LimitCORESoft": "infinity", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitNOFILE": "524288", "LimitNOFILESoft": "1024", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitNPROC": "3602", "LimitNPROCSoft": "3602", "LimitMEMLOCK": "65536", "LimitMEMLOCKSoft": "65536", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitSIGPENDING": "3602", "LimitSIGPENDINGSoft": "3602", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "RootHashSignature": "", "OOMScoreAdjust": "0", "CoredumpFilter": "0x33", "Nice": "0", "IOSchedulingClass": "0", "IOSchedulingPriority": "0", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUAffinity": "", "CPUAffinityFromNUMA": "no", "NUMAPolicy": "n/a", "NUMAMask": "", "TimerSlackNSec": "50000", "CPUSchedulingResetOnFork": "no", "NonBlocking": "no", "StandardInput": "null", "StandardInputData": "", "StandardOutput": "journal", "StandardError": "inherit", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "SyslogPriority": "30", "SyslogLevelPrefix": "yes", "SyslogLevel": "6", "SyslogFacility": "3", "LogLevelMax": "-1", "LogRateLimitIntervalUSec": "0", "LogRateLimitBurst": "0", "SecureBits": "0", "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read cap_perfmon cap_bpf cap_checkpoint_restore", "AmbientCapabilities": "", "DynamicUser": "no", "RemoveIPC": "no", "MountFlags": "", "PrivateTmp": "no", "PrivateDevices": "no", "ProtectClock": "no", "ProtectKernelTunables": "no", "ProtectKernelModules": "no", "ProtectKernelLogs": "no", "ProtectControlGroups": "no", "PrivateNetwork": "no", "PrivateUsers": "no", "PrivateMounts": "no", "PrivateIPC": "no", "ProtectHome": "no", "ProtectSystem": "no", "SameProcessGroup": "no", "UtmpMode": "init", "IgnoreSIGPIPE": "yes", "NoNewPrivileges": "no", "SystemCallErrorNumber": "2147483646", "LockPersonality": "no", "RuntimeDirectoryPreserve": "no", "RuntimeDirectoryMode": "0755", "StateDirectoryMode": "0755", "CacheDirectoryMode": "0755", "LogsDirectoryMode": "0755", "ConfigurationDirectoryMode": "0755", "TimeoutCleanUSec": "infinity", "MemoryDenyWriteExecute": "no", "RestrictRealtime": "no", "RestrictSUIDSGID": "no", "RestrictNamespaces": "no", "MountAPIVFS": "no", "KeyringMode": "private", "ProtectProc": "default", "ProcSubset": "all", "ProtectHostname": "no", "KillMode": "process", "KillSignal": "15", "RestartKillSignal": "15", "FinalKillSignal": "9", "SendSIGKILL": "yes", "SendSIGHUP": "no", "WatchdogSignal": "6", "Id": "keepalived.service", "Names": "keepalived.service", "Requires": "system.slice sysinit.target", "Wants": "network-online.target", "Conflicts": "shutdown.target", "Before": "shutdown.target", "After": "syslog.target basic.target network-online.target sysinit.target system.slice systemd-journald.socket", "Description": "LVS and VRRP High Availability Monitor", "LoadState": "loaded", "ActiveState": "inactive", "FreezerState": "running", "SubState": "dead", "FragmentPath": "/usr/lib/systemd/system/keepalived.service", "UnitFileState": "disabled", "UnitFilePreset": "disabled", "StateChangeTimestampMonotonic": "0", "InactiveExitTimestampMonotonic": "0", "ActiveEnterTimestampMonotonic": "0", "ActiveExitTimestampMonotonic": "0", "InactiveEnterTimestampMonotonic": "0", "CanStart": "yes", "CanStop": "yes", "CanReload": "yes", "CanIsolate": "no", "CanFreeze": "yes", "StopWhenUnneeded": "no", "RefuseManualStart": "no", "RefuseManualStop": "no", "AllowIsolate": "no", "DefaultDependencies": "yes", "OnFailureJobMode": "replace", "IgnoreOnIsolate": "no", "NeedDaemonReload": "no", "JobTimeoutUSec": "infinity", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "ConditionResult": "no", "AssertResult": "no", "ConditionTimestampMonotonic": "0", "AssertTimestampMonotonic": "0", "Transient": "no", "Perpetual": "no", "StartLimitIntervalUSec": "10s", "StartLimitBurst": "5", "StartLimitAction": "none", "FailureAction": "none", "SuccessAction": "none", "CollectMode": "inactive"}, "state": "started", "invocation": {"module_args": {"name": "keepalived", "state": "restarted", "daemon_reload": false, "daemon_reexec": false, "scope": "system", "no_block": false, "enabled": null, "force": null, "masked": null}}}\r\n', b'Shared connection to 172.20.254.3 closed.\r\n')
2021-10-18 13:15:10,987 p=34727 u=eduardgevorkyan n=ansible | <172.20.254.3> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:10,990 p=34727 u=eduardgevorkyan n=ansible | <172.20.254.3> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/5df898a171 172.20.254.3 '/bin/sh -c '"'"'rm -f -r /home/k3s1/.ansible/tmp/ansible-tmp-1634555707.6677346-34727-67680603217459/ > /dev/null 2>&1 && sleep 0'"'"''
2021-10-18 13:15:11,134 p=34730 u=eduardgevorkyan n=ansible | <172.20.254.1> (0, b'', b'')
2021-10-18 13:15:11,155 p=34584 u=eduardgevorkyan n=ansible | changed: [k3s1] => {
    "changed": true,
    "invocation": {
        "module_args": {
            "daemon_reexec": false,
            "daemon_reload": false,
            "enabled": null,
            "force": null,
            "masked": null,
            "name": "keepalived",
            "no_block": false,
            "scope": "system",
            "state": "restarted"
        }
    },
    "name": "keepalived",
    "state": "started",
    "status": {
        "ActiveEnterTimestampMonotonic": "0",
        "ActiveExitTimestampMonotonic": "0",
        "ActiveState": "inactive",
        "After": "sysinit.target system.slice basic.target syslog.target systemd-journald.socket network-online.target",
        "AllowIsolate": "no",
        "AllowedCPUs": "",
        "AllowedMemoryNodes": "",
        "AmbientCapabilities": "",
        "AssertResult": "no",
        "AssertTimestampMonotonic": "0",
        "Before": "shutdown.target",
        "BlockIOAccounting": "no",
        "BlockIOWeight": "[not set]",
        "CPUAccounting": "yes",
        "CPUAffinity": "",
        "CPUAffinityFromNUMA": "no",
        "CPUQuotaPerSecUSec": "infinity",
        "CPUQuotaPeriodUSec": "infinity",
        "CPUSchedulingPolicy": "0",
        "CPUSchedulingPriority": "0",
        "CPUSchedulingResetOnFork": "no",
        "CPUShares": "[not set]",
        "CPUUsageNSec": "[not set]",
        "CPUWeight": "[not set]",
        "CacheDirectoryMode": "0755",
        "CanFreeze": "yes",
        "CanIsolate": "no",
        "CanReload": "yes",
        "CanStart": "yes",
        "CanStop": "yes",
        "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read cap_perfmon cap_bpf cap_checkpoint_restore",
        "CleanResult": "success",
        "CollectMode": "inactive",
        "ConditionResult": "no",
        "ConditionTimestampMonotonic": "0",
        "ConfigurationDirectoryMode": "0755",
        "Conflicts": "shutdown.target",
        "ControlPID": "0",
        "CoredumpFilter": "0x33",
        "DefaultDependencies": "yes",
        "DefaultMemoryLow": "0",
        "DefaultMemoryMin": "0",
        "Delegate": "no",
        "Description": "LVS and VRRP High Availability Monitor",
        "DevicePolicy": "auto",
        "DynamicUser": "no",
        "EffectiveCPUs": "",
        "EffectiveMemoryNodes": "",
        "EnvironmentFiles": "/etc/sysconfig/keepalived (ignore_errors=yes)",
        "ExecMainCode": "0",
        "ExecMainExitTimestampMonotonic": "0",
        "ExecMainPID": "0",
        "ExecMainStartTimestampMonotonic": "0",
        "ExecMainStatus": "0",
        "ExecReload": "{ path=/bin/kill ; argv[]=/bin/kill -HUP $MAINPID ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecReloadEx": "{ path=/bin/kill ; argv[]=/bin/kill -HUP $MAINPID ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStart": "{ path=/usr/sbin/keepalived ; argv[]=/usr/sbin/keepalived $KEEPALIVED_OPTIONS ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStartEx": "{ path=/usr/sbin/keepalived ; argv[]=/usr/sbin/keepalived $KEEPALIVED_OPTIONS ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "FailureAction": "none",
        "FileDescriptorStoreMax": "0",
        "FinalKillSignal": "9",
        "FragmentPath": "/usr/lib/systemd/system/keepalived.service",
        "FreezerState": "running",
        "GID": "[not set]",
        "GuessMainPID": "yes",
        "IOAccounting": "no",
        "IOReadBytes": "18446744073709551615",
        "IOReadOperations": "18446744073709551615",
        "IOSchedulingClass": "0",
        "IOSchedulingPriority": "0",
        "IOWeight": "[not set]",
        "IOWriteBytes": "18446744073709551615",
        "IOWriteOperations": "18446744073709551615",
        "IPAccounting": "no",
        "IPEgressBytes": "[no data]",
        "IPEgressPackets": "[no data]",
        "IPIngressBytes": "[no data]",
        "IPIngressPackets": "[no data]",
        "Id": "keepalived.service",
        "IgnoreOnIsolate": "no",
        "IgnoreSIGPIPE": "yes",
        "InactiveEnterTimestampMonotonic": "0",
        "InactiveExitTimestampMonotonic": "0",
        "JobRunningTimeoutUSec": "infinity",
        "JobTimeoutAction": "none",
        "JobTimeoutUSec": "infinity",
        "KeyringMode": "private",
        "KillMode": "process",
        "KillSignal": "15",
        "LimitAS": "infinity",
        "LimitASSoft": "infinity",
        "LimitCORE": "infinity",
        "LimitCORESoft": "infinity",
        "LimitCPU": "infinity",
        "LimitCPUSoft": "infinity",
        "LimitDATA": "infinity",
        "LimitDATASoft": "infinity",
        "LimitFSIZE": "infinity",
        "LimitFSIZESoft": "infinity",
        "LimitLOCKS": "infinity",
        "LimitLOCKSSoft": "infinity",
        "LimitMEMLOCK": "65536",
        "LimitMEMLOCKSoft": "65536",
        "LimitMSGQUEUE": "819200",
        "LimitMSGQUEUESoft": "819200",
        "LimitNICE": "0",
        "LimitNICESoft": "0",
        "LimitNOFILE": "524288",
        "LimitNOFILESoft": "1024",
        "LimitNPROC": "3602",
        "LimitNPROCSoft": "3602",
        "LimitRSS": "infinity",
        "LimitRSSSoft": "infinity",
        "LimitRTPRIO": "0",
        "LimitRTPRIOSoft": "0",
        "LimitRTTIME": "infinity",
        "LimitRTTIMESoft": "infinity",
        "LimitSIGPENDING": "3602",
        "LimitSIGPENDINGSoft": "3602",
        "LimitSTACK": "infinity",
        "LimitSTACKSoft": "8388608",
        "LoadState": "loaded",
        "LockPersonality": "no",
        "LogLevelMax": "-1",
        "LogRateLimitBurst": "0",
        "LogRateLimitIntervalUSec": "0",
        "LogsDirectoryMode": "0755",
        "MainPID": "0",
        "ManagedOOMMemoryPressure": "auto",
        "ManagedOOMMemoryPressureLimit": "0",
        "ManagedOOMPreference": "none",
        "ManagedOOMSwap": "auto",
        "MemoryAccounting": "yes",
        "MemoryCurrent": "[not set]",
        "MemoryDenyWriteExecute": "no",
        "MemoryHigh": "infinity",
        "MemoryLimit": "infinity",
        "MemoryLow": "0",
        "MemoryMax": "infinity",
        "MemoryMin": "0",
        "MemorySwapMax": "infinity",
        "MountAPIVFS": "no",
        "MountFlags": "",
        "NFileDescriptorStore": "0",
        "NRestarts": "0",
        "NUMAMask": "",
        "NUMAPolicy": "n/a",
        "Names": "keepalived.service",
        "NeedDaemonReload": "no",
        "Nice": "0",
        "NoNewPrivileges": "no",
        "NonBlocking": "no",
        "NotifyAccess": "none",
        "OOMPolicy": "stop",
        "OOMScoreAdjust": "0",
        "OnFailureJobMode": "replace",
        "PIDFile": "/run/keepalived.pid",
        "Perpetual": "no",
        "PrivateDevices": "no",
        "PrivateIPC": "no",
        "PrivateMounts": "no",
        "PrivateNetwork": "no",
        "PrivateTmp": "no",
        "PrivateUsers": "no",
        "ProcSubset": "all",
        "ProtectClock": "no",
        "ProtectControlGroups": "no",
        "ProtectHome": "no",
        "ProtectHostname": "no",
        "ProtectKernelLogs": "no",
        "ProtectKernelModules": "no",
        "ProtectKernelTunables": "no",
        "ProtectProc": "default",
        "ProtectSystem": "no",
        "RefuseManualStart": "no",
        "RefuseManualStop": "no",
        "ReloadResult": "success",
        "RemainAfterExit": "no",
        "RemoveIPC": "no",
        "Requires": "system.slice sysinit.target",
        "Restart": "no",
        "RestartKillSignal": "15",
        "RestartUSec": "100ms",
        "RestrictNamespaces": "no",
        "RestrictRealtime": "no",
        "RestrictSUIDSGID": "no",
        "Result": "success",
        "RootDirectoryStartOnly": "no",
        "RootHashSignature": "",
        "RuntimeDirectoryMode": "0755",
        "RuntimeDirectoryPreserve": "no",
        "RuntimeMaxUSec": "infinity",
        "SameProcessGroup": "no",
        "SecureBits": "0",
        "SendSIGHUP": "no",
        "SendSIGKILL": "yes",
        "Slice": "system.slice",
        "StandardError": "inherit",
        "StandardInput": "null",
        "StandardInputData": "",
        "StandardOutput": "journal",
        "StartLimitAction": "none",
        "StartLimitBurst": "5",
        "StartLimitIntervalUSec": "10s",
        "StartupBlockIOWeight": "[not set]",
        "StartupCPUShares": "[not set]",
        "StartupCPUWeight": "[not set]",
        "StartupIOWeight": "[not set]",
        "StateChangeTimestampMonotonic": "0",
        "StateDirectoryMode": "0755",
        "StatusErrno": "0",
        "StopWhenUnneeded": "no",
        "SubState": "dead",
        "SuccessAction": "none",
        "SyslogFacility": "3",
        "SyslogLevel": "6",
        "SyslogLevelPrefix": "yes",
        "SyslogPriority": "30",
        "SystemCallErrorNumber": "2147483646",
        "TTYReset": "no",
        "TTYVHangup": "no",
        "TTYVTDisallocate": "no",
        "TasksAccounting": "yes",
        "TasksCurrent": "[not set]",
        "TasksMax": "1080",
        "TimeoutAbortUSec": "1min 30s",
        "TimeoutCleanUSec": "infinity",
        "TimeoutStartFailureMode": "terminate",
        "TimeoutStartUSec": "1min 30s",
        "TimeoutStopFailureMode": "terminate",
        "TimeoutStopUSec": "1min 30s",
        "TimerSlackNSec": "50000",
        "Transient": "no",
        "Type": "forking",
        "UID": "[not set]",
        "UMask": "0022",
        "UnitFilePreset": "disabled",
        "UnitFileState": "disabled",
        "UtmpMode": "init",
        "Wants": "network-online.target",
        "WatchdogSignal": "6",
        "WatchdogTimestampMonotonic": "0",
        "WatchdogUSec": "infinity"
    }
}
2021-10-18 13:15:11,167 p=34727 u=eduardgevorkyan n=ansible | <172.20.254.3> (0, b'', b'')
2021-10-18 13:15:11,211 p=34584 u=eduardgevorkyan n=ansible | changed: [k3s3] => {
    "changed": true,
    "invocation": {
        "module_args": {
            "daemon_reexec": false,
            "daemon_reload": false,
            "enabled": null,
            "force": null,
            "masked": null,
            "name": "keepalived",
            "no_block": false,
            "scope": "system",
            "state": "restarted"
        }
    },
    "name": "keepalived",
    "state": "started",
    "status": {
        "ActiveEnterTimestampMonotonic": "0",
        "ActiveExitTimestampMonotonic": "0",
        "ActiveState": "inactive",
        "After": "syslog.target basic.target network-online.target sysinit.target system.slice systemd-journald.socket",
        "AllowIsolate": "no",
        "AllowedCPUs": "",
        "AllowedMemoryNodes": "",
        "AmbientCapabilities": "",
        "AssertResult": "no",
        "AssertTimestampMonotonic": "0",
        "Before": "shutdown.target",
        "BlockIOAccounting": "no",
        "BlockIOWeight": "[not set]",
        "CPUAccounting": "yes",
        "CPUAffinity": "",
        "CPUAffinityFromNUMA": "no",
        "CPUQuotaPerSecUSec": "infinity",
        "CPUQuotaPeriodUSec": "infinity",
        "CPUSchedulingPolicy": "0",
        "CPUSchedulingPriority": "0",
        "CPUSchedulingResetOnFork": "no",
        "CPUShares": "[not set]",
        "CPUUsageNSec": "[not set]",
        "CPUWeight": "[not set]",
        "CacheDirectoryMode": "0755",
        "CanFreeze": "yes",
        "CanIsolate": "no",
        "CanReload": "yes",
        "CanStart": "yes",
        "CanStop": "yes",
        "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read cap_perfmon cap_bpf cap_checkpoint_restore",
        "CleanResult": "success",
        "CollectMode": "inactive",
        "ConditionResult": "no",
        "ConditionTimestampMonotonic": "0",
        "ConfigurationDirectoryMode": "0755",
        "Conflicts": "shutdown.target",
        "ControlPID": "0",
        "CoredumpFilter": "0x33",
        "DefaultDependencies": "yes",
        "DefaultMemoryLow": "0",
        "DefaultMemoryMin": "0",
        "Delegate": "no",
        "Description": "LVS and VRRP High Availability Monitor",
        "DevicePolicy": "auto",
        "DynamicUser": "no",
        "EffectiveCPUs": "",
        "EffectiveMemoryNodes": "",
        "EnvironmentFiles": "/etc/sysconfig/keepalived (ignore_errors=yes)",
        "ExecMainCode": "0",
        "ExecMainExitTimestampMonotonic": "0",
        "ExecMainPID": "0",
        "ExecMainStartTimestampMonotonic": "0",
        "ExecMainStatus": "0",
        "ExecReload": "{ path=/bin/kill ; argv[]=/bin/kill -HUP $MAINPID ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecReloadEx": "{ path=/bin/kill ; argv[]=/bin/kill -HUP $MAINPID ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStart": "{ path=/usr/sbin/keepalived ; argv[]=/usr/sbin/keepalived $KEEPALIVED_OPTIONS ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStartEx": "{ path=/usr/sbin/keepalived ; argv[]=/usr/sbin/keepalived $KEEPALIVED_OPTIONS ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "FailureAction": "none",
        "FileDescriptorStoreMax": "0",
        "FinalKillSignal": "9",
        "FragmentPath": "/usr/lib/systemd/system/keepalived.service",
        "FreezerState": "running",
        "GID": "[not set]",
        "GuessMainPID": "yes",
        "IOAccounting": "no",
        "IOReadBytes": "18446744073709551615",
        "IOReadOperations": "18446744073709551615",
        "IOSchedulingClass": "0",
        "IOSchedulingPriority": "0",
        "IOWeight": "[not set]",
        "IOWriteBytes": "18446744073709551615",
        "IOWriteOperations": "18446744073709551615",
        "IPAccounting": "no",
        "IPEgressBytes": "[no data]",
        "IPEgressPackets": "[no data]",
        "IPIngressBytes": "[no data]",
        "IPIngressPackets": "[no data]",
        "Id": "keepalived.service",
        "IgnoreOnIsolate": "no",
        "IgnoreSIGPIPE": "yes",
        "InactiveEnterTimestampMonotonic": "0",
        "InactiveExitTimestampMonotonic": "0",
        "JobRunningTimeoutUSec": "infinity",
        "JobTimeoutAction": "none",
        "JobTimeoutUSec": "infinity",
        "KeyringMode": "private",
        "KillMode": "process",
        "KillSignal": "15",
        "LimitAS": "infinity",
        "LimitASSoft": "infinity",
        "LimitCORE": "infinity",
        "LimitCORESoft": "infinity",
        "LimitCPU": "infinity",
        "LimitCPUSoft": "infinity",
        "LimitDATA": "infinity",
        "LimitDATASoft": "infinity",
        "LimitFSIZE": "infinity",
        "LimitFSIZESoft": "infinity",
        "LimitLOCKS": "infinity",
        "LimitLOCKSSoft": "infinity",
        "LimitMEMLOCK": "65536",
        "LimitMEMLOCKSoft": "65536",
        "LimitMSGQUEUE": "819200",
        "LimitMSGQUEUESoft": "819200",
        "LimitNICE": "0",
        "LimitNICESoft": "0",
        "LimitNOFILE": "524288",
        "LimitNOFILESoft": "1024",
        "LimitNPROC": "3602",
        "LimitNPROCSoft": "3602",
        "LimitRSS": "infinity",
        "LimitRSSSoft": "infinity",
        "LimitRTPRIO": "0",
        "LimitRTPRIOSoft": "0",
        "LimitRTTIME": "infinity",
        "LimitRTTIMESoft": "infinity",
        "LimitSIGPENDING": "3602",
        "LimitSIGPENDINGSoft": "3602",
        "LimitSTACK": "infinity",
        "LimitSTACKSoft": "8388608",
        "LoadState": "loaded",
        "LockPersonality": "no",
        "LogLevelMax": "-1",
        "LogRateLimitBurst": "0",
        "LogRateLimitIntervalUSec": "0",
        "LogsDirectoryMode": "0755",
        "MainPID": "0",
        "ManagedOOMMemoryPressure": "auto",
        "ManagedOOMMemoryPressureLimit": "0",
        "ManagedOOMPreference": "none",
        "ManagedOOMSwap": "auto",
        "MemoryAccounting": "yes",
        "MemoryCurrent": "[not set]",
        "MemoryDenyWriteExecute": "no",
        "MemoryHigh": "infinity",
        "MemoryLimit": "infinity",
        "MemoryLow": "0",
        "MemoryMax": "infinity",
        "MemoryMin": "0",
        "MemorySwapMax": "infinity",
        "MountAPIVFS": "no",
        "MountFlags": "",
        "NFileDescriptorStore": "0",
        "NRestarts": "0",
        "NUMAMask": "",
        "NUMAPolicy": "n/a",
        "Names": "keepalived.service",
        "NeedDaemonReload": "no",
        "Nice": "0",
        "NoNewPrivileges": "no",
        "NonBlocking": "no",
        "NotifyAccess": "none",
        "OOMPolicy": "stop",
        "OOMScoreAdjust": "0",
        "OnFailureJobMode": "replace",
        "PIDFile": "/run/keepalived.pid",
        "Perpetual": "no",
        "PrivateDevices": "no",
        "PrivateIPC": "no",
        "PrivateMounts": "no",
        "PrivateNetwork": "no",
        "PrivateTmp": "no",
        "PrivateUsers": "no",
        "ProcSubset": "all",
        "ProtectClock": "no",
        "ProtectControlGroups": "no",
        "ProtectHome": "no",
        "ProtectHostname": "no",
        "ProtectKernelLogs": "no",
        "ProtectKernelModules": "no",
        "ProtectKernelTunables": "no",
        "ProtectProc": "default",
        "ProtectSystem": "no",
        "RefuseManualStart": "no",
        "RefuseManualStop": "no",
        "ReloadResult": "success",
        "RemainAfterExit": "no",
        "RemoveIPC": "no",
        "Requires": "system.slice sysinit.target",
        "Restart": "no",
        "RestartKillSignal": "15",
        "RestartUSec": "100ms",
        "RestrictNamespaces": "no",
        "RestrictRealtime": "no",
        "RestrictSUIDSGID": "no",
        "Result": "success",
        "RootDirectoryStartOnly": "no",
        "RootHashSignature": "",
        "RuntimeDirectoryMode": "0755",
        "RuntimeDirectoryPreserve": "no",
        "RuntimeMaxUSec": "infinity",
        "SameProcessGroup": "no",
        "SecureBits": "0",
        "SendSIGHUP": "no",
        "SendSIGKILL": "yes",
        "Slice": "system.slice",
        "StandardError": "inherit",
        "StandardInput": "null",
        "StandardInputData": "",
        "StandardOutput": "journal",
        "StartLimitAction": "none",
        "StartLimitBurst": "5",
        "StartLimitIntervalUSec": "10s",
        "StartupBlockIOWeight": "[not set]",
        "StartupCPUShares": "[not set]",
        "StartupCPUWeight": "[not set]",
        "StartupIOWeight": "[not set]",
        "StateChangeTimestampMonotonic": "0",
        "StateDirectoryMode": "0755",
        "StatusErrno": "0",
        "StopWhenUnneeded": "no",
        "SubState": "dead",
        "SuccessAction": "none",
        "SyslogFacility": "3",
        "SyslogLevel": "6",
        "SyslogLevelPrefix": "yes",
        "SyslogPriority": "30",
        "SystemCallErrorNumber": "2147483646",
        "TTYReset": "no",
        "TTYVHangup": "no",
        "TTYVTDisallocate": "no",
        "TasksAccounting": "yes",
        "TasksCurrent": "[not set]",
        "TasksMax": "1080",
        "TimeoutAbortUSec": "1min 30s",
        "TimeoutCleanUSec": "infinity",
        "TimeoutStartFailureMode": "terminate",
        "TimeoutStartUSec": "1min 30s",
        "TimeoutStopFailureMode": "terminate",
        "TimeoutStopUSec": "1min 30s",
        "TimerSlackNSec": "50000",
        "Transient": "no",
        "Type": "forking",
        "UID": "[not set]",
        "UMask": "0022",
        "UnitFilePreset": "disabled",
        "UnitFileState": "disabled",
        "UtmpMode": "init",
        "Wants": "network-online.target",
        "WatchdogSignal": "6",
        "WatchdogTimestampMonotonic": "0",
        "WatchdogUSec": "infinity"
    }
}
2021-10-18 13:15:11,897 p=34728 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'\r\n{"name": "keepalived", "changed": true, "status": {"Type": "forking", "Restart": "no", "PIDFile": "/run/keepalived.pid", "NotifyAccess": "none", "RestartUSec": "100ms", "TimeoutStartUSec": "1min 30s", "TimeoutStopUSec": "1min 30s", "TimeoutAbortUSec": "1min 30s", "TimeoutStartFailureMode": "terminate", "TimeoutStopFailureMode": "terminate", "RuntimeMaxUSec": "infinity", "WatchdogUSec": "infinity", "WatchdogTimestampMonotonic": "0", "RootDirectoryStartOnly": "no", "RemainAfterExit": "no", "GuessMainPID": "yes", "MainPID": "0", "ControlPID": "0", "FileDescriptorStoreMax": "0", "NFileDescriptorStore": "0", "StatusErrno": "0", "Result": "success", "ReloadResult": "success", "CleanResult": "success", "UID": "[not set]", "GID": "[not set]", "NRestarts": "0", "OOMPolicy": "stop", "ExecMainStartTimestampMonotonic": "0", "ExecMainExitTimestampMonotonic": "0", "ExecMainPID": "0", "ExecMainCode": "0", "ExecMainStatus": "0", "ExecStart": "{ path=/usr/sbin/keepalived ; argv[]=/usr/sbin/keepalived $KEEPALIVED_OPTIONS ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartEx": "{ path=/usr/sbin/keepalived ; argv[]=/usr/sbin/keepalived $KEEPALIVED_OPTIONS ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecReload": "{ path=/bin/kill ; argv[]=/bin/kill -HUP $MAINPID ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecReloadEx": "{ path=/bin/kill ; argv[]=/bin/kill -HUP $MAINPID ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "Slice": "system.slice", "MemoryCurrent": "[not set]", "CPUUsageNSec": "[not set]", "EffectiveCPUs": "", "EffectiveMemoryNodes": "", "TasksCurrent": "[not set]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "Delegate": "no", "CPUAccounting": "yes", "CPUWeight": "[not set]", "StartupCPUWeight": "[not set]", "CPUShares": "[not set]", "StartupCPUShares": "[not set]", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "AllowedCPUs": "", "AllowedMemoryNodes": "", "IOAccounting": "no", "IOWeight": "[not set]", "StartupIOWeight": "[not set]", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "StartupBlockIOWeight": "[not set]", "MemoryAccounting": "yes", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "MemoryMin": "0", "MemoryLow": "0", "MemoryHigh": "infinity", "MemoryMax": "infinity", "MemorySwapMax": "infinity", "MemoryLimit": "infinity", "DevicePolicy": "auto", "TasksAccounting": "yes", "TasksMax": "1080", "IPAccounting": "no", "ManagedOOMSwap": "auto", "ManagedOOMMemoryPressure": "auto", "ManagedOOMMemoryPressureLimit": "0", "ManagedOOMPreference": "none", "EnvironmentFiles": "/etc/sysconfig/keepalived (ignore_errors=yes)", "UMask": "0022", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LimitCORE": "infinity", "LimitCORESoft": "infinity", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitNOFILE": "524288", "LimitNOFILESoft": "1024", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitNPROC": "3602", "LimitNPROCSoft": "3602", "LimitMEMLOCK": "65536", "LimitMEMLOCKSoft": "65536", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitSIGPENDING": "3602", "LimitSIGPENDINGSoft": "3602", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "RootHashSignature": "", "OOMScoreAdjust": "0", "CoredumpFilter": "0x33", "Nice": "0", "IOSchedulingClass": "0", "IOSchedulingPriority": "0", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUAffinity": "", "CPUAffinityFromNUMA": "no", "NUMAPolicy": "n/a", "NUMAMask": "", "TimerSlackNSec": "50000", "CPUSchedulingResetOnFork": "no", "NonBlocking": "no", "StandardInput": "null", "StandardInputData": "", "StandardOutput": "journal", "StandardError": "inherit", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "SyslogPriority": "30", "SyslogLevelPrefix": "yes", "SyslogLevel": "6", "SyslogFacility": "3", "LogLevelMax": "-1", "LogRateLimitIntervalUSec": "0", "LogRateLimitBurst": "0", "SecureBits": "0", "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read cap_perfmon cap_bpf cap_checkpoint_restore", "AmbientCapabilities": "", "DynamicUser": "no", "RemoveIPC": "no", "MountFlags": "", "PrivateTmp": "no", "PrivateDevices": "no", "ProtectClock": "no", "ProtectKernelTunables": "no", "ProtectKernelModules": "no", "ProtectKernelLogs": "no", "ProtectControlGroups": "no", "PrivateNetwork": "no", "PrivateUsers": "no", "PrivateMounts": "no", "PrivateIPC": "no", "ProtectHome": "no", "ProtectSystem": "no", "SameProcessGroup": "no", "UtmpMode": "init", "IgnoreSIGPIPE": "yes", "NoNewPrivileges": "no", "SystemCallErrorNumber": "2147483646", "LockPersonality": "no", "RuntimeDirectoryPreserve": "no", "RuntimeDirectoryMode": "0755", "StateDirectoryMode": "0755", "CacheDirectoryMode": "0755", "LogsDirectoryMode": "0755", "ConfigurationDirectoryMode": "0755", "TimeoutCleanUSec": "infinity", "MemoryDenyWriteExecute": "no", "RestrictRealtime": "no", "RestrictSUIDSGID": "no", "RestrictNamespaces": "no", "MountAPIVFS": "no", "KeyringMode": "private", "ProtectProc": "default", "ProcSubset": "all", "ProtectHostname": "no", "KillMode": "process", "KillSignal": "15", "RestartKillSignal": "15", "FinalKillSignal": "9", "SendSIGKILL": "yes", "SendSIGHUP": "no", "WatchdogSignal": "6", "Id": "keepalived.service", "Names": "keepalived.service", "Requires": "system.slice sysinit.target", "Wants": "network-online.target", "Conflicts": "shutdown.target", "Before": "shutdown.target", "After": "syslog.target network-online.target systemd-journald.socket system.slice basic.target sysinit.target", "Description": "LVS and VRRP High Availability Monitor", "LoadState": "loaded", "ActiveState": "inactive", "FreezerState": "running", "SubState": "dead", "FragmentPath": "/usr/lib/systemd/system/keepalived.service", "UnitFileState": "disabled", "UnitFilePreset": "disabled", "StateChangeTimestampMonotonic": "0", "InactiveExitTimestampMonotonic": "0", "ActiveEnterTimestampMonotonic": "0", "ActiveExitTimestampMonotonic": "0", "InactiveEnterTimestampMonotonic": "0", "CanStart": "yes", "CanStop": "yes", "CanReload": "yes", "CanIsolate": "no", "CanFreeze": "yes", "StopWhenUnneeded": "no", "RefuseManualStart": "no", "RefuseManualStop": "no", "AllowIsolate": "no", "DefaultDependencies": "yes", "OnFailureJobMode": "replace", "IgnoreOnIsolate": "no", "NeedDaemonReload": "no", "JobTimeoutUSec": "infinity", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "ConditionResult": "no", "AssertResult": "no", "ConditionTimestampMonotonic": "0", "AssertTimestampMonotonic": "0", "Transient": "no", "Perpetual": "no", "StartLimitIntervalUSec": "10s", "StartLimitBurst": "5", "StartLimitAction": "none", "FailureAction": "none", "SuccessAction": "none", "CollectMode": "inactive"}, "state": "started", "invocation": {"module_args": {"name": "keepalived", "state": "restarted", "daemon_reload": false, "daemon_reexec": false, "scope": "system", "no_block": false, "enabled": null, "force": null, "masked": null}}}\r\n', b'Shared connection to 172.20.254.2 closed.\r\n')
2021-10-18 13:15:11,903 p=34728 u=eduardgevorkyan n=ansible | <172.20.254.2> ESTABLISH SSH CONNECTION FOR USER: k3s1
2021-10-18 13:15:11,905 p=34728 u=eduardgevorkyan n=ansible | <172.20.254.2> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/home/eduardgevorkyan/.ssh/id_ed25519"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="k3s1"' -o ConnectTimeout=10 -o ControlPath=/home/eduardgevorkyan/.ansible/cp/c4bbd94cf7 172.20.254.2 '/bin/sh -c '"'"'rm -f -r /home/k3s1/.ansible/tmp/ansible-tmp-1634555707.7911408-34728-227734032967513/ > /dev/null 2>&1 && sleep 0'"'"''
2021-10-18 13:15:12,045 p=34728 u=eduardgevorkyan n=ansible | <172.20.254.2> (0, b'', b'')
2021-10-18 13:15:12,058 p=34584 u=eduardgevorkyan n=ansible | changed: [k3s2] => {
    "changed": true,
    "invocation": {
        "module_args": {
            "daemon_reexec": false,
            "daemon_reload": false,
            "enabled": null,
            "force": null,
            "masked": null,
            "name": "keepalived",
            "no_block": false,
            "scope": "system",
            "state": "restarted"
        }
    },
    "name": "keepalived",
    "state": "started",
    "status": {
        "ActiveEnterTimestampMonotonic": "0",
        "ActiveExitTimestampMonotonic": "0",
        "ActiveState": "inactive",
        "After": "syslog.target network-online.target systemd-journald.socket system.slice basic.target sysinit.target",
        "AllowIsolate": "no",
        "AllowedCPUs": "",
        "AllowedMemoryNodes": "",
        "AmbientCapabilities": "",
        "AssertResult": "no",
        "AssertTimestampMonotonic": "0",
        "Before": "shutdown.target",
        "BlockIOAccounting": "no",
        "BlockIOWeight": "[not set]",
        "CPUAccounting": "yes",
        "CPUAffinity": "",
        "CPUAffinityFromNUMA": "no",
        "CPUQuotaPerSecUSec": "infinity",
        "CPUQuotaPeriodUSec": "infinity",
        "CPUSchedulingPolicy": "0",
        "CPUSchedulingPriority": "0",
        "CPUSchedulingResetOnFork": "no",
        "CPUShares": "[not set]",
        "CPUUsageNSec": "[not set]",
        "CPUWeight": "[not set]",
        "CacheDirectoryMode": "0755",
        "CanFreeze": "yes",
        "CanIsolate": "no",
        "CanReload": "yes",
        "CanStart": "yes",
        "CanStop": "yes",
        "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read cap_perfmon cap_bpf cap_checkpoint_restore",
        "CleanResult": "success",
        "CollectMode": "inactive",
        "ConditionResult": "no",
        "ConditionTimestampMonotonic": "0",
        "ConfigurationDirectoryMode": "0755",
        "Conflicts": "shutdown.target",
        "ControlPID": "0",
        "CoredumpFilter": "0x33",
        "DefaultDependencies": "yes",
        "DefaultMemoryLow": "0",
        "DefaultMemoryMin": "0",
        "Delegate": "no",
        "Description": "LVS and VRRP High Availability Monitor",
        "DevicePolicy": "auto",
        "DynamicUser": "no",
        "EffectiveCPUs": "",
        "EffectiveMemoryNodes": "",
        "EnvironmentFiles": "/etc/sysconfig/keepalived (ignore_errors=yes)",
        "ExecMainCode": "0",
        "ExecMainExitTimestampMonotonic": "0",
        "ExecMainPID": "0",
        "ExecMainStartTimestampMonotonic": "0",
        "ExecMainStatus": "0",
        "ExecReload": "{ path=/bin/kill ; argv[]=/bin/kill -HUP $MAINPID ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecReloadEx": "{ path=/bin/kill ; argv[]=/bin/kill -HUP $MAINPID ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStart": "{ path=/usr/sbin/keepalived ; argv[]=/usr/sbin/keepalived $KEEPALIVED_OPTIONS ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStartEx": "{ path=/usr/sbin/keepalived ; argv[]=/usr/sbin/keepalived $KEEPALIVED_OPTIONS ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "FailureAction": "none",
        "FileDescriptorStoreMax": "0",
        "FinalKillSignal": "9",
        "FragmentPath": "/usr/lib/systemd/system/keepalived.service",
        "FreezerState": "running",
        "GID": "[not set]",
        "GuessMainPID": "yes",
        "IOAccounting": "no",
        "IOReadBytes": "18446744073709551615",
        "IOReadOperations": "18446744073709551615",
        "IOSchedulingClass": "0",
        "IOSchedulingPriority": "0",
        "IOWeight": "[not set]",
        "IOWriteBytes": "18446744073709551615",
        "IOWriteOperations": "18446744073709551615",
        "IPAccounting": "no",
        "IPEgressBytes": "[no data]",
        "IPEgressPackets": "[no data]",
        "IPIngressBytes": "[no data]",
        "IPIngressPackets": "[no data]",
        "Id": "keepalived.service",
        "IgnoreOnIsolate": "no",
        "IgnoreSIGPIPE": "yes",
        "InactiveEnterTimestampMonotonic": "0",
        "InactiveExitTimestampMonotonic": "0",
        "JobRunningTimeoutUSec": "infinity",
        "JobTimeoutAction": "none",
        "JobTimeoutUSec": "infinity",
        "KeyringMode": "private",
        "KillMode": "process",
        "KillSignal": "15",
        "LimitAS": "infinity",
        "LimitASSoft": "infinity",
        "LimitCORE": "infinity",
        "LimitCORESoft": "infinity",
        "LimitCPU": "infinity",
        "LimitCPUSoft": "infinity",
        "LimitDATA": "infinity",
        "LimitDATASoft": "infinity",
        "LimitFSIZE": "infinity",
        "LimitFSIZESoft": "infinity",
        "LimitLOCKS": "infinity",
        "LimitLOCKSSoft": "infinity",
        "LimitMEMLOCK": "65536",
        "LimitMEMLOCKSoft": "65536",
        "LimitMSGQUEUE": "819200",
        "LimitMSGQUEUESoft": "819200",
        "LimitNICE": "0",
        "LimitNICESoft": "0",
        "LimitNOFILE": "524288",
        "LimitNOFILESoft": "1024",
        "LimitNPROC": "3602",
        "LimitNPROCSoft": "3602",
        "LimitRSS": "infinity",
        "LimitRSSSoft": "infinity",
        "LimitRTPRIO": "0",
        "LimitRTPRIOSoft": "0",
        "LimitRTTIME": "infinity",
        "LimitRTTIMESoft": "infinity",
        "LimitSIGPENDING": "3602",
        "LimitSIGPENDINGSoft": "3602",
        "LimitSTACK": "infinity",
        "LimitSTACKSoft": "8388608",
        "LoadState": "loaded",
        "LockPersonality": "no",
        "LogLevelMax": "-1",
        "LogRateLimitBurst": "0",
        "LogRateLimitIntervalUSec": "0",
        "LogsDirectoryMode": "0755",
        "MainPID": "0",
        "ManagedOOMMemoryPressure": "auto",
        "ManagedOOMMemoryPressureLimit": "0",
        "ManagedOOMPreference": "none",
        "ManagedOOMSwap": "auto",
        "MemoryAccounting": "yes",
        "MemoryCurrent": "[not set]",
        "MemoryDenyWriteExecute": "no",
        "MemoryHigh": "infinity",
        "MemoryLimit": "infinity",
        "MemoryLow": "0",
        "MemoryMax": "infinity",
        "MemoryMin": "0",
        "MemorySwapMax": "infinity",
        "MountAPIVFS": "no",
        "MountFlags": "",
        "NFileDescriptorStore": "0",
        "NRestarts": "0",
        "NUMAMask": "",
        "NUMAPolicy": "n/a",
        "Names": "keepalived.service",
        "NeedDaemonReload": "no",
        "Nice": "0",
        "NoNewPrivileges": "no",
        "NonBlocking": "no",
        "NotifyAccess": "none",
        "OOMPolicy": "stop",
        "OOMScoreAdjust": "0",
        "OnFailureJobMode": "replace",
        "PIDFile": "/run/keepalived.pid",
        "Perpetual": "no",
        "PrivateDevices": "no",
        "PrivateIPC": "no",
        "PrivateMounts": "no",
        "PrivateNetwork": "no",
        "PrivateTmp": "no",
        "PrivateUsers": "no",
        "ProcSubset": "all",
        "ProtectClock": "no",
        "ProtectControlGroups": "no",
        "ProtectHome": "no",
        "ProtectHostname": "no",
        "ProtectKernelLogs": "no",
        "ProtectKernelModules": "no",
        "ProtectKernelTunables": "no",
        "ProtectProc": "default",
        "ProtectSystem": "no",
        "RefuseManualStart": "no",
        "RefuseManualStop": "no",
        "ReloadResult": "success",
        "RemainAfterExit": "no",
        "RemoveIPC": "no",
        "Requires": "system.slice sysinit.target",
        "Restart": "no",
        "RestartKillSignal": "15",
        "RestartUSec": "100ms",
        "RestrictNamespaces": "no",
        "RestrictRealtime": "no",
        "RestrictSUIDSGID": "no",
        "Result": "success",
        "RootDirectoryStartOnly": "no",
        "RootHashSignature": "",
        "RuntimeDirectoryMode": "0755",
        "RuntimeDirectoryPreserve": "no",
        "RuntimeMaxUSec": "infinity",
        "SameProcessGroup": "no",
        "SecureBits": "0",
        "SendSIGHUP": "no",
        "SendSIGKILL": "yes",
        "Slice": "system.slice",
        "StandardError": "inherit",
        "StandardInput": "null",
        "StandardInputData": "",
        "StandardOutput": "journal",
        "StartLimitAction": "none",
        "StartLimitBurst": "5",
        "StartLimitIntervalUSec": "10s",
        "StartupBlockIOWeight": "[not set]",
        "StartupCPUShares": "[not set]",
        "StartupCPUWeight": "[not set]",
        "StartupIOWeight": "[not set]",
        "StateChangeTimestampMonotonic": "0",
        "StateDirectoryMode": "0755",
        "StatusErrno": "0",
        "StopWhenUnneeded": "no",
        "SubState": "dead",
        "SuccessAction": "none",
        "SyslogFacility": "3",
        "SyslogLevel": "6",
        "SyslogLevelPrefix": "yes",
        "SyslogPriority": "30",
        "SystemCallErrorNumber": "2147483646",
        "TTYReset": "no",
        "TTYVHangup": "no",
        "TTYVTDisallocate": "no",
        "TasksAccounting": "yes",
        "TasksCurrent": "[not set]",
        "TasksMax": "1080",
        "TimeoutAbortUSec": "1min 30s",
        "TimeoutCleanUSec": "infinity",
        "TimeoutStartFailureMode": "terminate",
        "TimeoutStartUSec": "1min 30s",
        "TimeoutStopFailureMode": "terminate",
        "TimeoutStopUSec": "1min 30s",
        "TimerSlackNSec": "50000",
        "Transient": "no",
        "Type": "forking",
        "UID": "[not set]",
        "UMask": "0022",
        "UnitFilePreset": "disabled",
        "UnitFileState": "disabled",
        "UtmpMode": "init",
        "Wants": "network-online.target",
        "WatchdogSignal": "6",
        "WatchdogTimestampMonotonic": "0",
        "WatchdogUSec": "infinity"
    }
}
2021-10-18 13:15:12,061 p=34584 u=eduardgevorkyan n=ansible | META: ran handlers
2021-10-18 13:15:12,091 p=34584 u=eduardgevorkyan n=ansible | META: ran handlers
2021-10-18 13:15:12,096 p=34584 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-18 13:15:12,097 p=34584 u=eduardgevorkyan n=ansible | k3s1                       : ok=5    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-10-18 13:15:12,099 p=34584 u=eduardgevorkyan n=ansible | k3s2                       : ok=5    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-10-18 13:15:12,099 p=34584 u=eduardgevorkyan n=ansible | k3s3                       : ok=5    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-10-18 14:26:41,058 p=38461 u=eduardgevorkyan n=ansible | PLAY [proxy] *****************************************************************************************************************************
2021-10-18 14:26:41,085 p=38461 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-18 14:26:45,201 p=38461 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-18 14:26:45,219 p=38461 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-18 14:26:45,228 p=38461 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-18 14:26:45,291 p=38461 u=eduardgevorkyan n=ansible | TASK [sparknsh.keepalived : Keepalived | Install package] ********************************************************************************
2021-10-18 14:26:59,858 p=38461 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-18 14:27:04,106 p=38461 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-18 14:27:04,483 p=38461 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-18 14:27:04,515 p=38461 u=eduardgevorkyan n=ansible | TASK [sparknsh.keepalived : Keepalived | Enable keepalived on boot and start] ************************************************************
2021-10-18 14:27:07,639 p=38461 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-18 14:27:07,724 p=38461 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-18 14:27:08,541 p=38461 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-18 14:27:08,573 p=38461 u=eduardgevorkyan n=ansible | TASK [sparknsh.keepalived : Keepalived | sysctl Allow ip_nonlocal_bind] ******************************************************************
2021-10-18 14:27:10,889 p=38461 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-18 14:27:10,894 p=38461 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-18 14:27:10,903 p=38461 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-18 14:27:10,940 p=38461 u=eduardgevorkyan n=ansible | TASK [sparknsh.keepalived : Keepalived | Configure keepalived] ***************************************************************************
2021-10-18 14:27:16,139 p=38461 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-18 14:27:16,155 p=38461 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-18 14:27:16,158 p=38461 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-18 14:27:16,244 p=38461 u=eduardgevorkyan n=ansible | RUNNING HANDLER [sparknsh.keepalived : Restart keepalived] *******************************************************************************
2021-10-18 14:27:19,873 p=38461 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-18 14:27:19,971 p=38461 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-18 14:27:20,085 p=38461 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-18 14:27:20,182 p=38461 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-18 14:27:20,186 p=38461 u=eduardgevorkyan n=ansible | k3s1                       : ok=6    changed=3    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-10-18 14:27:20,189 p=38461 u=eduardgevorkyan n=ansible | k3s2                       : ok=6    changed=4    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-10-18 14:27:20,191 p=38461 u=eduardgevorkyan n=ansible | k3s3                       : ok=6    changed=3    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-10-18 14:31:05,909 p=38881 u=eduardgevorkyan n=ansible | PLAY [proxy] *****************************************************************************************************************************
2021-10-18 14:31:05,949 p=38881 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-18 14:31:12,350 p=38881 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-18 14:31:12,487 p=38881 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-18 14:31:12,497 p=38881 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-18 14:31:12,566 p=38881 u=eduardgevorkyan n=ansible | TASK [sparknsh.keepalived : Keepalived | Install package] ********************************************************************************
2021-10-18 14:31:23,955 p=38881 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-18 14:31:26,177 p=38881 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-18 14:31:26,259 p=38881 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-18 14:31:26,283 p=38881 u=eduardgevorkyan n=ansible | TASK [sparknsh.keepalived : Keepalived | Enable keepalived on boot and start] ************************************************************
2021-10-18 14:31:29,637 p=38881 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-18 14:31:30,651 p=38881 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-18 14:31:30,755 p=38881 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-18 14:31:30,833 p=38881 u=eduardgevorkyan n=ansible | TASK [sparknsh.keepalived : Keepalived | sysctl Allow ip_nonlocal_bind] ******************************************************************
2021-10-18 14:31:36,228 p=38881 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-18 14:31:36,335 p=38881 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-18 14:31:36,393 p=38881 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-18 14:31:36,482 p=38881 u=eduardgevorkyan n=ansible | TASK [sparknsh.keepalived : Keepalived | Configure keepalived] ***************************************************************************
2021-10-18 14:31:43,395 p=38881 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-18 14:31:43,449 p=38881 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-18 14:31:43,483 p=38881 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-18 14:31:43,571 p=38881 u=eduardgevorkyan n=ansible | RUNNING HANDLER [sparknsh.keepalived : Restart keepalived] *******************************************************************************
2021-10-18 14:31:46,312 p=38881 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-18 14:31:46,324 p=38881 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-18 14:31:46,380 p=38881 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-18 14:31:46,415 p=38881 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-18 14:31:46,415 p=38881 u=eduardgevorkyan n=ansible | k3s1                       : ok=6    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-10-18 14:31:46,416 p=38881 u=eduardgevorkyan n=ansible | k3s2                       : ok=6    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-10-18 14:31:46,416 p=38881 u=eduardgevorkyan n=ansible | k3s3                       : ok=6    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-10-19 08:58:18,524 p=51684 u=eduardgevorkyan n=ansible | PLAY [MariaDB cluster deployment] ********************************************************************************************************
2021-10-19 08:58:18,661 p=51684 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-19 08:58:22,878 p=51684 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 08:58:22,968 p=51684 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 08:58:23,015 p=51684 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 08:58:23,056 p=51684 u=eduardgevorkyan n=ansible | TASK [Deployment] ************************************************************************************************************************
2021-10-19 08:58:23,429 p=51684 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : gather os specific variables] ************************************************************
2021-10-19 08:58:23,646 p=51684 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-19 08:58:23,720 p=51684 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-19 08:58:23,781 p=51684 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-19 08:58:23,835 p=51684 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : ensure NIC specified in 'galera_cluster_bind_interface' exists] **************************
2021-10-19 08:58:23,995 p=51684 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-19 08:58:24,025 p=51684 u=eduardgevorkyan n=ansible |  [ERROR]: User interrupted execution

2021-10-19 09:05:27,780 p=52104 u=eduardgevorkyan n=ansible | PLAY [MariaDB cluster deployment] ********************************************************************************************************
2021-10-19 09:05:27,913 p=52104 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-19 09:05:28,689 p=52104 u=eduardgevorkyan n=ansible |  [ERROR]: User interrupted execution

2021-10-19 09:06:21,411 p=52172 u=eduardgevorkyan n=ansible | PLAY [MariaDB cluster deployment] ********************************************************************************************************
2021-10-19 09:06:21,504 p=52172 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-19 09:06:24,997 p=52172 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 09:06:25,077 p=52172 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 09:06:25,328 p=52172 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 09:06:25,350 p=52172 u=eduardgevorkyan n=ansible | TASK [Deployment] ************************************************************************************************************************
2021-10-19 09:06:25,639 p=52172 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : gather os specific variables] ************************************************************
2021-10-19 09:06:25,825 p=52172 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-19 09:06:25,904 p=52172 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-19 09:06:25,953 p=52172 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-19 09:06:25,984 p=52172 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : ensure NIC specified in 'galera_cluster_bind_interface' exists] **************************
2021-10-19 09:06:26,132 p=52172 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-19 09:06:26,210 p=52172 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-19 09:06:26,260 p=52172 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-19 09:06:26,298 p=52172 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | update package list] ************************************************************
2021-10-19 09:06:26,376 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:06:26,442 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:06:26,491 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:06:26,525 p=52172 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | installing pre-reqs] ************************************************************
2021-10-19 09:06:26,630 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:06:26,634 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:06:26,676 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:06:26,708 p=52172 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding MariaDB Repo Keys] *******************************************************
2021-10-19 09:06:26,781 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:06:26,851 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:06:26,872 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:06:26,905 p=52172 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding MariaDB Repo Keys] *******************************************************
2021-10-19 09:06:26,971 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:06:27,045 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:06:27,086 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:06:27,123 p=52172 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | pinning MariaDB Repo] ***********************************************************
2021-10-19 09:06:27,213 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:06:27,277 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:06:27,311 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:06:27,343 p=52172 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding mariadb repo] ************************************************************
2021-10-19 09:06:27,426 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:06:27,487 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:06:27,539 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:06:27,588 p=52172 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | precreate /etc/mysql/conf.d in case we need to add mariadb_config_overrides file] ***
2021-10-19 09:06:27,668 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:06:27,738 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:06:27,780 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:06:27,813 p=52172 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | add an overrides file] **********************************************************
2021-10-19 09:06:27,888 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:06:27,947 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:06:27,995 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:06:28,025 p=52172 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | configuring root my.cnf] ********************************************************
2021-10-19 09:06:28,119 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:06:28,182 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:06:28,225 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:06:28,257 p=52172 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | mysql root password setting] ****************************************************
2021-10-19 09:06:28,432 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=None) 
2021-10-19 09:06:28,455 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=None) 
2021-10-19 09:06:28,456 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:06:28,536 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=None) 
2021-10-19 09:06:28,542 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=None) 
2021-10-19 09:06:28,544 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:06:28,602 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=None) 
2021-10-19 09:06:28,605 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=None) 
2021-10-19 09:06:28,607 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:06:28,642 p=52172 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | installing mariadb-galera packages] *********************************************
2021-10-19 09:06:28,711 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:06:28,774 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:06:28,845 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:06:28,865 p=52172 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | adding mariadb repo] ************************************************************
2021-10-19 09:06:31,287 p=52172 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 09:06:31,363 p=52172 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 09:06:31,398 p=52172 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 09:06:31,434 p=52172 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | disable appstream mysql/mariadb modules] ****************************************
2021-10-19 09:06:43,423 p=52172 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 09:06:45,970 p=52172 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 09:07:02,774 p=52172 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 09:07:02,793 p=52172 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | clean dnf metadata (centos8 & fedora)] ******************************************
2021-10-19 09:07:06,027 p=52172 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 09:07:06,258 p=52172 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 09:07:06,412 p=52172 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 09:07:06,444 p=52172 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | installing pre-reqs] ************************************************************
2021-10-19 09:10:44,568 p=52172 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 09:10:52,657 p=52172 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 09:10:54,284 p=52172 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 09:10:54,329 p=52172 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | precreate /etc/my.cnf.d in case we need to add mariadb_config_overrides file] ***
2021-10-19 09:10:54,523 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:10:54,603 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:10:54,660 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:10:54,697 p=52172 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | add an overrides file] **********************************************************
2021-10-19 09:10:54,909 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:10:54,923 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:10:54,989 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:10:55,011 p=52172 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | installing mariadb mysql] *******************************************************
2021-10-19 09:12:45,362 p=52172 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 09:13:08,604 p=52172 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 09:13:20,609 p=52172 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 09:13:20,685 p=52172 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | remove migrated-from-my.cnf-settings.conf that is causing MariaDB to not start] ***
2021-10-19 09:13:25,857 p=52172 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 09:13:25,954 p=52172 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 09:13:25,966 p=52172 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 09:13:26,012 p=52172 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | ensuring mariadb mysql is enabled on boot] **************************************
2021-10-19 09:13:31,461 p=52172 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 09:13:31,572 p=52172 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 09:13:31,606 p=52172 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 09:13:31,677 p=52172 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | start only the first node to add users] *****************************************
2021-10-19 09:13:31,818 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:13:31,890 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:13:33,810 p=52172 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 09:13:33,846 p=52172 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : max-open-files | Create folder] **********************************************************
2021-10-19 09:13:33,987 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:13:33,988 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:13:34,047 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:13:34,078 p=52172 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : max-open-files | Add the overriding file] ************************************************
2021-10-19 09:13:34,147 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:13:34,224 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:13:34,270 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:13:34,292 p=52172 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : oom_score_adjust | create folder] ********************************************************
2021-10-19 09:13:34,378 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:13:34,440 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:13:34,483 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:13:34,512 p=52172 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : oom_score_adjust | add the overriding file] **********************************************
2021-10-19 09:13:34,582 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:13:34,656 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:13:34,698 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:13:34,731 p=52172 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : timeout-start-sec | Create folder] *******************************************************
2021-10-19 09:13:34,861 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:13:34,862 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:13:34,909 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:13:34,937 p=52172 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : timeout-start-sec | Add the overriding file] *********************************************
2021-10-19 09:13:35,027 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:13:35,121 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:13:35,165 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:13:35,192 p=52172 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : system_perfromance_tuning | configure swappiness] ****************************************
2021-10-19 09:13:35,264 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:13:35,330 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:13:35,353 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:13:35,391 p=52172 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : flush handlers before continuing] ********************************************************
2021-10-19 09:13:35,392 p=52172 u=eduardgevorkyan n=ansible | RUNNING HANDLER [eradical.ansible_mariadb_galera_cluster : reload systemd daemon] ********************************************************
2021-10-19 09:13:39,859 p=52172 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 09:13:40,025 p=52172 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 09:13:40,025 p=52172 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 09:13:40,132 p=52172 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_users | create MySQL users] ********************************************************
2021-10-19 09:13:41,851 p=52172 u=eduardgevorkyan n=ansible | changed: [k3s1 -> k3s1] => (item=None)
2021-10-19 09:13:41,855 p=52172 u=eduardgevorkyan n=ansible | changed: [k3s1 -> {{ galera_mysql_first_node }}]
2021-10-19 09:13:41,906 p=52172 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | mark galera cluster node unconfigured] ***********************************
2021-10-19 09:13:41,974 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:13:42,044 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:13:42,080 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:13:42,117 p=52172 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | checking if galera cluster already configured] ***************************
2021-10-19 09:13:44,644 p=52172 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 09:13:44,665 p=52172 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 09:13:44,671 p=52172 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 09:13:44,709 p=52172 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | create TLS certificates directory] ***************************************
2021-10-19 09:13:44,857 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:13:44,867 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:13:44,925 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:13:44,966 p=52172 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | copy TLS CA cert, server cert & private key] *****************************
2021-10-19 09:13:45,057 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:13:45,127 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:13:45,170 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:13:45,210 p=52172 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | configuring settings for mariadb and galera] *****************************
2021-10-19 09:13:52,900 p=52172 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=etc/my.cnf.d/server.cnf)
2021-10-19 09:13:52,936 p=52172 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=etc/my.cnf.d/server.cnf)
2021-10-19 09:13:52,966 p=52172 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=etc/my.cnf.d/server.cnf)
2021-10-19 09:13:53,000 p=52172 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | restarting node to apply config changes (first node)] ********************
2021-10-19 09:13:53,173 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:13:53,242 p=52172 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:14:28,874 p=52172 u=eduardgevorkyan n=ansible | fatal: [k3s1]: FAILED! => {"changed": false, "msg": "Unable to restart service mariadb: Job for mariadb.service failed because the control process exited with error code.\nSee \"systemctl status mariadb.service\" and \"journalctl -xeu mariadb.service\" for details.\n"}
2021-10-19 09:14:28,920 p=52172 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | ensure first node is fully started before restarting other nodes] ********
2021-10-19 09:15:04,204 p=52172 u=eduardgevorkyan n=ansible | fatal: [k3s2 -> k3s1]: FAILED! => {"msg": "The conditional check '_mariadb_galera_cluster_node.status.ActiveState == \"active\"' failed. The error was: error while evaluating conditional (_mariadb_galera_cluster_node.status.ActiveState == \"active\"): 'dict object' has no attribute 'status'"}
2021-10-19 09:15:04,205 p=52172 u=eduardgevorkyan n=ansible | NO MORE HOSTS LEFT ***********************************************************************************************************************
2021-10-19 09:15:04,210 p=52172 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-19 09:15:04,210 p=52172 u=eduardgevorkyan n=ansible | k3s1                       : ok=15   changed=8    unreachable=0    failed=1    skipped=23   rescued=0    ignored=0   
2021-10-19 09:15:04,210 p=52172 u=eduardgevorkyan n=ansible | k3s2                       : ok=13   changed=6    unreachable=0    failed=1    skipped=25   rescued=0    ignored=0   
2021-10-19 09:15:04,211 p=52172 u=eduardgevorkyan n=ansible | k3s3                       : ok=13   changed=6    unreachable=0    failed=0    skipped=25   rescued=0    ignored=0   
2021-10-19 09:22:21,161 p=53449 u=eduardgevorkyan n=ansible | PLAY [all] *******************************************************************************************************************************
2021-10-19 09:22:21,183 p=53449 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-19 09:22:31,299 p=53449 u=eduardgevorkyan n=ansible | fatal: [k3s1]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 172.20.254.1 port 22: Connection timed out", "unreachable": true}
2021-10-19 09:22:31,339 p=53449 u=eduardgevorkyan n=ansible | fatal: [k3s2]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 172.20.254.2 port 22: Connection timed out", "unreachable": true}
2021-10-19 09:22:31,354 p=53449 u=eduardgevorkyan n=ansible | fatal: [k3s3]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 172.20.254.3 port 22: Connection timed out", "unreachable": true}
2021-10-19 09:22:31,364 p=53449 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-19 09:22:31,365 p=53449 u=eduardgevorkyan n=ansible | k3s1                       : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2021-10-19 09:22:31,365 p=53449 u=eduardgevorkyan n=ansible | k3s2                       : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2021-10-19 09:22:31,365 p=53449 u=eduardgevorkyan n=ansible | k3s3                       : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2021-10-19 09:25:06,832 p=53605 u=eduardgevorkyan n=ansible | PLAY [initial] ***************************************************************************************************************************
2021-10-19 09:25:06,846 p=53605 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-19 09:25:11,414 p=53605 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 09:25:11,510 p=53605 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 09:25:11,524 p=53605 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 09:25:11,567 p=53605 u=eduardgevorkyan n=ansible | TASK [install packages] ******************************************************************************************************************
2021-10-19 09:29:54,473 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=ansible)
2021-10-19 09:30:14,584 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=ansible)
2021-10-19 09:30:15,998 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=ansible)
2021-10-19 09:31:02,731 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=git)
2021-10-19 09:31:18,567 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=git)
2021-10-19 09:31:22,145 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=git)
2021-10-19 09:31:50,375 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=vim)
2021-10-19 09:32:01,515 p=53605 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=net-tools)
2021-10-19 09:32:04,395 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=vim)
2021-10-19 09:32:09,227 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=vim)
2021-10-19 09:32:14,573 p=53605 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=net-tools)
2021-10-19 09:32:15,388 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=telnet)
2021-10-19 09:32:18,530 p=53605 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=net-tools)
2021-10-19 09:32:24,639 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=telnet)
2021-10-19 09:32:28,408 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=telnet)
2021-10-19 09:32:28,450 p=53605 u=eduardgevorkyan n=ansible | TASK [copy hosts file] *******************************************************************************************************************
2021-10-19 09:32:32,846 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 09:32:32,910 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 09:32:32,911 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 09:32:32,947 p=53605 u=eduardgevorkyan n=ansible | TASK [open firewalld] ********************************************************************************************************************
2021-10-19 09:32:36,314 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=179/tcp)
2021-10-19 09:32:36,418 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=179/tcp)
2021-10-19 09:32:36,423 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=179/tcp)
2021-10-19 09:32:38,967 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=6443/tcp)
2021-10-19 09:32:39,278 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=6443/tcp)
2021-10-19 09:32:39,288 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=6443/tcp)
2021-10-19 09:32:41,522 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=8443/tcp)
2021-10-19 09:32:42,024 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=8443/tcp)
2021-10-19 09:32:42,029 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=8443/tcp)
2021-10-19 09:32:44,220 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=8091/tcp)
2021-10-19 09:32:44,720 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=8091/tcp)
2021-10-19 09:32:44,802 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=8091/tcp)
2021-10-19 09:32:46,789 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=8090/tcp)
2021-10-19 09:32:47,342 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=8090/tcp)
2021-10-19 09:32:47,406 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=8090/tcp)
2021-10-19 09:32:49,399 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=53/tcp)
2021-10-19 09:32:49,987 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=53/tcp)
2021-10-19 09:32:49,990 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=53/tcp)
2021-10-19 09:32:52,283 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=2376/tcp)
2021-10-19 09:32:53,290 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=2376/tcp)
2021-10-19 09:32:53,542 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=2376/tcp)
2021-10-19 09:32:54,808 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=2379-2380/tcp)
2021-10-19 09:32:55,944 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=2379-2380/tcp)
2021-10-19 09:32:56,245 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=2379-2380/tcp)
2021-10-19 09:32:57,325 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=6641-6642/tcp)
2021-10-19 09:32:58,514 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=6641-6642/tcp)
2021-10-19 09:32:58,765 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=6641-6642/tcp)
2021-10-19 09:32:59,853 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=9000-9999/tcp)
2021-10-19 09:33:01,389 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=9000-9999/tcp)
2021-10-19 09:33:01,478 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=9000-9999/tcp)
2021-10-19 09:33:02,551 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=10250/tcp)
2021-10-19 09:33:04,137 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=10250/tcp)
2021-10-19 09:33:04,227 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=10250/tcp)
2021-10-19 09:33:05,190 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=10254/tcp)
2021-10-19 09:33:06,764 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=10254/tcp)
2021-10-19 09:33:06,992 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=10254/tcp)
2021-10-19 09:33:07,643 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=10257/tcp)
2021-10-19 09:33:09,566 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=10257/tcp)
2021-10-19 09:33:09,801 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=10257/tcp)
2021-10-19 09:33:10,330 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=10255/tcp)
2021-10-19 09:33:12,202 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=10255/tcp)
2021-10-19 09:33:12,481 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=10255/tcp)
2021-10-19 09:33:13,051 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=10252/tcp)
2021-10-19 09:33:15,274 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=10252/tcp)
2021-10-19 09:33:15,554 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=10252/tcp)
2021-10-19 09:33:15,979 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=10259/tcp)
2021-10-19 09:33:18,150 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=10259/tcp)
2021-10-19 09:33:18,441 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=10259/tcp)
2021-10-19 09:33:18,763 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=22623/tcp)
2021-10-19 09:33:20,850 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=22623/tcp)
2021-10-19 09:33:21,054 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=22623/tcp)
2021-10-19 09:33:21,305 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=30000-32767/tcp)
2021-10-19 09:33:23,578 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=30000-32767/tcp)
2021-10-19 09:33:23,836 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=30000-32767/tcp)
2021-10-19 09:33:23,991 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=53/udp)
2021-10-19 09:33:26,311 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=53/udp)
2021-10-19 09:33:26,570 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=53/udp)
2021-10-19 09:33:26,670 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=500/udp)
2021-10-19 09:33:28,958 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=500/udp)
2021-10-19 09:33:29,256 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=500/udp)
2021-10-19 09:33:29,272 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=8472/udp)
2021-10-19 09:33:31,687 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=8472/udp)
2021-10-19 09:33:31,887 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=8472/udp)
2021-10-19 09:33:32,170 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=4500/udp)
2021-10-19 09:33:34,670 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=4500/udp)
2021-10-19 09:33:34,847 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=4500/udp)
2021-10-19 09:33:35,051 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=4789/udp)
2021-10-19 09:33:37,393 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=4789/udp)
2021-10-19 09:33:37,611 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=4789/udp)
2021-10-19 09:33:37,638 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=5353/udp)
2021-10-19 09:33:40,172 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=5353/udp)
2021-10-19 09:33:40,391 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=6081/udp)
2021-10-19 09:33:40,407 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=5353/udp)
2021-10-19 09:33:43,134 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=6081/udp)
2021-10-19 09:33:43,370 p=53605 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=8472/udp)
2021-10-19 09:33:43,391 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=6081/udp)
2021-10-19 09:33:46,462 p=53605 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=8472/udp)
2021-10-19 09:33:46,813 p=53605 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=8472/udp)
2021-10-19 09:33:46,871 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=9000-9999/udp)
2021-10-19 09:33:49,089 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=9000-9999/udp)
2021-10-19 09:33:49,313 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=9000-9999/udp)
2021-10-19 09:33:49,488 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=30000-32767/udp)
2021-10-19 09:33:51,901 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=30000-32767/udp)
2021-10-19 09:33:51,975 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=30000-32767/udp)
2021-10-19 09:33:52,140 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=1936/tcp)
2021-10-19 09:33:54,754 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=1936/tcp)
2021-10-19 09:33:54,797 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=1936/tcp)
2021-10-19 09:33:54,983 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=3306/tcp)
2021-10-19 09:33:57,588 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=4567/tcp)
2021-10-19 09:33:57,593 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=3306/tcp)
2021-10-19 09:33:57,596 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=3306/tcp)
2021-10-19 09:34:00,247 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=4567/tcp)
2021-10-19 09:34:00,340 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=4567/tcp)
2021-10-19 09:34:00,346 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=4568/tcp)
2021-10-19 09:34:02,843 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=4568/tcp)
2021-10-19 09:34:03,145 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=4568/tcp)
2021-10-19 09:34:03,197 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=4444/tcp)
2021-10-19 09:34:05,778 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=4444/tcp)
2021-10-19 09:34:06,054 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=4567/udp)
2021-10-19 09:34:06,086 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=4444/tcp)
2021-10-19 09:34:07,775 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=4567/udp)
2021-10-19 09:34:07,992 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=4567/udp)
2021-10-19 09:34:08,013 p=53605 u=eduardgevorkyan n=ansible | TASK [set hostname] **********************************************************************************************************************
2021-10-19 09:34:08,301 p=53605 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'host': '172.22.22.5', 'hostname': 'k3s1'}) 
2021-10-19 09:34:08,414 p=53605 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'host': '172.22.22.5', 'hostname': 'k3s1'}) 
2021-10-19 09:34:08,461 p=53605 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'host': '172.22.22.6', 'hostname': 'k3s2'}) 
2021-10-19 09:34:12,201 p=53605 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'host': '172.22.22.5', 'hostname': 'k3s1'})
2021-10-19 09:34:12,235 p=53605 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'host': '172.22.22.6', 'hostname': 'k3s2'}) 
2021-10-19 09:34:12,253 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item={'host': '172.22.22.7', 'hostname': 'k3s3'})
2021-10-19 09:34:12,268 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item={'host': '172.22.22.6', 'hostname': 'k3s2'})
2021-10-19 09:34:12,298 p=53605 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'host': '172.22.22.7', 'hostname': 'k3s3'}) 
2021-10-19 09:34:12,376 p=53605 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'host': '172.22.22.7', 'hostname': 'k3s3'}) 
2021-10-19 09:34:12,395 p=53605 u=eduardgevorkyan n=ansible | TASK [open services web] *****************************************************************************************************************
2021-10-19 09:34:15,738 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=https)
2021-10-19 09:34:15,797 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=https)
2021-10-19 09:34:16,044 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=https)
2021-10-19 09:34:18,625 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=http)
2021-10-19 09:34:18,659 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=http)
2021-10-19 09:34:18,798 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=http)
2021-10-19 09:34:18,830 p=53605 u=eduardgevorkyan n=ansible | TASK [open protocols] ********************************************************************************************************************
2021-10-19 09:34:21,269 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=ah)
2021-10-19 09:34:21,515 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=ah)
2021-10-19 09:34:21,541 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=ah)
2021-10-19 09:34:24,099 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=esp)
2021-10-19 09:34:24,272 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=esp)
2021-10-19 09:34:24,359 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=esp)
2021-10-19 09:34:26,902 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=112)
2021-10-19 09:34:26,904 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=112)
2021-10-19 09:34:27,064 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=112)
2021-10-19 09:34:27,083 p=53605 u=eduardgevorkyan n=ansible | TASK [create interface] ******************************************************************************************************************
2021-10-19 09:34:27,291 p=53605 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'host': '172.22.22.5', 'ipv4': '172.20.254.1/24'}) 
2021-10-19 09:34:27,388 p=53605 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'host': '172.22.22.5', 'ipv4': '172.20.254.1/24'}) 
2021-10-19 09:34:27,423 p=53605 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'host': '172.22.22.6', 'ipv4': '172.20.254.2/24'}) 
2021-10-19 09:34:30,621 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item={'host': '172.22.22.7', 'ipv4': '172.20.254.3/24'})
2021-10-19 09:34:30,660 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item={'host': '172.22.22.6', 'ipv4': '172.20.254.2/24'})
2021-10-19 09:34:30,695 p=53605 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'host': '172.22.22.7', 'ipv4': '172.20.254.3/24'}) 
2021-10-19 09:34:30,746 p=53605 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item={'host': '172.22.22.5', 'ipv4': '172.20.254.1/24'})
2021-10-19 09:34:30,754 p=53605 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'host': '172.22.22.6', 'ipv4': '172.20.254.2/24'}) 
2021-10-19 09:34:30,766 p=53605 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'host': '172.22.22.7', 'ipv4': '172.20.254.3/24'}) 
2021-10-19 09:34:30,817 p=53605 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-19 09:34:30,818 p=53605 u=eduardgevorkyan n=ansible | k3s1                       : ok=8    changed=6    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-10-19 09:34:30,820 p=53605 u=eduardgevorkyan n=ansible | k3s2                       : ok=8    changed=7    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-10-19 09:34:30,824 p=53605 u=eduardgevorkyan n=ansible | k3s3                       : ok=8    changed=7    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-10-19 09:34:41,855 p=55131 u=eduardgevorkyan n=ansible | PLAY [MariaDB cluster deployment] ********************************************************************************************************
2021-10-19 09:34:41,943 p=55131 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-19 09:34:46,617 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 09:34:46,816 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 09:34:46,869 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 09:34:46,915 p=55131 u=eduardgevorkyan n=ansible | TASK [Deployment] ************************************************************************************************************************
2021-10-19 09:34:47,264 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : gather os specific variables] ************************************************************
2021-10-19 09:34:47,495 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-19 09:34:47,596 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-19 09:34:47,663 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-19 09:34:47,705 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : ensure NIC specified in 'galera_cluster_bind_interface' exists] **************************
2021-10-19 09:34:47,883 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-19 09:34:47,967 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-19 09:34:48,026 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-19 09:34:48,051 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | update package list] ************************************************************
2021-10-19 09:34:48,135 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:34:48,200 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:34:48,223 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:34:48,262 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | installing pre-reqs] ************************************************************
2021-10-19 09:34:48,336 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:34:48,401 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:34:48,444 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:34:48,470 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding MariaDB Repo Keys] *******************************************************
2021-10-19 09:34:48,544 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:34:48,619 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:34:48,672 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:34:48,702 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding MariaDB Repo Keys] *******************************************************
2021-10-19 09:34:48,768 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:34:48,842 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:34:48,880 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:34:48,911 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | pinning MariaDB Repo] ***********************************************************
2021-10-19 09:34:48,977 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:34:49,042 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:34:49,092 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:34:49,113 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding mariadb repo] ************************************************************
2021-10-19 09:34:49,186 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:34:49,253 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:34:49,295 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:34:49,325 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | precreate /etc/mysql/conf.d in case we need to add mariadb_config_overrides file] ***
2021-10-19 09:34:49,396 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:34:49,469 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:34:49,497 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:34:49,523 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | add an overrides file] **********************************************************
2021-10-19 09:34:49,599 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:34:49,657 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:34:49,689 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:34:49,726 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | configuring root my.cnf] ********************************************************
2021-10-19 09:34:49,851 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:34:49,852 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:34:49,896 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:34:49,930 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | mysql root password setting] ****************************************************
2021-10-19 09:34:50,103 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=None) 
2021-10-19 09:34:50,109 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=None) 
2021-10-19 09:34:50,113 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:34:50,202 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=None) 
2021-10-19 09:34:50,205 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=None) 
2021-10-19 09:34:50,207 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:34:50,269 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=None) 
2021-10-19 09:34:50,273 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=None) 
2021-10-19 09:34:50,275 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:34:50,307 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | installing mariadb-galera packages] *********************************************
2021-10-19 09:34:50,379 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:34:50,450 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:34:50,473 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:34:50,509 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | adding mariadb repo] ************************************************************
2021-10-19 09:34:52,953 p=55131 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 09:34:52,954 p=55131 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 09:34:52,954 p=55131 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 09:34:52,968 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | disable appstream mysql/mariadb modules] ****************************************
2021-10-19 09:35:10,093 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 09:35:10,096 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 09:35:10,100 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 09:35:10,134 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | clean dnf metadata (centos8 & fedora)] ******************************************
2021-10-19 09:35:12,955 p=55131 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 09:35:13,039 p=55131 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 09:35:13,186 p=55131 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 09:35:13,230 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | installing pre-reqs] ************************************************************
2021-10-19 09:38:23,760 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 09:38:26,021 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 09:38:29,821 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 09:38:29,882 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | precreate /etc/my.cnf.d in case we need to add mariadb_config_overrides file] ***
2021-10-19 09:38:30,015 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:38:30,038 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:38:30,095 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:38:30,117 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | add an overrides file] **********************************************************
2021-10-19 09:38:30,248 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:38:30,257 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:38:30,328 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:38:30,365 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | installing mariadb mysql] *******************************************************
2021-10-19 09:40:13,622 p=55131 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 09:40:26,380 p=55131 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 09:40:35,798 p=55131 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 09:40:35,847 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | remove migrated-from-my.cnf-settings.conf that is causing MariaDB to not start] ***
2021-10-19 09:40:38,474 p=55131 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 09:40:38,533 p=55131 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 09:40:40,097 p=55131 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 09:40:40,143 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | ensuring mariadb mysql is enabled on boot] **************************************
2021-10-19 09:40:44,822 p=55131 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 09:40:44,864 p=55131 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 09:40:46,553 p=55131 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 09:40:46,611 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | start only the first node to add users] *****************************************
2021-10-19 09:40:46,788 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:40:46,846 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:40:50,215 p=55131 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 09:40:50,254 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : max-open-files | Create folder] **********************************************************
2021-10-19 09:40:50,353 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:40:50,427 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:40:50,457 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:40:50,509 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : max-open-files | Add the overriding file] ************************************************
2021-10-19 09:40:50,592 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:40:50,663 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:40:50,717 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:40:50,756 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : oom_score_adjust | create folder] ********************************************************
2021-10-19 09:40:50,855 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:40:50,937 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:40:50,978 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:40:51,004 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : oom_score_adjust | add the overriding file] **********************************************
2021-10-19 09:40:51,108 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:40:51,196 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:40:51,251 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:40:51,299 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : timeout-start-sec | Create folder] *******************************************************
2021-10-19 09:40:51,467 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:40:51,630 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:40:51,747 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:40:51,835 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : timeout-start-sec | Add the overriding file] *********************************************
2021-10-19 09:40:52,132 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:40:52,460 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:40:52,571 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:40:52,667 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : system_perfromance_tuning | configure swappiness] ****************************************
2021-10-19 09:40:52,930 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:40:53,012 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:40:53,060 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:40:53,119 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : flush handlers before continuing] ********************************************************
2021-10-19 09:40:53,122 p=55131 u=eduardgevorkyan n=ansible | RUNNING HANDLER [eradical.ansible_mariadb_galera_cluster : reload systemd daemon] ********************************************************
2021-10-19 09:40:57,286 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 09:40:57,372 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 09:40:57,457 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 09:40:57,541 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_users | create MySQL users] ********************************************************
2021-10-19 09:40:59,091 p=55131 u=eduardgevorkyan n=ansible | changed: [k3s1 -> k3s1] => (item=None)
2021-10-19 09:40:59,094 p=55131 u=eduardgevorkyan n=ansible | changed: [k3s1 -> {{ galera_mysql_first_node }}]
2021-10-19 09:40:59,138 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | mark galera cluster node unconfigured] ***********************************
2021-10-19 09:40:59,203 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:40:59,277 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:40:59,306 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:40:59,342 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | checking if galera cluster already configured] ***************************
2021-10-19 09:41:01,357 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 09:41:01,448 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 09:41:01,475 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 09:41:01,519 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | create TLS certificates directory] ***************************************
2021-10-19 09:41:01,664 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:41:01,665 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:41:01,715 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:41:01,737 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | copy TLS CA cert, server cert & private key] *****************************
2021-10-19 09:41:01,816 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:41:01,883 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:41:01,929 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:41:01,960 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | configuring settings for mariadb and galera] *****************************
2021-10-19 09:41:07,050 p=55131 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=etc/my.cnf.d/server.cnf)
2021-10-19 09:41:07,078 p=55131 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=etc/my.cnf.d/server.cnf)
2021-10-19 09:41:07,095 p=55131 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=etc/my.cnf.d/server.cnf)
2021-10-19 09:41:07,130 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | restarting node to apply config changes (first node)] ********************
2021-10-19 09:41:07,214 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:41:07,272 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:41:07,321 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:41:07,371 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | ensure first node is fully started before restarting other nodes] ********
2021-10-19 09:41:07,439 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:41:07,470 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | restarting node to apply config changes (other nodes)] *******************
2021-10-19 09:41:07,551 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:41:07,638 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:41:07,695 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:41:07,722 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | stopping mysql to (re)configure cluster (other nodes)] *******************
2021-10-19 09:41:07,794 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:41:09,477 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 09:41:11,031 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 09:41:11,072 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | stopping mysql to (re)configure cluster (first node)] ********************
2021-10-19 09:41:11,207 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:41:11,277 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:41:19,355 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 09:41:19,390 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for nodes to fully shut down] ***************
2021-10-19 09:41:36,202 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost]
2021-10-19 09:41:36,221 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s3 -> localhost]
2021-10-19 09:41:36,243 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s2 -> localhost]
2021-10-19 09:41:36,282 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | killing lingering mysql processes to ensure mysql is stopped] ************
2021-10-19 09:41:38,152 p=55131 u=eduardgevorkyan n=ansible | fatal: [k3s1]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:00.052770", "end": "2021-10-19 09:41:37.921028", "msg": "non-zero return code", "rc": 1, "start": "2021-10-19 09:41:37.868258", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2021-10-19 09:41:38,157 p=55131 u=eduardgevorkyan n=ansible | ...ignoring
2021-10-19 09:41:38,174 p=55131 u=eduardgevorkyan n=ansible | fatal: [k3s2]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:00.044259", "end": "2021-10-19 09:41:37.915938", "msg": "non-zero return code", "rc": 1, "start": "2021-10-19 09:41:37.871679", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2021-10-19 09:41:38,174 p=55131 u=eduardgevorkyan n=ansible | ...ignoring
2021-10-19 09:41:38,218 p=55131 u=eduardgevorkyan n=ansible | fatal: [k3s3]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:00.046427", "end": "2021-10-19 09:41:38.010394", "msg": "non-zero return code", "rc": 1, "start": "2021-10-19 09:41:37.963967", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2021-10-19 09:41:38,218 p=55131 u=eduardgevorkyan n=ansible | ...ignoring
2021-10-19 09:41:38,239 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | configuring temp galera config for first node] ***************************
2021-10-19 09:41:38,378 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=etc/my.cnf.d/server.cnf) 
2021-10-19 09:41:38,451 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=etc/my.cnf.d/server.cnf) 
2021-10-19 09:41:40,733 p=55131 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=etc/my.cnf.d/server.cnf)
2021-10-19 09:41:40,771 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | bootstrapping galera cluster] ********************************************
2021-10-19 09:41:40,911 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:41:40,975 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:41:42,941 p=55131 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 09:41:42,998 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | ensure first node is fully started before joining other nodes] ***********
2021-10-19 09:41:43,052 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:41:43,107 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for node WSREP prepared state] **************
2021-10-19 09:41:59,905 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost]
2021-10-19 09:42:00,321 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s2 -> localhost]
2021-10-19 09:42:00,514 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s3 -> localhost]
2021-10-19 09:42:00,529 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | joining galera cluster] **************************************************
2021-10-19 09:42:00,597 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:42:16,792 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 09:42:31,494 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 09:42:31,551 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for node WSREP prepared state] **************
2021-10-19 09:42:47,851 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost]
2021-10-19 09:42:48,021 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s2 -> localhost]
2021-10-19 09:42:48,025 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s3 -> localhost]
2021-10-19 09:42:48,084 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | configuring final galera config for first node] **************************
2021-10-19 09:42:48,244 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=etc/my.cnf.d/server.cnf) 
2021-10-19 09:42:48,328 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=etc/my.cnf.d/server.cnf) 
2021-10-19 09:42:50,737 p=55131 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=etc/my.cnf.d/server.cnf)
2021-10-19 09:42:50,772 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | restarting first node with final galera config] **************************
2021-10-19 09:42:50,926 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 09:42:50,985 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 09:42:57,763 p=55131 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 09:42:57,813 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | marking node as configured for galera cluster] ***************************
2021-10-19 09:42:59,987 p=55131 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 09:43:00,004 p=55131 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 09:43:00,009 p=55131 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 09:43:00,040 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | ensure node is fully started (synced with cluster)] **********************
2021-10-19 09:43:02,617 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 09:43:02,625 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 09:43:02,665 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 09:43:02,714 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for node WSREP prepared state] **************
2021-10-19 09:43:20,164 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost]
2021-10-19 09:43:20,285 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s2 -> localhost]
2021-10-19 09:43:20,337 p=55131 u=eduardgevorkyan n=ansible | ok: [k3s3 -> localhost]
2021-10-19 09:43:20,365 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : configure_root_access | configuring root my.cnf] *****************************************
2021-10-19 09:43:23,136 p=55131 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 09:43:23,202 p=55131 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 09:43:23,352 p=55131 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 09:43:23,373 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : configure_root_access | updating root passwords] *****************************************
2021-10-19 09:43:24,632 p=55131 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=None)
2021-10-19 09:43:25,832 p=55131 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=None)
2021-10-19 09:43:27,080 p=55131 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=None)
2021-10-19 09:43:28,251 p=55131 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=None)
2021-10-19 09:43:28,252 p=55131 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 09:43:28,285 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : configure_root_access | updating root passwords (allow from anywhere)] *******************
2021-10-19 09:43:28,359 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=None) 
2021-10-19 09:43:28,362 p=55131 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 09:43:28,404 p=55131 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_databases | create the databases] **************************************************
2021-10-19 09:43:28,528 p=55131 u=eduardgevorkyan n=ansible | fatal: [k3s1]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'ansible.utils.unsafe_proxy.AnsibleUnsafeText object' has no attribute 'name'\n\nThe error appears to be in '/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/tasks/mysql_databases.yml': line 5, column 3, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n# Many thanks to Cedric DELGEHIER\n- name: mysql_databases | create the databases\n  ^ here\n"}
2021-10-19 09:43:28,546 p=55131 u=eduardgevorkyan n=ansible | fatal: [k3s2]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'ansible.utils.unsafe_proxy.AnsibleUnsafeText object' has no attribute 'name'\n\nThe error appears to be in '/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/tasks/mysql_databases.yml': line 5, column 3, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n# Many thanks to Cedric DELGEHIER\n- name: mysql_databases | create the databases\n  ^ here\n"}
2021-10-19 09:43:28,616 p=55131 u=eduardgevorkyan n=ansible | fatal: [k3s3]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'ansible.utils.unsafe_proxy.AnsibleUnsafeText object' has no attribute 'name'\n\nThe error appears to be in '/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/tasks/mysql_databases.yml': line 5, column 3, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n# Many thanks to Cedric DELGEHIER\n- name: mysql_databases | create the databases\n  ^ here\n"}
2021-10-19 09:43:28,623 p=55131 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-19 09:43:28,623 p=55131 u=eduardgevorkyan n=ansible | k3s1                       : ok=29   changed=16   unreachable=0    failed=1    skipped=30   rescued=0    ignored=1   
2021-10-19 09:43:28,624 p=55131 u=eduardgevorkyan n=ansible | k3s2                       : ok=23   changed=9    unreachable=0    failed=1    skipped=31   rescued=0    ignored=1   
2021-10-19 09:43:28,624 p=55131 u=eduardgevorkyan n=ansible | k3s3                       : ok=23   changed=9    unreachable=0    failed=1    skipped=31   rescued=0    ignored=1   
2021-10-19 09:47:03,880 p=56760 u=eduardgevorkyan n=ansible | PLAY [proxy] *****************************************************************************************************************************
2021-10-19 09:47:03,925 p=56760 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-19 09:47:08,127 p=56760 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 09:47:08,128 p=56760 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 09:47:08,130 p=56760 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 09:47:08,168 p=56760 u=eduardgevorkyan n=ansible | TASK [sparknsh.keepalived : Keepalived | Install package] ********************************************************************************
2021-10-19 09:47:31,273 p=56760 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 09:47:31,866 p=56760 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 09:47:32,133 p=56760 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 09:47:32,215 p=56760 u=eduardgevorkyan n=ansible | TASK [sparknsh.keepalived : Keepalived | Enable keepalived on boot and start] ************************************************************
2021-10-19 09:47:38,520 p=56760 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 09:47:38,570 p=56760 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 09:47:38,574 p=56760 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 09:47:38,657 p=56760 u=eduardgevorkyan n=ansible | TASK [sparknsh.keepalived : Keepalived | sysctl Allow ip_nonlocal_bind] ******************************************************************
2021-10-19 09:47:41,486 p=56760 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 09:47:41,538 p=56760 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 09:47:41,541 p=56760 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 09:47:41,607 p=56760 u=eduardgevorkyan n=ansible | TASK [sparknsh.keepalived : Keepalived | Configure keepalived] ***************************************************************************
2021-10-19 09:47:46,760 p=56760 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 09:47:46,941 p=56760 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 09:47:46,991 p=56760 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 09:47:47,097 p=56760 u=eduardgevorkyan n=ansible | RUNNING HANDLER [sparknsh.keepalived : Restart keepalived] *******************************************************************************
2021-10-19 09:47:50,477 p=56760 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 09:47:50,478 p=56760 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 09:47:50,479 p=56760 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 09:47:50,578 p=56760 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-19 09:47:50,582 p=56760 u=eduardgevorkyan n=ansible | k3s1                       : ok=6    changed=5    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-10-19 09:47:50,586 p=56760 u=eduardgevorkyan n=ansible | k3s2                       : ok=6    changed=5    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-10-19 09:47:50,588 p=56760 u=eduardgevorkyan n=ansible | k3s3                       : ok=6    changed=5    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-10-19 12:53:59,246 p=65610 u=eduardgevorkyan n=ansible | ERROR! We were unable to read either as JSON nor YAML, these are the errors we got from each:
JSON: Expecting value: line 1 column 1 (char 0)

Syntax Error while loading YAML.
  did not find expected alphabetic or numeric character

The error appears to be in '/home/eduardgevorkyan/demo-mysql/vars.yml': line 282, column 12, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

    state: present
    priv: *.*
           ^ here

2021-10-19 12:54:33,255 p=65645 u=eduardgevorkyan n=ansible | PLAY [MariaDB cluster deployment] ********************************************************************************************************
2021-10-19 12:54:33,374 p=65645 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-19 12:54:37,928 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 12:54:37,941 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 12:54:38,018 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 12:54:38,043 p=65645 u=eduardgevorkyan n=ansible | TASK [Deployment] ************************************************************************************************************************
2021-10-19 12:54:38,454 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : gather os specific variables] ************************************************************
2021-10-19 12:54:38,648 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-19 12:54:38,717 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-19 12:54:38,821 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-19 12:54:38,870 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : ensure NIC specified in 'galera_cluster_bind_interface' exists] **************************
2021-10-19 12:54:39,013 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-19 12:54:39,088 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-19 12:54:39,186 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-19 12:54:39,224 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | update package list] ************************************************************
2021-10-19 12:54:39,295 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:54:39,359 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:54:39,409 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:54:39,440 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | installing pre-reqs] ************************************************************
2021-10-19 12:54:39,525 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:54:39,674 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:54:39,719 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:54:39,746 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding MariaDB Repo Keys] *******************************************************
2021-10-19 12:54:39,806 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:54:39,873 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:54:39,928 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:54:39,976 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding MariaDB Repo Keys] *******************************************************
2021-10-19 12:54:40,128 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:54:40,129 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:54:40,165 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:54:40,195 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | pinning MariaDB Repo] ***********************************************************
2021-10-19 12:54:40,256 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:54:40,325 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:54:40,418 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:54:40,471 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding mariadb repo] ************************************************************
2021-10-19 12:54:40,549 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:54:40,611 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:54:40,651 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:54:40,673 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | precreate /etc/mysql/conf.d in case we need to add mariadb_config_overrides file] ***
2021-10-19 12:54:40,754 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:54:40,892 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:54:40,940 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:54:40,969 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | add an overrides file] **********************************************************
2021-10-19 12:54:41,026 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:54:41,088 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:54:41,128 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:54:41,169 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | configuring root my.cnf] ********************************************************
2021-10-19 12:54:41,272 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:54:41,338 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:54:41,369 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:54:41,414 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | mysql root password setting] ****************************************************
2021-10-19 12:54:41,611 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=None) 
2021-10-19 12:54:41,676 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=None) 
2021-10-19 12:54:41,679 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:54:41,740 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=None) 
2021-10-19 12:54:41,746 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=None) 
2021-10-19 12:54:41,748 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:54:41,803 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=None) 
2021-10-19 12:54:41,806 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=None) 
2021-10-19 12:54:41,808 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:54:41,840 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | installing mariadb-galera packages] *********************************************
2021-10-19 12:54:41,917 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:54:41,981 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:54:42,026 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:54:42,049 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | adding mariadb repo] ************************************************************
2021-10-19 12:54:45,250 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 12:54:45,408 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 12:54:45,413 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 12:54:45,512 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | disable appstream mysql/mariadb modules] ****************************************
2021-10-19 12:55:04,615 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 12:55:05,264 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 12:55:05,267 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 12:55:05,311 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | clean dnf metadata (centos8 & fedora)] ******************************************
2021-10-19 12:55:05,401 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:55:05,489 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:55:05,533 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:55:05,572 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | installing pre-reqs] ************************************************************
2021-10-19 12:55:29,546 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 12:55:31,022 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 12:55:31,283 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 12:55:31,314 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | precreate /etc/my.cnf.d in case we need to add mariadb_config_overrides file] ***
2021-10-19 12:55:31,489 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:55:31,497 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:55:31,558 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:55:31,601 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | add an overrides file] **********************************************************
2021-10-19 12:55:31,761 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:55:31,807 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:55:31,852 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:55:31,882 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | installing mariadb mysql] *******************************************************
2021-10-19 12:55:52,778 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 12:55:54,452 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 12:55:54,644 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 12:55:54,680 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | remove migrated-from-my.cnf-settings.conf that is causing MariaDB to not start] ***
2021-10-19 12:55:57,368 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 12:55:57,381 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 12:55:57,404 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 12:55:57,438 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | ensuring mariadb mysql is enabled on boot] **************************************
2021-10-19 12:56:01,289 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 12:56:01,447 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 12:56:01,501 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 12:56:01,542 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | start only the first node to add users] *****************************************
2021-10-19 12:56:01,735 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:56:01,793 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:56:03,335 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 12:56:03,386 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : max-open-files | Create folder] **********************************************************
2021-10-19 12:56:03,457 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:56:03,549 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:56:03,606 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:56:03,684 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : max-open-files | Add the overriding file] ************************************************
2021-10-19 12:56:03,771 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:56:03,848 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:56:03,872 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:56:03,915 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : oom_score_adjust | create folder] ********************************************************
2021-10-19 12:56:03,993 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:56:04,087 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:56:04,144 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:56:04,181 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : oom_score_adjust | add the overriding file] **********************************************
2021-10-19 12:56:04,304 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:56:04,305 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:56:04,340 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:56:04,369 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : timeout-start-sec | Create folder] *******************************************************
2021-10-19 12:56:04,496 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:56:04,609 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:56:04,638 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:56:04,664 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : timeout-start-sec | Add the overriding file] *********************************************
2021-10-19 12:56:04,731 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:56:04,793 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:56:04,861 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:56:04,909 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : system_perfromance_tuning | configure swappiness] ****************************************
2021-10-19 12:56:04,996 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:56:05,068 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:56:05,093 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:56:05,118 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : flush handlers before continuing] ********************************************************
2021-10-19 12:56:05,192 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_users | create MySQL users] ********************************************************
2021-10-19 12:56:08,007 p=65645 u=eduardgevorkyan n=ansible | changed: [k3s1 -> k3s1] => (item=None)
2021-10-19 12:56:08,011 p=65645 u=eduardgevorkyan n=ansible | changed: [k3s1 -> {{ galera_mysql_first_node }}]
2021-10-19 12:56:08,077 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | mark galera cluster node unconfigured] ***********************************
2021-10-19 12:56:08,172 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:56:08,240 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:56:08,268 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:56:08,292 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | checking if galera cluster already configured] ***************************
2021-10-19 12:56:10,568 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 12:56:10,661 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 12:56:10,688 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 12:56:10,715 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | create TLS certificates directory] ***************************************
2021-10-19 12:56:10,842 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:56:10,856 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:56:10,925 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:56:10,962 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | copy TLS CA cert, server cert & private key] *****************************
2021-10-19 12:56:11,081 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:56:11,140 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:56:11,189 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:56:11,209 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | configuring settings for mariadb and galera] *****************************
2021-10-19 12:56:16,520 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=etc/my.cnf.d/server.cnf)
2021-10-19 12:56:16,605 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=etc/my.cnf.d/server.cnf)
2021-10-19 12:56:16,643 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=etc/my.cnf.d/server.cnf)
2021-10-19 12:56:16,715 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | restarting node to apply config changes (first node)] ********************
2021-10-19 12:56:16,855 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:56:16,857 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:56:16,907 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:56:16,949 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | ensure first node is fully started before restarting other nodes] ********
2021-10-19 12:56:17,025 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:56:17,104 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | restarting node to apply config changes (other nodes)] *******************
2021-10-19 12:56:17,221 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:56:17,296 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:56:17,342 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:56:17,369 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | stopping mysql to (re)configure cluster (other nodes)] *******************
2021-10-19 12:56:17,448 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:56:17,570 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:56:17,641 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:56:17,667 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | stopping mysql to (re)configure cluster (first node)] ********************
2021-10-19 12:56:17,796 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:56:17,802 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:56:17,855 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:56:17,904 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for nodes to fully shut down] ***************
2021-10-19 12:56:17,981 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:56:18,054 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:56:18,095 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:56:18,131 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | killing lingering mysql processes to ensure mysql is stopped] ************
2021-10-19 12:56:18,209 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:56:18,286 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:56:18,364 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:56:18,386 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | configuring temp galera config for first node] ***************************
2021-10-19 12:56:18,530 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=etc/my.cnf.d/server.cnf) 
2021-10-19 12:56:18,628 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=etc/my.cnf.d/server.cnf) 
2021-10-19 12:56:18,695 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=etc/my.cnf.d/server.cnf) 
2021-10-19 12:56:18,716 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | bootstrapping galera cluster] ********************************************
2021-10-19 12:56:18,834 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:56:18,839 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:56:18,928 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:56:18,996 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | ensure first node is fully started before joining other nodes] ***********
2021-10-19 12:56:19,074 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:56:19,128 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for node WSREP prepared state] **************
2021-10-19 12:56:19,195 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:56:19,269 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:56:19,345 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:56:19,397 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | joining galera cluster] **************************************************
2021-10-19 12:56:19,478 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:56:19,607 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:56:19,646 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:56:19,694 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for node WSREP prepared state] **************
2021-10-19 12:56:19,811 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:56:19,882 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:56:19,940 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:56:19,977 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | configuring final galera config for first node] **************************
2021-10-19 12:56:20,050 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=etc/my.cnf.d/server.cnf) 
2021-10-19 12:56:20,158 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=etc/my.cnf.d/server.cnf) 
2021-10-19 12:56:20,238 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=etc/my.cnf.d/server.cnf) 
2021-10-19 12:56:20,279 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | restarting first node with final galera config] **************************
2021-10-19 12:56:20,358 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:56:20,425 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:56:20,477 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:56:20,525 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | marking node as configured for galera cluster] ***************************
2021-10-19 12:56:20,660 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:56:20,730 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:56:20,780 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:56:20,823 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | ensure node is fully started (synced with cluster)] **********************
2021-10-19 12:56:23,516 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 12:56:23,893 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 12:56:24,005 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 12:56:24,061 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for node WSREP prepared state] **************
2021-10-19 12:56:24,142 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:56:24,257 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:56:24,332 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:56:24,394 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : configure_root_access | configuring root my.cnf] *****************************************
2021-10-19 12:56:28,224 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 12:56:28,237 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 12:56:28,475 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 12:56:28,516 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : configure_root_access | updating root passwords] *****************************************
2021-10-19 12:56:29,905 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=None)
2021-10-19 12:56:31,253 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=None)
2021-10-19 12:56:32,887 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=None)
2021-10-19 12:56:34,521 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=None)
2021-10-19 12:56:34,523 p=65645 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 12:56:34,587 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : configure_root_access | updating root passwords (allow from anywhere)] *******************
2021-10-19 12:56:34,661 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=None) 
2021-10-19 12:56:34,662 p=65645 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:56:34,676 p=65645 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_databases | create the databases] **************************************************
2021-10-19 12:56:34,809 p=65645 u=eduardgevorkyan n=ansible | fatal: [k3s1]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'ansible.utils.unsafe_proxy.AnsibleUnsafeText object' has no attribute 'name'\n\nThe error appears to be in '/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/tasks/mysql_databases.yml': line 5, column 3, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n# Many thanks to Cedric DELGEHIER\n- name: mysql_databases | create the databases\n  ^ here\n"}
2021-10-19 12:56:34,838 p=65645 u=eduardgevorkyan n=ansible | fatal: [k3s2]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'ansible.utils.unsafe_proxy.AnsibleUnsafeText object' has no attribute 'name'\n\nThe error appears to be in '/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/tasks/mysql_databases.yml': line 5, column 3, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n# Many thanks to Cedric DELGEHIER\n- name: mysql_databases | create the databases\n  ^ here\n"}
2021-10-19 12:56:34,896 p=65645 u=eduardgevorkyan n=ansible | fatal: [k3s3]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'ansible.utils.unsafe_proxy.AnsibleUnsafeText object' has no attribute 'name'\n\nThe error appears to be in '/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/tasks/mysql_databases.yml': line 5, column 3, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n# Many thanks to Cedric DELGEHIER\n- name: mysql_databases | create the databases\n  ^ here\n"}
2021-10-19 12:56:34,913 p=65645 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-19 12:56:34,913 p=65645 u=eduardgevorkyan n=ansible | k3s1                       : ok=16   changed=1    unreachable=0    failed=1    skipped=42   rescued=0    ignored=0   
2021-10-19 12:56:34,913 p=65645 u=eduardgevorkyan n=ansible | k3s2                       : ok=13   changed=0    unreachable=0    failed=1    skipped=40   rescued=0    ignored=0   
2021-10-19 12:56:34,913 p=65645 u=eduardgevorkyan n=ansible | k3s3                       : ok=13   changed=0    unreachable=0    failed=1    skipped=40   rescued=0    ignored=0   
2021-10-19 12:57:32,488 p=66442 u=eduardgevorkyan n=ansible | PLAY [MariaDB cluster deployment] ********************************************************************************************************
2021-10-19 12:57:32,588 p=66442 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-19 12:57:36,901 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 12:57:36,957 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 12:57:36,980 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 12:57:37,027 p=66442 u=eduardgevorkyan n=ansible | TASK [Deployment] ************************************************************************************************************************
2021-10-19 12:57:37,383 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : gather os specific variables] ************************************************************
2021-10-19 12:57:37,572 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-19 12:57:37,667 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-19 12:57:37,720 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-19 12:57:37,759 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : ensure NIC specified in 'galera_cluster_bind_interface' exists] **************************
2021-10-19 12:57:37,920 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-19 12:57:38,003 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-19 12:57:38,137 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-19 12:57:38,190 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | update package list] ************************************************************
2021-10-19 12:57:38,251 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:57:38,313 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:57:38,361 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:57:38,387 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | installing pre-reqs] ************************************************************
2021-10-19 12:57:38,461 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:57:38,582 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:57:38,632 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:57:38,678 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding MariaDB Repo Keys] *******************************************************
2021-10-19 12:57:38,737 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:57:38,794 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:57:38,826 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:57:38,895 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding MariaDB Repo Keys] *******************************************************
2021-10-19 12:57:39,007 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:57:39,079 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:57:39,110 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:57:39,141 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | pinning MariaDB Repo] ***********************************************************
2021-10-19 12:57:39,255 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:57:39,256 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:57:39,373 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:57:39,402 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding mariadb repo] ************************************************************
2021-10-19 12:57:39,472 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:57:39,533 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:57:39,560 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:57:39,611 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | precreate /etc/mysql/conf.d in case we need to add mariadb_config_overrides file] ***
2021-10-19 12:57:39,681 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:57:39,788 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:57:39,834 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:57:39,858 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | add an overrides file] **********************************************************
2021-10-19 12:57:39,934 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:57:39,993 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:57:40,027 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:57:40,067 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | configuring root my.cnf] ********************************************************
2021-10-19 12:57:40,162 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:57:40,250 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:57:40,292 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:57:40,324 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | mysql root password setting] ****************************************************
2021-10-19 12:57:40,469 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=None) 
2021-10-19 12:57:40,495 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=None) 
2021-10-19 12:57:40,496 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:57:40,667 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=None) 
2021-10-19 12:57:40,686 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=None) 
2021-10-19 12:57:40,687 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:57:40,732 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=None) 
2021-10-19 12:57:40,735 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=None) 
2021-10-19 12:57:40,736 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:57:40,774 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | installing mariadb-galera packages] *********************************************
2021-10-19 12:57:40,838 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:57:40,904 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:57:40,967 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:57:41,026 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | adding mariadb repo] ************************************************************
2021-10-19 12:57:43,697 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 12:57:43,725 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 12:57:43,732 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 12:57:43,786 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | disable appstream mysql/mariadb modules] ****************************************
2021-10-19 12:57:56,717 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 12:57:56,859 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 12:57:56,922 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 12:57:56,974 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | clean dnf metadata (centos8 & fedora)] ******************************************
2021-10-19 12:57:57,057 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:57:57,143 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:57:57,176 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:57:57,215 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | installing pre-reqs] ************************************************************
2021-10-19 12:58:18,752 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 12:58:19,226 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 12:58:19,880 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 12:58:19,899 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | precreate /etc/my.cnf.d in case we need to add mariadb_config_overrides file] ***
2021-10-19 12:58:20,032 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:58:20,054 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:58:20,171 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:58:20,203 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | add an overrides file] **********************************************************
2021-10-19 12:58:20,344 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:58:20,367 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:58:20,422 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:58:20,449 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | installing mariadb mysql] *******************************************************
2021-10-19 12:58:41,785 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 12:58:41,806 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 12:58:41,823 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 12:58:41,871 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | remove migrated-from-my.cnf-settings.conf that is causing MariaDB to not start] ***
2021-10-19 12:58:45,146 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 12:58:45,216 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 12:58:45,219 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 12:58:45,354 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | ensuring mariadb mysql is enabled on boot] **************************************
2021-10-19 12:58:49,691 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 12:58:49,773 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 12:58:49,845 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 12:58:49,868 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | start only the first node to add users] *****************************************
2021-10-19 12:58:50,036 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:58:50,143 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:58:51,730 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 12:58:51,788 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : max-open-files | Create folder] **********************************************************
2021-10-19 12:58:51,909 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:58:51,910 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:58:51,965 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:58:52,019 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : max-open-files | Add the overriding file] ************************************************
2021-10-19 12:58:52,108 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:58:52,204 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:58:52,251 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:58:52,280 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : oom_score_adjust | create folder] ********************************************************
2021-10-19 12:58:52,382 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:58:52,383 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:58:52,431 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:58:52,473 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : oom_score_adjust | add the overriding file] **********************************************
2021-10-19 12:58:52,567 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:58:52,650 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:58:52,696 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:58:52,725 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : timeout-start-sec | Create folder] *******************************************************
2021-10-19 12:58:52,817 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:58:52,933 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:58:52,991 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:58:53,039 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : timeout-start-sec | Add the overriding file] *********************************************
2021-10-19 12:58:53,160 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:58:53,162 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:58:53,185 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:58:53,217 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : system_perfromance_tuning | configure swappiness] ****************************************
2021-10-19 12:58:53,357 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:58:53,358 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:58:53,391 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:58:53,425 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : flush handlers before continuing] ********************************************************
2021-10-19 12:58:53,504 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_users | create MySQL users] ********************************************************
2021-10-19 12:58:55,301 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s1 -> k3s1] => (item=None)
2021-10-19 12:58:55,303 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s1 -> {{ galera_mysql_first_node }}]
2021-10-19 12:58:55,430 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | mark galera cluster node unconfigured] ***********************************
2021-10-19 12:58:55,523 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:58:55,582 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:58:55,627 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:58:55,661 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | checking if galera cluster already configured] ***************************
2021-10-19 12:58:57,915 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 12:58:58,116 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 12:58:58,143 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 12:58:58,170 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | create TLS certificates directory] ***************************************
2021-10-19 12:58:58,305 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:58:58,321 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:58:58,423 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:58:58,463 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | copy TLS CA cert, server cert & private key] *****************************
2021-10-19 12:58:58,536 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:58:58,596 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:58:58,633 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:58:58,671 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | configuring settings for mariadb and galera] *****************************
2021-10-19 12:59:03,868 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=etc/my.cnf.d/server.cnf)
2021-10-19 12:59:03,926 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=etc/my.cnf.d/server.cnf)
2021-10-19 12:59:03,930 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=etc/my.cnf.d/server.cnf)
2021-10-19 12:59:03,957 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | restarting node to apply config changes (first node)] ********************
2021-10-19 12:59:04,101 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:59:04,104 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:59:04,145 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:59:04,194 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | ensure first node is fully started before restarting other nodes] ********
2021-10-19 12:59:04,320 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:59:04,358 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | restarting node to apply config changes (other nodes)] *******************
2021-10-19 12:59:04,433 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:59:04,507 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:59:04,547 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:59:04,587 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | stopping mysql to (re)configure cluster (other nodes)] *******************
2021-10-19 12:59:04,691 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:59:04,800 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:59:04,853 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:59:04,880 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | stopping mysql to (re)configure cluster (first node)] ********************
2021-10-19 12:59:04,949 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:59:05,014 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:59:05,062 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:59:05,177 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for nodes to fully shut down] ***************
2021-10-19 12:59:05,330 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:59:05,419 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:59:05,462 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:59:05,514 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | killing lingering mysql processes to ensure mysql is stopped] ************
2021-10-19 12:59:05,605 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:59:05,688 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:59:05,739 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:59:05,775 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | configuring temp galera config for first node] ***************************
2021-10-19 12:59:05,876 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=etc/my.cnf.d/server.cnf) 
2021-10-19 12:59:05,972 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=etc/my.cnf.d/server.cnf) 
2021-10-19 12:59:06,050 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=etc/my.cnf.d/server.cnf) 
2021-10-19 12:59:06,096 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | bootstrapping galera cluster] ********************************************
2021-10-19 12:59:06,169 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:59:06,232 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:59:06,280 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:59:06,361 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | ensure first node is fully started before joining other nodes] ***********
2021-10-19 12:59:06,436 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:59:06,497 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for node WSREP prepared state] **************
2021-10-19 12:59:06,596 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:59:06,661 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:59:06,727 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:59:06,783 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | joining galera cluster] **************************************************
2021-10-19 12:59:06,879 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:59:06,961 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:59:07,000 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:59:07,033 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for node WSREP prepared state] **************
2021-10-19 12:59:07,129 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:59:07,216 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:59:07,277 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:59:07,332 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | configuring final galera config for first node] **************************
2021-10-19 12:59:07,411 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=etc/my.cnf.d/server.cnf) 
2021-10-19 12:59:07,482 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=etc/my.cnf.d/server.cnf) 
2021-10-19 12:59:07,576 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=etc/my.cnf.d/server.cnf) 
2021-10-19 12:59:07,605 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | restarting first node with final galera config] **************************
2021-10-19 12:59:07,717 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:59:07,719 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:59:07,753 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:59:07,792 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | marking node as configured for galera cluster] ***************************
2021-10-19 12:59:07,878 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:59:07,966 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:59:08,076 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:59:08,126 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | ensure node is fully started (synced with cluster)] **********************
2021-10-19 12:59:10,961 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 12:59:10,980 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 12:59:11,012 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 12:59:11,048 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for node WSREP prepared state] **************
2021-10-19 12:59:11,120 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:59:11,216 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:59:11,306 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:59:11,357 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : configure_root_access | configuring root my.cnf] *****************************************
2021-10-19 12:59:16,783 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 12:59:17,070 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 12:59:17,109 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 12:59:17,125 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : configure_root_access | updating root passwords] *****************************************
2021-10-19 12:59:18,472 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=None)
2021-10-19 12:59:19,776 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=None)
2021-10-19 12:59:21,152 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=None)
2021-10-19 12:59:22,618 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=None)
2021-10-19 12:59:22,623 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 12:59:22,665 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : configure_root_access | updating root passwords (allow from anywhere)] *******************
2021-10-19 12:59:22,718 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=None) 
2021-10-19 12:59:22,720 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:59:22,755 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_databases | create the databases] **************************************************
2021-10-19 12:59:25,665 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'name': 'k3s'})
2021-10-19 12:59:25,678 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'name': 'k3s'})
2021-10-19 12:59:25,686 p=66442 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'name': 'k3s'})
2021-10-19 12:59:25,728 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_databases | copy database init scripts] ********************************************
2021-10-19 12:59:25,850 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'changed': False, 'db': 'k3s', 'db_list': ['k3s'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3s'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3s'}, 'ansible_loop_var': 'item'}) 
2021-10-19 12:59:25,919 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'changed': False, 'db': 'k3s', 'db_list': ['k3s'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3s'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3s'}, 'ansible_loop_var': 'item'}) 
2021-10-19 12:59:26,044 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'changed': False, 'db': 'k3s', 'db_list': ['k3s'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3s'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3s'}, 'ansible_loop_var': 'item'}) 
2021-10-19 12:59:26,089 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_databases | initialise databases] **************************************************
2021-10-19 12:59:26,199 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'changed': False, 'db': 'k3s', 'db_list': ['k3s'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3s'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3s'}, 'ansible_loop_var': 'item'}) 
2021-10-19 12:59:26,281 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'changed': False, 'db': 'k3s', 'db_list': ['k3s'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3s'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3s'}, 'ansible_loop_var': 'item'}) 
2021-10-19 12:59:26,372 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'changed': False, 'db': 'k3s', 'db_list': ['k3s'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3s'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3s'}, 'ansible_loop_var': 'item'}) 
2021-10-19 12:59:26,427 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_databases | delete init scripts from the server] ***********************************
2021-10-19 12:59:26,563 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'changed': False, 'db': 'k3s', 'db_list': ['k3s'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3s'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3s'}, 'ansible_loop_var': 'item'}) 
2021-10-19 12:59:26,641 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'changed': False, 'db': 'k3s', 'db_list': ['k3s'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3s'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3s'}, 'ansible_loop_var': 'item'}) 
2021-10-19 12:59:26,731 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'changed': False, 'db': 'k3s', 'db_list': ['k3s'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3s'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3s'}, 'ansible_loop_var': 'item'}) 
2021-10-19 12:59:26,801 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | configuring monitor script for galera] *******************************
2021-10-19 12:59:26,907 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:59:26,968 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:59:27,011 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:59:27,051 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | restarting mysql on first node] **************************************
2021-10-19 12:59:27,136 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:59:27,239 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:59:27,271 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:59:27,330 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | waiting for mysql to start on first node] ****************************
2021-10-19 12:59:27,396 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:59:27,421 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | restarting mysql on additional servers] ******************************
2021-10-19 12:59:27,504 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:59:27,627 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:59:27,701 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:59:27,710 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | waiting for mysql to start on other nodes] ***************************
2021-10-19 12:59:27,816 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:59:27,817 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 12:59:27,854 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 12:59:27,900 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : cacti_monitoring | adding cacti db user for monitoring] **********************************
2021-10-19 12:59:27,964 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:59:28,021 p=66442 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : cacti_monitoring | adding cacti db user for monitoring] **********************************
2021-10-19 12:59:28,077 p=66442 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 12:59:28,155 p=66442 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-19 12:59:28,155 p=66442 u=eduardgevorkyan n=ansible | k3s1                       : ok=17   changed=0    unreachable=0    failed=0    skipped=52   rescued=0    ignored=0   
2021-10-19 12:59:28,156 p=66442 u=eduardgevorkyan n=ansible | k3s2                       : ok=14   changed=0    unreachable=0    failed=0    skipped=47   rescued=0    ignored=0   
2021-10-19 12:59:28,156 p=66442 u=eduardgevorkyan n=ansible | k3s3                       : ok=14   changed=0    unreachable=0    failed=0    skipped=47   rescued=0    ignored=0   
2021-10-19 13:40:18,568 p=69137 u=eduardgevorkyan n=ansible | PLAY [initial] ***************************************************************************************************************************
2021-10-19 13:40:18,588 p=69137 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-19 13:40:25,986 p=69137 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 13:40:26,043 p=69137 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 13:40:26,109 p=69137 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 13:40:26,369 p=69137 u=eduardgevorkyan n=ansible | TASK [install packages] ******************************************************************************************************************
2021-10-19 13:49:12,381 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=ansible)
2021-10-19 13:49:20,575 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=ansible)
2021-10-19 13:49:25,328 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=ansible)
2021-10-19 13:50:24,038 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=git)
2021-10-19 13:50:32,497 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=git)
2021-10-19 13:50:37,774 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=git)
2021-10-19 13:51:17,617 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=vim)
2021-10-19 13:51:26,330 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=vim)
2021-10-19 13:51:31,609 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=vim)
2021-10-19 13:51:38,239 p=69137 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=net-tools)
2021-10-19 13:51:44,737 p=69137 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=net-tools)
2021-10-19 13:51:49,919 p=69137 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=net-tools)
2021-10-19 13:51:53,429 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=telnet)
2021-10-19 13:51:59,274 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=telnet)
2021-10-19 13:52:03,060 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=telnet)
2021-10-19 13:52:03,126 p=69137 u=eduardgevorkyan n=ansible | TASK [copy hosts file] *******************************************************************************************************************
2021-10-19 13:52:10,357 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 13:52:10,365 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 13:52:10,407 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 13:52:10,443 p=69137 u=eduardgevorkyan n=ansible | TASK [open firewalld] ********************************************************************************************************************
2021-10-19 13:52:15,165 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=179/tcp)
2021-10-19 13:52:15,180 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=179/tcp)
2021-10-19 13:52:15,227 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=179/tcp)
2021-10-19 13:52:18,555 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=6443/tcp)
2021-10-19 13:52:18,692 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=6443/tcp)
2021-10-19 13:52:18,737 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=6443/tcp)
2021-10-19 13:52:23,187 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=8443/tcp)
2021-10-19 13:52:23,294 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=8443/tcp)
2021-10-19 13:52:23,315 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=8443/tcp)
2021-10-19 13:52:26,481 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=8091/tcp)
2021-10-19 13:52:26,700 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=8091/tcp)
2021-10-19 13:52:26,810 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=8091/tcp)
2021-10-19 13:52:30,351 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=8090/tcp)
2021-10-19 13:52:30,887 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=8090/tcp)
2021-10-19 13:52:30,969 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=8090/tcp)
2021-10-19 13:52:34,862 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=53/tcp)
2021-10-19 13:52:35,199 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=53/tcp)
2021-10-19 13:52:35,217 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=53/tcp)
2021-10-19 13:52:39,594 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=2376/tcp)
2021-10-19 13:52:40,048 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=2376/tcp)
2021-10-19 13:52:40,149 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=2376/tcp)
2021-10-19 13:52:43,433 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=2379-2380/tcp)
2021-10-19 13:52:43,787 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=2379-2380/tcp)
2021-10-19 13:52:43,881 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=2379-2380/tcp)
2021-10-19 13:52:46,541 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=6641-6642/tcp)
2021-10-19 13:52:47,438 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=6641-6642/tcp)
2021-10-19 13:52:47,461 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=6641-6642/tcp)
2021-10-19 13:52:51,064 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=9000-9999/tcp)
2021-10-19 13:52:51,585 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=9000-9999/tcp)
2021-10-19 13:52:51,591 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=9000-9999/tcp)
2021-10-19 13:52:54,071 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=10250/tcp)
2021-10-19 13:52:54,845 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=10250/tcp)
2021-10-19 13:52:54,851 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=10250/tcp)
2021-10-19 13:52:56,861 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=10254/tcp)
2021-10-19 13:52:57,904 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=10254/tcp)
2021-10-19 13:52:57,946 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=10254/tcp)
2021-10-19 13:52:59,483 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=10257/tcp)
2021-10-19 13:53:01,181 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=10257/tcp)
2021-10-19 13:53:01,299 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=10257/tcp)
2021-10-19 13:53:03,490 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=10255/tcp)
2021-10-19 13:53:05,286 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=10255/tcp)
2021-10-19 13:53:05,441 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=10255/tcp)
2021-10-19 13:53:06,800 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=10252/tcp)
2021-10-19 13:53:08,583 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=10252/tcp)
2021-10-19 13:53:08,657 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=10252/tcp)
2021-10-19 13:53:10,001 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=10259/tcp)
2021-10-19 13:53:13,883 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=10259/tcp)
2021-10-19 13:53:13,961 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=10259/tcp)
2021-10-19 13:53:15,827 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=22623/tcp)
2021-10-19 13:53:19,047 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=22623/tcp)
2021-10-19 13:53:19,052 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=22623/tcp)
2021-10-19 13:53:19,203 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=30000-32767/tcp)
2021-10-19 13:53:23,389 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=30000-32767/tcp)
2021-10-19 13:53:23,392 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=30000-32767/tcp)
2021-10-19 13:53:23,407 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=53/udp)
2021-10-19 13:53:26,819 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=53/udp)
2021-10-19 13:53:26,855 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=500/udp)
2021-10-19 13:53:26,859 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=53/udp)
2021-10-19 13:53:30,985 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=500/udp)
2021-10-19 13:53:31,010 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=500/udp)
2021-10-19 13:53:31,028 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=8472/udp)
2021-10-19 13:53:34,465 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=4500/udp)
2021-10-19 13:53:34,625 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=8472/udp)
2021-10-19 13:53:34,669 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=8472/udp)
2021-10-19 13:53:38,177 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=4789/udp)
2021-10-19 13:53:38,678 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=4500/udp)
2021-10-19 13:53:38,683 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=4500/udp)
2021-10-19 13:53:41,475 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=5353/udp)
2021-10-19 13:53:42,434 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=4789/udp)
2021-10-19 13:53:42,516 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=4789/udp)
2021-10-19 13:53:45,863 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=6081/udp)
2021-10-19 13:53:46,836 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=5353/udp)
2021-10-19 13:53:46,877 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=5353/udp)
2021-10-19 13:53:48,917 p=69137 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=8472/udp)
2021-10-19 13:53:50,370 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=6081/udp)
2021-10-19 13:53:50,440 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=6081/udp)
2021-10-19 13:53:52,255 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=9000-9999/udp)
2021-10-19 13:53:54,209 p=69137 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=8472/udp)
2021-10-19 13:53:54,213 p=69137 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=8472/udp)
2021-10-19 13:53:55,529 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=30000-32767/udp)
2021-10-19 13:53:57,547 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=9000-9999/udp)
2021-10-19 13:53:57,626 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=9000-9999/udp)
2021-10-19 13:53:58,730 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=1936/tcp)
2021-10-19 13:54:01,106 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=30000-32767/udp)
2021-10-19 13:54:01,183 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=30000-32767/udp)
2021-10-19 13:54:02,036 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=3306/tcp)
2021-10-19 13:54:04,675 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=1936/tcp)
2021-10-19 13:54:04,940 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=1936/tcp)
2021-10-19 13:54:05,586 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=4567/tcp)
2021-10-19 13:54:08,166 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=3306/tcp)
2021-10-19 13:54:08,627 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=3306/tcp)
2021-10-19 13:54:09,158 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=4568/tcp)
2021-10-19 13:54:11,551 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=4567/tcp)
2021-10-19 13:54:12,894 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=4567/tcp)
2021-10-19 13:54:13,721 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=4444/tcp)
2021-10-19 13:54:15,425 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=4568/tcp)
2021-10-19 13:54:16,939 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=4568/tcp)
2021-10-19 13:54:18,046 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=4567/udp)
2021-10-19 13:54:18,840 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=4444/tcp)
2021-10-19 13:54:19,790 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=4444/tcp)
2021-10-19 13:54:21,185 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=4567/udp)
2021-10-19 13:54:21,834 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=4567/udp)
2021-10-19 13:54:21,876 p=69137 u=eduardgevorkyan n=ansible | TASK [set hostname] **********************************************************************************************************************
2021-10-19 13:54:22,170 p=69137 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'host': '172.22.22.5', 'hostname': 'k3s1'}) 
2021-10-19 13:54:22,269 p=69137 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'host': '172.22.22.5', 'hostname': 'k3s1'}) 
2021-10-19 13:54:22,290 p=69137 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'host': '172.22.22.6', 'hostname': 'k3s2'}) 
2021-10-19 13:54:26,206 p=69137 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'host': '172.22.22.5', 'hostname': 'k3s1'})
2021-10-19 13:54:26,226 p=69137 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'host': '172.22.22.6', 'hostname': 'k3s2'}) 
2021-10-19 13:54:26,300 p=69137 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'host': '172.22.22.7', 'hostname': 'k3s3'}) 
2021-10-19 13:54:26,487 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item={'host': '172.22.22.6', 'hostname': 'k3s2'})
2021-10-19 13:54:26,503 p=69137 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'host': '172.22.22.7', 'hostname': 'k3s3'}) 
2021-10-19 13:54:26,511 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item={'host': '172.22.22.7', 'hostname': 'k3s3'})
2021-10-19 13:54:26,602 p=69137 u=eduardgevorkyan n=ansible | TASK [open services web] *****************************************************************************************************************
2021-10-19 13:54:29,500 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=https)
2021-10-19 13:54:29,788 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=https)
2021-10-19 13:54:29,912 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=https)
2021-10-19 13:54:33,177 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=http)
2021-10-19 13:54:33,600 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=http)
2021-10-19 13:54:33,865 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=http)
2021-10-19 13:54:33,892 p=69137 u=eduardgevorkyan n=ansible | TASK [open protocols] ********************************************************************************************************************
2021-10-19 13:54:37,421 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=ah)
2021-10-19 13:54:37,452 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=ah)
2021-10-19 13:54:37,552 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=ah)
2021-10-19 13:54:41,498 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=esp)
2021-10-19 13:54:41,609 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=esp)
2021-10-19 13:54:41,618 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=esp)
2021-10-19 13:54:44,566 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=112)
2021-10-19 13:54:44,781 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=112)
2021-10-19 13:54:44,838 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=112)
2021-10-19 13:54:44,887 p=69137 u=eduardgevorkyan n=ansible | TASK [create interface] ******************************************************************************************************************
2021-10-19 13:54:45,149 p=69137 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'host': '172.22.22.5', 'ipv4': '172.20.254.1/24'}) 
2021-10-19 13:54:45,319 p=69137 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'host': '172.22.22.5', 'ipv4': '172.20.254.1/24'}) 
2021-10-19 13:54:45,406 p=69137 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'host': '172.22.22.6', 'ipv4': '172.20.254.2/24'}) 
2021-10-19 13:54:49,698 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item={'host': '172.22.22.6', 'ipv4': '172.20.254.2/24'})
2021-10-19 13:54:49,801 p=69137 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'host': '172.22.22.7', 'ipv4': '172.20.254.3/24'}) 
2021-10-19 13:54:49,818 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item={'host': '172.22.22.7', 'ipv4': '172.20.254.3/24'})
2021-10-19 13:54:49,935 p=69137 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item={'host': '172.22.22.5', 'ipv4': '172.20.254.1/24'})
2021-10-19 13:54:49,943 p=69137 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'host': '172.22.22.6', 'ipv4': '172.20.254.2/24'}) 
2021-10-19 13:54:49,955 p=69137 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'host': '172.22.22.7', 'ipv4': '172.20.254.3/24'}) 
2021-10-19 13:54:50,012 p=69137 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-19 13:54:50,013 p=69137 u=eduardgevorkyan n=ansible | k3s1                       : ok=8    changed=6    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-10-19 13:54:50,013 p=69137 u=eduardgevorkyan n=ansible | k3s2                       : ok=8    changed=7    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-10-19 13:54:50,014 p=69137 u=eduardgevorkyan n=ansible | k3s3                       : ok=8    changed=7    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-10-19 13:55:48,723 p=70919 u=eduardgevorkyan n=ansible | PLAY [initial] ***************************************************************************************************************************
2021-10-19 13:55:48,743 p=70919 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-19 13:55:50,122 p=70919 u=eduardgevorkyan n=ansible |  [ERROR]: User interrupted execution

2021-10-19 13:55:55,504 p=70943 u=eduardgevorkyan n=ansible | PLAY [MariaDB cluster deployment] ********************************************************************************************************
2021-10-19 13:55:55,761 p=70943 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-19 13:56:00,550 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 13:56:00,586 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 13:56:00,646 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 13:56:00,685 p=70943 u=eduardgevorkyan n=ansible | TASK [Deployment] ************************************************************************************************************************
2021-10-19 13:56:01,029 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : gather os specific variables] ************************************************************
2021-10-19 13:56:01,333 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-19 13:56:01,412 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-19 13:56:01,465 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-19 13:56:01,494 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : ensure NIC specified in 'galera_cluster_bind_interface' exists] **************************
2021-10-19 13:56:01,656 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-19 13:56:01,737 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-19 13:56:01,791 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-19 13:56:01,811 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | update package list] ************************************************************
2021-10-19 13:56:01,880 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 13:56:01,948 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 13:56:01,985 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 13:56:02,039 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | installing pre-reqs] ************************************************************
2021-10-19 13:56:02,102 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 13:56:02,223 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 13:56:02,249 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 13:56:02,280 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding MariaDB Repo Keys] *******************************************************
2021-10-19 13:56:02,348 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 13:56:02,415 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 13:56:02,433 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 13:56:02,463 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding MariaDB Repo Keys] *******************************************************
2021-10-19 13:56:02,639 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 13:56:02,709 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 13:56:02,732 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 13:56:02,770 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | pinning MariaDB Repo] ***********************************************************
2021-10-19 13:56:02,847 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 13:56:02,919 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 13:56:03,025 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 13:56:03,049 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding mariadb repo] ************************************************************
2021-10-19 13:56:03,151 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 13:56:03,153 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 13:56:03,201 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 13:56:03,228 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | precreate /etc/mysql/conf.d in case we need to add mariadb_config_overrides file] ***
2021-10-19 13:56:03,374 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 13:56:03,377 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 13:56:03,452 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 13:56:03,489 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | add an overrides file] **********************************************************
2021-10-19 13:56:03,602 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 13:56:03,606 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 13:56:03,645 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 13:56:03,674 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | configuring root my.cnf] ********************************************************
2021-10-19 13:56:03,764 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 13:56:03,895 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 13:56:03,918 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 13:56:03,950 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | mysql root password setting] ****************************************************
2021-10-19 13:56:04,140 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=None) 
2021-10-19 13:56:04,165 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=None) 
2021-10-19 13:56:04,171 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 13:56:04,249 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=None) 
2021-10-19 13:56:04,256 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=None) 
2021-10-19 13:56:04,257 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 13:56:04,310 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=None) 
2021-10-19 13:56:04,315 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=None) 
2021-10-19 13:56:04,317 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 13:56:04,351 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | installing mariadb-galera packages] *********************************************
2021-10-19 13:56:04,427 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 13:56:04,492 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 13:56:04,559 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 13:56:04,662 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | adding mariadb repo] ************************************************************
2021-10-19 13:56:07,243 p=70943 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 13:56:07,273 p=70943 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 13:56:07,277 p=70943 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 13:56:07,317 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | disable appstream mysql/mariadb modules] ****************************************
2021-10-19 13:56:26,662 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 13:56:26,940 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 13:56:27,142 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 13:56:27,187 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | clean dnf metadata (centos8 & fedora)] ******************************************
2021-10-19 13:56:30,912 p=70943 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 13:56:30,985 p=70943 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 13:56:31,124 p=70943 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 13:56:31,148 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | installing pre-reqs] ************************************************************
2021-10-19 14:04:51,106 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 14:04:53,827 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 14:04:56,345 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 14:04:56,376 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | precreate /etc/my.cnf.d in case we need to add mariadb_config_overrides file] ***
2021-10-19 14:04:56,504 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:04:56,559 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:04:56,593 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:04:56,679 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | add an overrides file] **********************************************************
2021-10-19 14:04:56,809 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:04:56,821 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:04:56,875 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:04:56,899 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | installing mariadb mysql] *******************************************************
2021-10-19 14:06:51,612 p=70943 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 14:07:17,109 p=70943 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 14:07:32,835 p=70943 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 14:07:32,880 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | remove migrated-from-my.cnf-settings.conf that is causing MariaDB to not start] ***
2021-10-19 14:07:36,129 p=70943 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 14:07:36,284 p=70943 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 14:07:36,964 p=70943 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 14:07:37,001 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | ensuring mariadb mysql is enabled on boot] **************************************
2021-10-19 14:07:44,498 p=70943 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 14:07:44,769 p=70943 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 14:07:44,793 p=70943 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 14:07:44,872 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | start only the first node to add users] *****************************************
2021-10-19 14:07:45,124 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:07:45,218 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:07:47,520 p=70943 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 14:07:47,547 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : max-open-files | Create folder] **********************************************************
2021-10-19 14:07:47,613 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:07:47,674 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:07:47,699 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:07:47,750 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : max-open-files | Add the overriding file] ************************************************
2021-10-19 14:07:47,854 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:07:47,858 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:07:47,899 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:07:47,927 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : oom_score_adjust | create folder] ********************************************************
2021-10-19 14:07:47,993 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:07:48,154 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:07:48,212 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:07:48,240 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : oom_score_adjust | add the overriding file] **********************************************
2021-10-19 14:07:48,313 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:07:48,374 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:07:48,450 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:07:48,506 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : timeout-start-sec | Create folder] *******************************************************
2021-10-19 14:07:48,606 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:07:48,676 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:07:48,720 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:07:48,746 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : timeout-start-sec | Add the overriding file] *********************************************
2021-10-19 14:07:48,833 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:07:48,930 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:07:48,957 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:07:49,019 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : system_perfromance_tuning | configure swappiness] ****************************************
2021-10-19 14:07:49,159 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:07:49,161 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:07:49,209 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:07:49,258 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : flush handlers before continuing] ********************************************************
2021-10-19 14:07:49,259 p=70943 u=eduardgevorkyan n=ansible | RUNNING HANDLER [eradical.ansible_mariadb_galera_cluster : reload systemd daemon] ********************************************************
2021-10-19 14:07:55,114 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 14:07:55,166 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 14:07:55,176 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 14:07:55,257 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_users | create MySQL users] ********************************************************
2021-10-19 14:07:56,964 p=70943 u=eduardgevorkyan n=ansible | changed: [k3s1 -> k3s1] => (item=None)
2021-10-19 14:07:56,966 p=70943 u=eduardgevorkyan n=ansible | changed: [k3s1 -> {{ galera_mysql_first_node }}]
2021-10-19 14:07:57,010 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | mark galera cluster node unconfigured] ***********************************
2021-10-19 14:07:57,094 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:07:57,198 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:07:57,234 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:07:57,268 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | checking if galera cluster already configured] ***************************
2021-10-19 14:07:59,590 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 14:07:59,723 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 14:07:59,768 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 14:07:59,816 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | create TLS certificates directory] ***************************************
2021-10-19 14:07:59,938 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:07:59,940 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:08:00,020 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:08:00,077 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | copy TLS CA cert, server cert & private key] *****************************
2021-10-19 14:08:00,199 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:08:00,259 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:08:00,292 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:08:00,325 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | configuring settings for mariadb and galera] *****************************
2021-10-19 14:08:07,536 p=70943 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=etc/my.cnf.d/server.cnf)
2021-10-19 14:08:07,559 p=70943 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=etc/my.cnf.d/server.cnf)
2021-10-19 14:08:07,588 p=70943 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=etc/my.cnf.d/server.cnf)
2021-10-19 14:08:07,631 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | restarting node to apply config changes (first node)] ********************
2021-10-19 14:08:07,701 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:08:07,781 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:08:07,833 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:08:07,899 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | ensure first node is fully started before restarting other nodes] ********
2021-10-19 14:08:07,963 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:08:07,994 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | restarting node to apply config changes (other nodes)] *******************
2021-10-19 14:08:08,070 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:08:08,144 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:08:08,352 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:08:08,390 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | stopping mysql to (re)configure cluster (other nodes)] *******************
2021-10-19 14:08:08,453 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:08:10,714 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 14:08:13,395 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 14:08:13,440 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | stopping mysql to (re)configure cluster (first node)] ********************
2021-10-19 14:08:13,583 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:08:13,645 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:08:22,096 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 14:08:22,145 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for nodes to fully shut down] ***************
2021-10-19 14:08:39,346 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s3 -> localhost]
2021-10-19 14:08:39,374 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost]
2021-10-19 14:08:39,384 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s2 -> localhost]
2021-10-19 14:08:39,437 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | killing lingering mysql processes to ensure mysql is stopped] ************
2021-10-19 14:08:41,667 p=70943 u=eduardgevorkyan n=ansible | fatal: [k3s1]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:00.155850", "end": "2021-10-19 14:08:41.388686", "msg": "non-zero return code", "rc": 1, "start": "2021-10-19 14:08:41.232836", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2021-10-19 14:08:41,669 p=70943 u=eduardgevorkyan n=ansible | ...ignoring
2021-10-19 14:08:41,703 p=70943 u=eduardgevorkyan n=ansible | fatal: [k3s2]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:00.151021", "end": "2021-10-19 14:08:41.420917", "msg": "non-zero return code", "rc": 1, "start": "2021-10-19 14:08:41.269896", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2021-10-19 14:08:41,706 p=70943 u=eduardgevorkyan n=ansible | ...ignoring
2021-10-19 14:08:41,766 p=70943 u=eduardgevorkyan n=ansible | fatal: [k3s3]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:00.129821", "end": "2021-10-19 14:08:41.518762", "msg": "non-zero return code", "rc": 1, "start": "2021-10-19 14:08:41.388941", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2021-10-19 14:08:41,769 p=70943 u=eduardgevorkyan n=ansible | ...ignoring
2021-10-19 14:08:41,843 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | configuring temp galera config for first node] ***************************
2021-10-19 14:08:42,009 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=etc/my.cnf.d/server.cnf) 
2021-10-19 14:08:42,103 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=etc/my.cnf.d/server.cnf) 
2021-10-19 14:08:45,470 p=70943 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=etc/my.cnf.d/server.cnf)
2021-10-19 14:08:45,524 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | bootstrapping galera cluster] ********************************************
2021-10-19 14:08:45,770 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:08:45,903 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:08:48,423 p=70943 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 14:08:48,491 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | ensure first node is fully started before joining other nodes] ***********
2021-10-19 14:08:48,568 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:08:48,651 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for node WSREP prepared state] **************
2021-10-19 14:09:05,537 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost]
2021-10-19 14:09:05,692 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s2 -> localhost]
2021-10-19 14:09:05,756 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s3 -> localhost]
2021-10-19 14:09:05,779 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | joining galera cluster] **************************************************
2021-10-19 14:09:05,929 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:09:26,248 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 14:09:42,909 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 14:09:42,956 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for node WSREP prepared state] **************
2021-10-19 14:09:59,610 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost]
2021-10-19 14:09:59,901 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s2 -> localhost]
2021-10-19 14:09:59,954 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s3 -> localhost]
2021-10-19 14:10:00,007 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | configuring final galera config for first node] **************************
2021-10-19 14:10:00,356 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=etc/my.cnf.d/server.cnf) 
2021-10-19 14:10:00,423 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=etc/my.cnf.d/server.cnf) 
2021-10-19 14:10:03,974 p=70943 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=etc/my.cnf.d/server.cnf)
2021-10-19 14:10:03,995 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | restarting first node with final galera config] **************************
2021-10-19 14:10:04,219 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:10:04,295 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:10:10,701 p=70943 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 14:10:10,763 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | marking node as configured for galera cluster] ***************************
2021-10-19 14:10:12,976 p=70943 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 14:10:13,057 p=70943 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 14:10:13,218 p=70943 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 14:10:13,304 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | ensure node is fully started (synced with cluster)] **********************
2021-10-19 14:10:16,877 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 14:10:16,951 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 14:10:16,990 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 14:10:17,168 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for node WSREP prepared state] **************
2021-10-19 14:10:34,083 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost]
2021-10-19 14:10:34,207 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s2 -> localhost]
2021-10-19 14:10:34,286 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s3 -> localhost]
2021-10-19 14:10:34,311 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : configure_root_access | configuring root my.cnf] *****************************************
2021-10-19 14:10:38,231 p=70943 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 14:10:38,310 p=70943 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 14:10:38,313 p=70943 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 14:10:38,353 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : configure_root_access | updating root passwords] *****************************************
2021-10-19 14:10:39,937 p=70943 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=None)
2021-10-19 14:10:41,557 p=70943 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=None)
2021-10-19 14:10:43,366 p=70943 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=None)
2021-10-19 14:10:45,110 p=70943 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=None)
2021-10-19 14:10:45,113 p=70943 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 14:10:45,162 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : configure_root_access | updating root passwords (allow from anywhere)] *******************
2021-10-19 14:10:45,218 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=None) 
2021-10-19 14:10:45,221 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:10:45,258 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_databases | create the databases] **************************************************
2021-10-19 14:10:48,039 p=70943 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item={'name': 'k3sdemo'})
2021-10-19 14:10:48,129 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'name': 'k3sdemo'})
2021-10-19 14:10:48,169 p=70943 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'name': 'k3sdemo'})
2021-10-19 14:10:48,208 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_databases | copy database init scripts] ********************************************
2021-10-19 14:10:48,328 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-19 14:10:48,485 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'changed': True, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': ['CREATE DATABASE `k3sdemo`'], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-19 14:10:48,560 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-19 14:10:48,619 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_databases | initialise databases] **************************************************
2021-10-19 14:10:48,767 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-19 14:10:48,907 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'changed': True, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': ['CREATE DATABASE `k3sdemo`'], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-19 14:10:48,958 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-19 14:10:48,998 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_databases | delete init scripts from the server] ***********************************
2021-10-19 14:10:49,127 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-19 14:10:49,267 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'changed': True, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': ['CREATE DATABASE `k3sdemo`'], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-19 14:10:49,327 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-19 14:10:49,381 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | configuring monitor script for galera] *******************************
2021-10-19 14:10:49,464 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:10:49,575 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:10:49,646 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:10:49,706 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | restarting mysql on first node] **************************************
2021-10-19 14:10:49,799 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:10:49,987 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:10:50,032 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:10:50,114 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | waiting for mysql to start on first node] ****************************
2021-10-19 14:10:50,198 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:10:50,244 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | restarting mysql on additional servers] ******************************
2021-10-19 14:10:50,308 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:10:50,391 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:10:50,464 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:10:50,503 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | waiting for mysql to start on other nodes] ***************************
2021-10-19 14:10:50,625 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:10:50,692 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:10:50,719 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:10:50,780 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : cacti_monitoring | adding cacti db user for monitoring] **********************************
2021-10-19 14:10:50,823 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:10:50,877 p=70943 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : cacti_monitoring | adding cacti db user for monitoring] **********************************
2021-10-19 14:10:50,946 p=70943 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:10:51,042 p=70943 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-19 14:10:51,042 p=70943 u=eduardgevorkyan n=ansible | k3s1                       : ok=30   changed=16   unreachable=0    failed=0    skipped=40   rescued=0    ignored=1   
2021-10-19 14:10:51,043 p=70943 u=eduardgevorkyan n=ansible | k3s2                       : ok=24   changed=10   unreachable=0    failed=0    skipped=38   rescued=0    ignored=1   
2021-10-19 14:10:51,043 p=70943 u=eduardgevorkyan n=ansible | k3s3                       : ok=24   changed=9    unreachable=0    failed=0    skipped=38   rescued=0    ignored=1   
2021-10-19 14:20:24,111 p=73190 u=eduardgevorkyan n=ansible | PLAY [MariaDB cluster deployment] ********************************************************************************************************
2021-10-19 14:20:24,199 p=73190 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-19 14:20:28,468 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 14:20:28,484 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 14:20:28,677 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 14:20:28,724 p=73190 u=eduardgevorkyan n=ansible | TASK [Deployment] ************************************************************************************************************************
2021-10-19 14:20:29,022 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : gather os specific variables] ************************************************************
2021-10-19 14:20:29,318 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-19 14:20:29,406 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-19 14:20:29,456 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-19 14:20:29,488 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : ensure NIC specified in 'galera_cluster_bind_interface' exists] **************************
2021-10-19 14:20:29,665 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-19 14:20:29,776 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-19 14:20:29,826 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-19 14:20:29,847 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | update package list] ************************************************************
2021-10-19 14:20:29,919 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:20:29,993 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:20:30,047 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:20:30,104 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | installing pre-reqs] ************************************************************
2021-10-19 14:20:30,195 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:20:30,256 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:20:30,289 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:20:30,316 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding MariaDB Repo Keys] *******************************************************
2021-10-19 14:20:30,417 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:20:30,516 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:20:30,543 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:20:30,605 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding MariaDB Repo Keys] *******************************************************
2021-10-19 14:20:30,681 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:20:30,746 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:20:30,770 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:20:30,812 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | pinning MariaDB Repo] ***********************************************************
2021-10-19 14:20:30,933 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:20:30,935 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:20:30,956 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:20:30,986 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding mariadb repo] ************************************************************
2021-10-19 14:20:31,060 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:20:31,151 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:20:31,174 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:20:31,208 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | precreate /etc/mysql/conf.d in case we need to add mariadb_config_overrides file] ***
2021-10-19 14:20:31,272 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:20:31,345 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:20:31,404 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:20:31,434 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | add an overrides file] **********************************************************
2021-10-19 14:20:31,505 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:20:31,579 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:20:31,620 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:20:31,651 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | configuring root my.cnf] ********************************************************
2021-10-19 14:20:31,840 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:20:31,846 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:20:31,879 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:20:31,908 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | mysql root password setting] ****************************************************
2021-10-19 14:20:32,124 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=None) 
2021-10-19 14:20:32,177 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=None) 
2021-10-19 14:20:32,181 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:20:32,241 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=None) 
2021-10-19 14:20:32,249 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=None) 
2021-10-19 14:20:32,251 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:20:32,296 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=None) 
2021-10-19 14:20:32,299 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=None) 
2021-10-19 14:20:32,301 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:20:32,338 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | installing mariadb-galera packages] *********************************************
2021-10-19 14:20:32,408 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:20:32,478 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:20:32,534 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:20:32,579 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | adding mariadb repo] ************************************************************
2021-10-19 14:20:35,181 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 14:20:35,224 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 14:20:35,265 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 14:20:35,298 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | disable appstream mysql/mariadb modules] ****************************************
2021-10-19 14:20:49,796 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 14:20:50,269 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 14:20:50,591 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 14:20:50,612 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | clean dnf metadata (centos8 & fedora)] ******************************************
2021-10-19 14:20:50,694 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:20:50,786 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:20:50,859 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:20:50,915 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | installing pre-reqs] ************************************************************
2021-10-19 14:21:12,664 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 14:21:14,901 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 14:21:15,058 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 14:21:15,098 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | precreate /etc/my.cnf.d in case we need to add mariadb_config_overrides file] ***
2021-10-19 14:21:15,236 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:21:15,249 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:21:15,363 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:21:15,415 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | add an overrides file] **********************************************************
2021-10-19 14:21:15,570 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:21:15,616 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:21:15,684 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:21:15,739 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | installing mariadb mysql] *******************************************************
2021-10-19 14:21:36,920 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 14:21:37,376 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 14:21:37,754 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 14:21:37,837 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | remove migrated-from-my.cnf-settings.conf that is causing MariaDB to not start] ***
2021-10-19 14:21:40,290 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 14:21:40,337 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 14:21:40,340 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 14:21:40,375 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | ensuring mariadb mysql is enabled on boot] **************************************
2021-10-19 14:21:44,141 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 14:21:44,145 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 14:21:44,337 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 14:21:44,370 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | start only the first node to add users] *****************************************
2021-10-19 14:21:44,557 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:21:44,623 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:21:46,416 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 14:21:46,441 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : max-open-files | Create folder] **********************************************************
2021-10-19 14:21:46,522 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:21:46,632 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:21:46,697 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:21:46,764 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : max-open-files | Add the overriding file] ************************************************
2021-10-19 14:21:46,894 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:21:46,895 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:21:46,942 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:21:46,976 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : oom_score_adjust | create folder] ********************************************************
2021-10-19 14:21:47,050 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:21:47,164 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:21:47,206 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:21:47,230 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : oom_score_adjust | add the overriding file] **********************************************
2021-10-19 14:21:47,297 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:21:47,389 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:21:47,428 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:21:47,484 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : timeout-start-sec | Create folder] *******************************************************
2021-10-19 14:21:47,594 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:21:47,663 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:21:47,711 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:21:47,759 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : timeout-start-sec | Add the overriding file] *********************************************
2021-10-19 14:21:47,872 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:21:47,989 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:21:48,038 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:21:48,070 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : system_perfromance_tuning | configure swappiness] ****************************************
2021-10-19 14:21:48,137 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:21:48,212 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:21:48,238 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:21:48,289 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : flush handlers before continuing] ********************************************************
2021-10-19 14:21:48,447 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_users | create MySQL users] ********************************************************
2021-10-19 14:21:50,282 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s1 -> k3s1] => (item=None)
2021-10-19 14:21:50,285 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s1 -> {{ galera_mysql_first_node }}]
2021-10-19 14:21:50,301 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | mark galera cluster node unconfigured] ***********************************
2021-10-19 14:21:52,551 p=73190 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 14:21:52,556 p=73190 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 14:21:52,753 p=73190 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 14:21:52,814 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | checking if galera cluster already configured] ***************************
2021-10-19 14:21:55,324 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 14:21:55,349 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 14:21:55,360 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 14:21:55,416 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | create TLS certificates directory] ***************************************
2021-10-19 14:21:55,564 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:21:55,569 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:21:55,641 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:21:55,703 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | copy TLS CA cert, server cert & private key] *****************************
2021-10-19 14:21:55,780 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:21:55,841 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:21:55,866 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:21:55,906 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | configuring settings for mariadb and galera] *****************************
2021-10-19 14:22:01,957 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=etc/my.cnf.d/server.cnf)
2021-10-19 14:22:02,090 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=etc/my.cnf.d/server.cnf)
2021-10-19 14:22:02,123 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=etc/my.cnf.d/server.cnf)
2021-10-19 14:22:02,176 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | restarting node to apply config changes (first node)] ********************
2021-10-19 14:22:02,295 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:22:02,299 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:22:02,358 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:22:02,435 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | ensure first node is fully started before restarting other nodes] ********
2021-10-19 14:22:02,511 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:22:02,542 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | restarting node to apply config changes (other nodes)] *******************
2021-10-19 14:22:02,669 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:22:02,775 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:22:02,830 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:22:02,873 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | stopping mysql to (re)configure cluster (other nodes)] *******************
2021-10-19 14:22:02,972 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:22:13,170 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 14:22:22,731 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 14:22:22,804 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | stopping mysql to (re)configure cluster (first node)] ********************
2021-10-19 14:22:22,990 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:22:23,062 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:22:31,545 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 14:22:31,586 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for nodes to fully shut down] ***************
2021-10-19 14:22:48,956 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s2 -> localhost]
2021-10-19 14:22:48,965 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s3 -> localhost]
2021-10-19 14:22:48,975 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost]
2021-10-19 14:22:49,026 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | killing lingering mysql processes to ensure mysql is stopped] ************
2021-10-19 14:22:50,714 p=73190 u=eduardgevorkyan n=ansible | fatal: [k3s1]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:00.044344", "end": "2021-10-19 14:22:50.497208", "msg": "non-zero return code", "rc": 1, "start": "2021-10-19 14:22:50.452864", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2021-10-19 14:22:50,738 p=73190 u=eduardgevorkyan n=ansible | ...ignoring
2021-10-19 14:22:50,742 p=73190 u=eduardgevorkyan n=ansible | fatal: [k3s2]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:00.054972", "end": "2021-10-19 14:22:50.526313", "msg": "non-zero return code", "rc": 1, "start": "2021-10-19 14:22:50.471341", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2021-10-19 14:22:50,744 p=73190 u=eduardgevorkyan n=ansible | ...ignoring
2021-10-19 14:22:50,857 p=73190 u=eduardgevorkyan n=ansible | fatal: [k3s3]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:00.047792", "end": "2021-10-19 14:22:50.625931", "msg": "non-zero return code", "rc": 1, "start": "2021-10-19 14:22:50.578139", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2021-10-19 14:22:50,858 p=73190 u=eduardgevorkyan n=ansible | ...ignoring
2021-10-19 14:22:50,887 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | configuring temp galera config for first node] ***************************
2021-10-19 14:22:51,036 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=etc/my.cnf.d/server.cnf) 
2021-10-19 14:22:51,145 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=etc/my.cnf.d/server.cnf) 
2021-10-19 14:22:53,910 p=73190 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=etc/my.cnf.d/server.cnf)
2021-10-19 14:22:53,931 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | bootstrapping galera cluster] ********************************************
2021-10-19 14:22:54,133 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:22:54,216 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:22:56,448 p=73190 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 14:22:56,509 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | ensure first node is fully started before joining other nodes] ***********
2021-10-19 14:22:56,575 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:22:56,614 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for node WSREP prepared state] **************
2021-10-19 14:23:13,097 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost]
2021-10-19 14:23:13,235 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s2 -> localhost]
2021-10-19 14:23:13,258 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s3 -> localhost]
2021-10-19 14:23:13,290 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | joining galera cluster] **************************************************
2021-10-19 14:23:13,359 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:23:26,434 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 14:23:39,592 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 14:23:39,649 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for node WSREP prepared state] **************
2021-10-19 14:23:56,183 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost]
2021-10-19 14:23:56,372 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s2 -> localhost]
2021-10-19 14:23:56,422 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s3 -> localhost]
2021-10-19 14:23:56,449 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | configuring final galera config for first node] **************************
2021-10-19 14:23:56,598 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=etc/my.cnf.d/server.cnf) 
2021-10-19 14:23:56,718 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=etc/my.cnf.d/server.cnf) 
2021-10-19 14:23:59,739 p=73190 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=etc/my.cnf.d/server.cnf)
2021-10-19 14:23:59,769 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | restarting first node with final galera config] **************************
2021-10-19 14:24:00,040 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:24:00,114 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:24:07,335 p=73190 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 14:24:07,355 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | marking node as configured for galera cluster] ***************************
2021-10-19 14:24:09,607 p=73190 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 14:24:09,792 p=73190 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 14:24:09,798 p=73190 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 14:24:09,836 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | ensure node is fully started (synced with cluster)] **********************
2021-10-19 14:24:13,158 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 14:24:13,179 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 14:24:13,191 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 14:24:13,268 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for node WSREP prepared state] **************
2021-10-19 14:24:13,639 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:24:13,755 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:24:29,491 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost]
2021-10-19 14:24:29,517 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : configure_root_access | configuring root my.cnf] *****************************************
2021-10-19 14:24:33,087 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 14:24:33,106 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 14:24:33,248 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 14:24:33,269 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : configure_root_access | updating root passwords] *****************************************
2021-10-19 14:24:34,734 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=None)
2021-10-19 14:24:36,044 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=None)
2021-10-19 14:24:37,390 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=None)
2021-10-19 14:24:39,129 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=None)
2021-10-19 14:24:39,132 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 14:24:39,161 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : configure_root_access | updating root passwords (allow from anywhere)] *******************
2021-10-19 14:24:39,228 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=None) 
2021-10-19 14:24:39,230 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:24:39,258 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_databases | create the databases] **************************************************
2021-10-19 14:24:42,099 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'name': 'k3sdemo'})
2021-10-19 14:24:42,107 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'name': 'k3sdemo'})
2021-10-19 14:24:42,120 p=73190 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'name': 'k3sdemo'})
2021-10-19 14:24:42,159 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_databases | copy database init scripts] ********************************************
2021-10-19 14:24:42,319 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-19 14:24:42,424 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-19 14:24:42,467 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-19 14:24:42,507 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_databases | initialise databases] **************************************************
2021-10-19 14:24:42,660 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-19 14:24:42,766 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-19 14:24:42,823 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-19 14:24:42,871 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_databases | delete init scripts from the server] ***********************************
2021-10-19 14:24:43,074 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-19 14:24:43,169 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-19 14:24:43,247 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-19 14:24:43,286 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | configuring monitor script for galera] *******************************
2021-10-19 14:24:43,436 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:24:43,504 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:24:43,547 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:24:43,592 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | restarting mysql on first node] **************************************
2021-10-19 14:24:43,698 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:24:43,703 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:24:43,734 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:24:43,823 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | waiting for mysql to start on first node] ****************************
2021-10-19 14:24:43,875 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:24:43,903 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | restarting mysql on additional servers] ******************************
2021-10-19 14:24:43,984 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:24:44,081 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:24:44,123 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:24:44,164 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | waiting for mysql to start on other nodes] ***************************
2021-10-19 14:24:44,232 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:24:44,303 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 14:24:44,367 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 14:24:44,391 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : cacti_monitoring | adding cacti db user for monitoring] **********************************
2021-10-19 14:24:44,454 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:24:44,489 p=73190 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : cacti_monitoring | adding cacti db user for monitoring] **********************************
2021-10-19 14:24:44,534 p=73190 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 14:24:44,621 p=73190 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-19 14:24:44,621 p=73190 u=eduardgevorkyan n=ansible | k3s1                       : ok=29   changed=7    unreachable=0    failed=0    skipped=40   rescued=0    ignored=1   
2021-10-19 14:24:44,621 p=73190 u=eduardgevorkyan n=ansible | k3s2                       : ok=22   changed=3    unreachable=0    failed=0    skipped=39   rescued=0    ignored=1   
2021-10-19 14:24:44,621 p=73190 u=eduardgevorkyan n=ansible | k3s3                       : ok=22   changed=3    unreachable=0    failed=0    skipped=39   rescued=0    ignored=1   
2021-10-19 15:31:05,669 p=77482 u=eduardgevorkyan n=ansible | PLAY [proxy] *****************************************************************************************************************************
2021-10-19 15:31:05,713 p=77482 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-19 15:31:11,338 p=77482 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 15:31:11,453 p=77482 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 15:31:11,474 p=77482 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 15:31:11,536 p=77482 u=eduardgevorkyan n=ansible | TASK [sparknsh.keepalived : Keepalived | Install package] ********************************************************************************
2021-10-19 15:31:40,301 p=77482 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 15:31:41,123 p=77482 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 15:31:41,606 p=77482 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 15:31:41,703 p=77482 u=eduardgevorkyan n=ansible | TASK [sparknsh.keepalived : Keepalived | Enable keepalived on boot and start] ************************************************************
2021-10-19 15:31:47,843 p=77482 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 15:31:47,995 p=77482 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 15:31:47,996 p=77482 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 15:31:48,015 p=77482 u=eduardgevorkyan n=ansible | TASK [sparknsh.keepalived : Keepalived | sysctl Allow ip_nonlocal_bind] ******************************************************************
2021-10-19 15:31:50,954 p=77482 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 15:31:51,091 p=77482 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 15:31:51,115 p=77482 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 15:31:51,155 p=77482 u=eduardgevorkyan n=ansible | TASK [sparknsh.keepalived : Keepalived | Configure keepalived] ***************************************************************************
2021-10-19 15:31:57,210 p=77482 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 15:31:57,324 p=77482 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 15:31:57,358 p=77482 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 15:31:57,451 p=77482 u=eduardgevorkyan n=ansible | RUNNING HANDLER [sparknsh.keepalived : Restart keepalived] *******************************************************************************
2021-10-19 15:32:00,790 p=77482 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 15:32:00,871 p=77482 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 15:32:00,878 p=77482 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 15:32:00,918 p=77482 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-19 15:32:00,919 p=77482 u=eduardgevorkyan n=ansible | k3s1                       : ok=6    changed=5    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-10-19 15:32:00,920 p=77482 u=eduardgevorkyan n=ansible | k3s2                       : ok=6    changed=5    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-10-19 15:32:00,920 p=77482 u=eduardgevorkyan n=ansible | k3s3                       : ok=6    changed=5    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-10-19 16:02:19,179 p=79206 u=eduardgevorkyan n=ansible | PLAY [Build a cluster with HA control plane] *********************************************************************************************
2021-10-19 16:02:19,204 p=79206 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-19 16:02:24,704 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 16:02:24,895 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 16:02:24,938 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:02:24,988 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check that k3s_state is a supported value] ************************************************************************
2021-10-19 16:02:25,119 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "k3s_state is valid."
}
2021-10-19 16:02:25,174 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "k3s_state is valid."
}
2021-10-19 16:02:25,295 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "k3s_state is valid."
}
2021-10-19 16:02:25,362 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check that Ansible v2.11.6 is supported by this role] *************************************************************
2021-10-19 16:02:25,444 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost] => {
    "changed": false,
    "msg": "Ansible v2.11.6 is supported."
}
2021-10-19 16:02:25,468 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-19 16:02:25,876 p=79206 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/validate/environment/remote/cgroups.yml for k3s1, k3s2, k3s3 => (item={'name': 'memory', 'documentation': 'If you are running on a Raspberry Pi, see:\nhttps://rancher.com/docs/k3s/latest/en/advanced/#enabling-cgroups-for-raspbian-buster\n'})
2021-10-19 16:02:25,880 p=79206 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/validate/environment/remote/cgroups.yml for k3s1, k3s2, k3s3 => (item={'name': 'cpuset', 'documentation': 'If you are running Alpine Linux, see:\nhttps://rancher.com/docs/k3s/latest/en/advanced/#additional-preparation-for-alpine-linux-setup\n'})
2021-10-19 16:02:25,926 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if memory cgroup is enabled] ********************************************************************************
2021-10-19 16:02:28,330 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 16:02:28,368 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 16:02:28,371 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:02:28,422 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Fail if memory cgroup is not enabled] *****************************************************************************
2021-10-19 16:02:28,601 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "memory cgroup enabled."
}
2021-10-19 16:02:28,625 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "memory cgroup enabled."
}
2021-10-19 16:02:28,686 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "memory cgroup enabled."
}
2021-10-19 16:02:28,723 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if cpuset cgroup is enabled] ********************************************************************************
2021-10-19 16:02:30,698 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:02:30,799 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 16:02:30,970 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 16:02:31,030 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Fail if cpuset cgroup is not enabled] *****************************************************************************
2021-10-19 16:02:31,194 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "cpuset cgroup enabled."
}
2021-10-19 16:02:31,202 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "cpuset cgroup enabled."
}
2021-10-19 16:02:31,261 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "cpuset cgroup enabled."
}
2021-10-19 16:02:31,280 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-19 16:02:31,617 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-19 16:02:31,748 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:02:31,768 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:02:31,824 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:02:31,853 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-19 16:02:32,493 p=79206 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/state-installed.yml for k3s1, k3s2, k3s3
2021-10-19 16:02:32,554 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s_build_cluster is false if running against a single node.] **********************************************
2021-10-19 16:02:32,663 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:02:32,799 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:02:32,868 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:02:32,896 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s control node fact is set] ******************************************************************************
2021-10-19 16:02:33,019 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:02:33,031 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:02:33,146 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:02:33,188 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s primary control node fact is set] **********************************************************************
2021-10-19 16:02:33,319 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:02:33,362 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 16:02:33,454 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 16:02:33,569 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s control plane port is captured] ************************************************************************
2021-10-19 16:02:33,762 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s1 -> k3s_primary_control_node]
2021-10-19 16:02:33,778 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s2 -> k3s_primary_control_node]
2021-10-19 16:02:33,887 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s3 -> k3s_primary_control_node]
2021-10-19 16:02:33,945 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s node IP is configured when node-ip is defined] *********************************************************
2021-10-19 16:02:34,123 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:02:34,139 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:02:34,203 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:02:34,230 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure a count of control nodes is generated from ansible_play_hosts] *********************************************
2021-10-19 16:02:34,515 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=k3s1)
2021-10-19 16:02:34,694 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=k3s1)
2021-10-19 16:02:34,761 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=k3s2)
2021-10-19 16:02:34,898 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=k3s1)
2021-10-19 16:02:34,969 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=k3s2)
2021-10-19 16:02:34,996 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=k3s3)
2021-10-19 16:02:35,112 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=k3s2)
2021-10-19 16:02:35,188 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=k3s3)
2021-10-19 16:02:35,283 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=k3s3)
2021-10-19 16:02:35,346 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Set the control host] *********************************************************************************************
2021-10-19 16:02:35,486 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:02:35,487 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:02:35,593 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:02:35,636 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure a count of control nodes is generated] *********************************************************************
2021-10-19 16:02:35,750 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s1) 
2021-10-19 16:02:35,783 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s2) 
2021-10-19 16:02:35,842 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s3) 
2021-10-19 16:02:35,901 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=k3s1) 
2021-10-19 16:02:35,946 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=k3s2) 
2021-10-19 16:02:36,000 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=k3s3) 
2021-10-19 16:02:36,058 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=k3s1) 
2021-10-19 16:02:36,092 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=k3s2) 
2021-10-19 16:02:36,121 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=k3s3) 
2021-10-19 16:02:36,159 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure a primary k3s control node is defined if multiple are found in ansible_play_hosts] *************************
2021-10-19 16:02:36,318 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:02:36,363 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:02:36,450 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:02:36,498 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure ansible_host is mapped to inventory_hostname] **************************************************************
2021-10-19 16:02:39,768 p=79206 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 16:02:39,794 p=79206 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 16:02:39,794 p=79206 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 16:02:39,831 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Lookup control node from file] ************************************************************************************
2021-10-19 16:02:41,930 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:02:41,957 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 16:02:41,977 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 16:02:42,025 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure control node is delegated for obtaining a cluster token] ***************************************************
2021-10-19 16:02:42,202 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:02:42,316 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 16:02:42,395 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 16:02:42,455 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure the node registration address is defined from k3s_control_node_address] ************************************
2021-10-19 16:02:42,581 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:02:42,697 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:02:42,828 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:02:42,901 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure the node registration address is defined from node-ip] *****************************************************
2021-10-19 16:02:43,019 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:02:43,152 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:02:43,242 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:02:43,310 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure the node registration address is defined] ******************************************************************
2021-10-19 16:02:43,544 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:02:43,552 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:02:43,666 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:02:43,721 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s_runtime_config is set for agents] **********************************************************************
2021-10-19 16:02:43,910 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:02:43,923 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:02:44,028 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:02:44,083 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if kubectl exists] ******************************************************************************************
2021-10-19 16:02:47,142 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:02:47,286 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 16:02:47,320 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 16:02:47,406 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Gather a list of nodes] *******************************************************************************************
2021-10-19 16:02:47,573 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:02:47,695 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure uninstalled nodes are drained] *****************************************************************************
2021-10-19 16:02:47,894 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s1) 
2021-10-19 16:02:47,975 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s2) 
2021-10-19 16:02:48,011 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s3) 
2021-10-19 16:02:48,115 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure uninstalled nodes are removed] *****************************************************************************
2021-10-19 16:02:48,233 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s1) 
2021-10-19 16:02:48,283 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s2) 
2021-10-19 16:02:48,352 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s3) 
2021-10-19 16:02:48,400 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s_release_version is set to default if false] ************************************************************
2021-10-19 16:02:48,479 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:02:48,594 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:02:48,652 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:02:48,728 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure the default release channel is set] ************************************************************************
2021-10-19 16:02:48,860 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:02:48,941 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:02:49,018 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:02:49,130 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Get the latest release version from k3s.io] ***********************************************************************
2021-10-19 16:02:49,287 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:02:49,419 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:02:49,546 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:02:49,647 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure the release version is set as a fact] **********************************************************************
2021-10-19 16:02:49,743 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:02:49,896 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:02:50,090 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:02:50,174 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check that k3s_release_version >= 1.19.3] *************************************************************************
2021-10-19 16:02:50,716 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "v1.22.2+k3s2 is supported by this role."
}
2021-10-19 16:02:51,002 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "v1.22.2+k3s2 is supported by this role."
}
2021-10-19 16:02:51,135 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "v1.22.2+k3s2 is supported by this role."
}
2021-10-19 16:02:51,224 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check configuration in k3s_server and k3s_agent that needs alternate configuration] *******************************
2021-10-19 16:02:51,700 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'server', 'correction': 'k3s_registration_address'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_registration_address",
        "setting": "server"
    },
    "msg": "server not found in server/agent config"
}
2021-10-19 16:02:51,799 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'cluster-init', 'correction': 'k3s_etcd_datastore'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_etcd_datastore",
        "setting": "cluster-init"
    },
    "msg": "cluster-init not found in server/agent config"
}
2021-10-19 16:02:51,803 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'server', 'correction': 'k3s_registration_address'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_registration_address",
        "setting": "server"
    },
    "msg": "server not found in server/agent config"
}
2021-10-19 16:02:51,987 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'cluster-init', 'correction': 'k3s_etcd_datastore'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_etcd_datastore",
        "setting": "cluster-init"
    },
    "msg": "cluster-init not found in server/agent config"
}
2021-10-19 16:02:52,005 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'token', 'correction': 'k3s_control_token'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_control_token",
        "setting": "token"
    },
    "msg": "token not found in server/agent config"
}
2021-10-19 16:02:52,011 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'server', 'correction': 'k3s_registration_address'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_registration_address",
        "setting": "server"
    },
    "msg": "server not found in server/agent config"
}
2021-10-19 16:02:52,270 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'token', 'correction': 'k3s_control_token'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_control_token",
        "setting": "token"
    },
    "msg": "token not found in server/agent config"
}
2021-10-19 16:02:52,272 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'token-file', 'correction': 'k3s_token_location'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_token_location",
        "setting": "token-file"
    },
    "msg": "token-file not found in server/agent config"
}
2021-10-19 16:02:52,286 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'cluster-init', 'correction': 'k3s_etcd_datastore'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_etcd_datastore",
        "setting": "cluster-init"
    },
    "msg": "cluster-init not found in server/agent config"
}
2021-10-19 16:02:52,294 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'token-file', 'correction': 'k3s_token_location'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_token_location",
        "setting": "token-file"
    },
    "msg": "token-file not found in server/agent config"
}
2021-10-19 16:02:52,310 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'token', 'correction': 'k3s_control_token'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_control_token",
        "setting": "token"
    },
    "msg": "token not found in server/agent config"
}
2021-10-19 16:02:52,354 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'token-file', 'correction': 'k3s_token_location'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_token_location",
        "setting": "token-file"
    },
    "msg": "token-file not found in server/agent config"
}
2021-10-19 16:02:52,414 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check configuration in k3s_server and k3s_agent for deprecated configuration] *************************************
2021-10-19 16:02:52,644 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'no-flannel', 'correction': "flannel-backend: 'none'"}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "flannel-backend: 'none'",
        "setting": "no-flannel"
    },
    "msg": "no-flannel not found in server/agent config"
}
2021-10-19 16:02:52,812 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'no-flannel', 'correction': "flannel-backend: 'none'"}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "flannel-backend: 'none'",
        "setting": "no-flannel"
    },
    "msg": "no-flannel not found in server/agent config"
}
2021-10-19 16:02:52,869 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'cluster-secret', 'correction': 'token'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "token",
        "setting": "cluster-secret"
    },
    "msg": "cluster-secret not found in server/agent config"
}
2021-10-19 16:02:53,010 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'no-flannel', 'correction': "flannel-backend: 'none'"}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "flannel-backend: 'none'",
        "setting": "no-flannel"
    },
    "msg": "no-flannel not found in server/agent config"
}
2021-10-19 16:02:53,014 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'cluster-secret', 'correction': 'token'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "token",
        "setting": "cluster-secret"
    },
    "msg": "cluster-secret not found in server/agent config"
}
2021-10-19 16:02:53,086 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'no-deploy', 'correction': 'disable: VALUE'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "disable: VALUE",
        "setting": "no-deploy"
    },
    "msg": "no-deploy not found in server/agent config"
}
2021-10-19 16:02:53,231 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'cluster-secret', 'correction': 'token'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "token",
        "setting": "cluster-secret"
    },
    "msg": "cluster-secret not found in server/agent config"
}
2021-10-19 16:02:53,308 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'no-deploy', 'correction': 'disable: VALUE'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "disable: VALUE",
        "setting": "no-deploy"
    },
    "msg": "no-deploy not found in server/agent config"
}
2021-10-19 16:02:53,328 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'docker', 'correction': 'docker: false', 'when': '1.20.0'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "docker: false",
        "setting": "docker",
        "when": "1.20.0"
    },
    "msg": "docker not found in server/agent config"
}
2021-10-19 16:02:53,476 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'no-deploy', 'correction': 'disable: VALUE'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "disable: VALUE",
        "setting": "no-deploy"
    },
    "msg": "no-deploy not found in server/agent config"
}
2021-10-19 16:02:53,501 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'docker', 'correction': 'docker: false', 'when': '1.20.0'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "docker: false",
        "setting": "docker",
        "when": "1.20.0"
    },
    "msg": "docker not found in server/agent config"
}
2021-10-19 16:02:53,640 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'docker', 'correction': 'docker: false', 'when': '1.20.0'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "docker: false",
        "setting": "docker",
        "when": "1.20.0"
    },
    "msg": "docker not found in server/agent config"
}
2021-10-19 16:02:53,687 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check configuration in k3s_server and k3s_agent against release version] ******************************************
2021-10-19 16:02:53,840 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'etcd-s3-bucket', 'version': '1.20.6'}) 
2021-10-19 16:02:53,966 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'etcd-s3-bucket', 'version': '1.20.6'}) 
2021-10-19 16:02:54,044 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'etcd-s3-bucket', 'version': '1.20.6'}) 
2021-10-19 16:02:54,099 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if embedded etcd datastore is enabled and marked as experimental] *******************************************
2021-10-19 16:02:54,248 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:02:54,249 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:02:54,298 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:02:54,351 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if any experimental variables are configure and if they are enabled with k3s_use_experimental] **************
2021-10-19 16:02:54,508 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'selinux', 'until': '1.19.4'}) 
2021-10-19 16:02:54,576 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'rootless'}) 
2021-10-19 16:02:54,660 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'selinux', 'until': '1.19.4'}) 
2021-10-19 16:02:54,727 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'secrets-encryption'}) 
2021-10-19 16:02:54,806 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'rootless'}) 
2021-10-19 16:02:54,858 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'agent-token'}) 
2021-10-19 16:02:54,873 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'selinux', 'until': '1.19.4'}) 
2021-10-19 16:02:54,950 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'secrets-encryption'}) 
2021-10-19 16:02:54,983 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'agent-token-file'}) 
2021-10-19 16:02:55,007 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'rootless'}) 
2021-10-19 16:02:55,088 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'agent-token'}) 
2021-10-19 16:02:55,142 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'cluster-reset', 'until': '1.19.5'}) 
2021-10-19 16:02:55,157 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'secrets-encryption'}) 
2021-10-19 16:02:55,243 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'agent-token-file'}) 
2021-10-19 16:02:55,262 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'agent-token'}) 
2021-10-19 16:02:55,320 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'cluster-reset', 'until': '1.19.5'}) 
2021-10-19 16:02:55,362 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'agent-token-file'}) 
2021-10-19 16:02:55,410 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'cluster-reset', 'until': '1.19.5'}) 
2021-10-19 16:02:55,472 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if newuidmap is available] **********************************************************************************
2021-10-19 16:02:55,654 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:02:55,674 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:02:55,730 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:02:55,777 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if /proc/sys/kernel/unprivileged_userns_clone exists] *******************************************************
2021-10-19 16:02:56,001 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:02:56,017 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:02:56,081 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:02:56,102 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Get the value of /proc/sys/kernel/unprivileged_userns_clone] ******************************************************
2021-10-19 16:02:56,304 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:02:56,325 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:02:56,417 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:02:56,457 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Set the value of k3s_get_unprivileged_userns_clone] ***************************************************************
2021-10-19 16:02:56,654 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:02:56,688 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:02:56,783 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:02:56,831 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Get the value of /proc/sys/user/max_user_namespaces] **************************************************************
2021-10-19 16:02:56,958 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:02:56,972 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:02:57,050 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:02:57,097 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Get the contents of /etc/subuid] **********************************************************************************
2021-10-19 16:02:57,253 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:02:57,268 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:02:57,353 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:02:57,394 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Get the contents of /etc/subgid] **********************************************************************************
2021-10-19 16:02:57,583 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:02:57,664 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:02:57,740 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:02:57,763 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Get current user subuid and subgid values] ************************************************************************
2021-10-19 16:02:57,931 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:02:57,952 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:02:58,053 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:02:58,095 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check user namespaces kernel parameters are adequate] *************************************************************
2021-10-19 16:02:58,217 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:02:58,232 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:02:58,343 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:02:58,393 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check the conditions when a single controller is defined] *********************************************************
2021-10-19 16:02:58,552 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:02:58,590 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:02:58,650 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:02:58,723 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check the conditions when multiple controllers are defined] *******************************************************
2021-10-19 16:02:58,964 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "Control plane configuration is valid."
}
2021-10-19 16:02:59,038 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "Control plane configuration is valid."
}
2021-10-19 16:02:59,133 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "Control plane configuration is valid."
}
2021-10-19 16:02:59,166 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check the conditions when embedded etcd is defined] ***************************************************************
2021-10-19 16:02:59,332 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:02:59,346 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:02:59,403 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:02:59,433 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure systemd context is correct if we are running k3s rootless] *************************************************
2021-10-19 16:02:59,661 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:02:59,725 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:02:59,775 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:02:59,797 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-19 16:02:59,966 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:02:59,969 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:03:00,053 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:03:00,141 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure docker is installed] ***************************************************************************************
2021-10-19 16:03:00,325 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:03:00,338 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:03:00,455 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:03:00,527 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-19 16:03:00,666 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:03:00,795 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:03:00,884 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:03:00,935 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Flush Handlers] ***************************************************************************************************
2021-10-19 16:03:00,954 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure target host architecture information is set as a fact] *****************************************************
2021-10-19 16:03:01,044 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:03:01,166 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 16:03:01,259 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 16:03:01,368 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure URLs are set as facts for downloading binaries] ************************************************************
2021-10-19 16:03:01,644 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:03:01,668 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 16:03:01,796 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 16:03:01,875 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Override k3s_binary_url and k3s_hash_url facts for testing specific commit] ***************************************
2021-10-19 16:03:02,044 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:03:02,211 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:03:02,289 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:03:02,369 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure the k3s hashsum is downloaded] *****************************************************************************
2021-10-19 16:03:07,902 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:03:07,924 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 16:03:07,933 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 16:03:08,029 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure sha256sum is set from hashsum variable] ********************************************************************
2021-10-19 16:03:08,189 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:03:08,206 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 16:03:08,274 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 16:03:08,376 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure installation directory exists] *****************************************************************************
2021-10-19 16:03:10,769 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:03:10,917 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 16:03:10,978 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 16:03:11,001 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s binary is downloaded] **********************************************************************************
2021-10-19 16:04:13,265 p=79206 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 16:04:13,266 p=79206 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 16:04:13,268 p=79206 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 16:04:13,295 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure that the manifests directory exists] ***********************************************************************
2021-10-19 16:04:13,437 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:04:13,524 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:04:13,679 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:04:13,734 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure auto-deploying manifests are copied to the primary controller] *********************************************
2021-10-19 16:04:13,932 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure that the manifests directory exists] ***********************************************************************
2021-10-19 16:04:14,176 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:04:14,192 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:04:14,277 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:04:14,341 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure auto-deploying manifests are downloaded to the primary controller] *****************************************
2021-10-19 16:04:14,717 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure that the pod-manifests directory exists] *******************************************************************
2021-10-19 16:04:15,289 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:04:15,544 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:04:16,028 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:04:16,707 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure static pod manifests are copied to controllers] ************************************************************
2021-10-19 16:04:17,433 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure that the pod-manifests directory exists] *******************************************************************
2021-10-19 16:04:17,637 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:04:17,679 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:04:17,797 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:04:17,845 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure auto-deploying manifests are downloaded to the primary controller] *****************************************
2021-10-19 16:04:17,985 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure that the config.yaml.d directory exists] *******************************************************************
2021-10-19 16:04:18,162 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:04:18,168 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:04:18,263 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:04:18,287 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure configuration files are copied to controllers] *************************************************************
2021-10-19 16:04:18,441 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure that the config.yaml.d directory exists] *******************************************************************
2021-10-19 16:04:18,604 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:04:18,621 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:04:18,710 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:04:18,731 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure configuration files are copied to agents] ******************************************************************
2021-10-19 16:04:18,858 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-19 16:04:19,288 p=79206 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-directories.yml for k3s1, k3s2, k3s3 => (item={'name': 'Config directory', 'path': '/etc/rancher/k3s'})
2021-10-19 16:04:19,292 p=79206 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-directories.yml for k3s1, k3s2, k3s3 => (item={'name': 'Config.yaml.d directory', 'path': '/etc/rancher/k3s/config.yaml.d'})
2021-10-19 16:04:19,295 p=79206 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-directories.yml for k3s1, k3s2, k3s3 => (item={'name': 'Systemd unit file directory', 'path': '/etc/systemd/system'})
2021-10-19 16:04:19,305 p=79206 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-directories.yml for k3s1, k3s2, k3s3 => (item={'name': 'Data directory', 'path': '/var/lib/rancher/k3s'})
2021-10-19 16:04:19,310 p=79206 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-directories.yml for k3s1, k3s2, k3s3 => (item={'name': 'Default local storage path', 'path': '__omit_place_holder__6ed9b3c516f7aa729fd3f8f750e4dd852fac3860'})
2021-10-19 16:04:19,325 p=79206 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-directories.yml for k3s1, k3s2, k3s3 => (item={'name': 'Private registry config file', 'path': ''})
2021-10-19 16:04:19,421 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure Config directory exists] ***********************************************************************************
2021-10-19 16:04:21,680 p=79206 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 16:04:21,786 p=79206 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 16:04:21,960 p=79206 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 16:04:22,051 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure Config.yaml.d directory exists] ****************************************************************************
2021-10-19 16:04:24,413 p=79206 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 16:04:24,491 p=79206 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 16:04:24,678 p=79206 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 16:04:24,715 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure Systemd unit file directory exists] ************************************************************************
2021-10-19 16:04:27,137 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:04:27,158 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 16:04:27,279 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 16:04:27,304 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure Data directory exists] *************************************************************************************
2021-10-19 16:04:29,669 p=79206 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 16:04:29,963 p=79206 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 16:04:29,989 p=79206 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 16:04:30,043 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure Default local storage path exists] *************************************************************************
2021-10-19 16:04:30,178 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:04:30,199 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:04:30,299 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:04:30,367 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure Private registry config file exists] ***********************************************************************
2021-10-19 16:04:30,515 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:04:30,521 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:04:30,580 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:04:30,618 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-19 16:04:30,841 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:04:30,885 p=79206 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:04:30,926 p=79206 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-node.yml for k3s1
2021-10-19 16:04:30,989 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s is linked into the installation destination] ***********************************************************
2021-10-19 16:04:32,650 p=79206 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=k3s)
2021-10-19 16:04:34,421 p=79206 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=kubectl)
2021-10-19 16:04:35,933 p=79206 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=crictl)
2021-10-19 16:04:37,438 p=79206 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=ctr)
2021-10-19 16:04:37,480 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s config file exists] ************************************************************************************
2021-10-19 16:04:41,155 p=79206 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 16:04:41,176 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s service unit file is present] **************************************************************************
2021-10-19 16:04:44,586 p=79206 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 16:04:44,607 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s killall script is present] *****************************************************************************
2021-10-19 16:04:47,629 p=79206 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 16:04:47,708 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s uninstall script is present] ***************************************************************************
2021-10-19 16:04:50,624 p=79206 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 16:04:50,644 p=79206 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Flush Handlers] ***************************************************************************************************
2021-10-19 16:04:50,644 p=79206 u=eduardgevorkyan n=ansible | RUNNING HANDLER [xanmanning.k3s : reload systemd] ****************************************************************************************
2021-10-19 16:04:54,389 p=79206 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:04:54,394 p=79206 u=eduardgevorkyan n=ansible | RUNNING HANDLER [xanmanning.k3s : restart k3s] *******************************************************************************************
2021-10-19 16:05:45,445 p=79206 u=eduardgevorkyan n=ansible | fatal: [k3s1]: FAILED! => {"changed": false, "failed_when_result": true, "msg": "Unable to start service k3s: Job for k3s.service failed because the control process exited with error code.\nSee \"systemctl status k3s.service\" and \"journalctl -xeu k3s.service\" for details.\n"}
2021-10-19 16:05:45,454 p=79206 u=eduardgevorkyan n=ansible | NO MORE HOSTS LEFT ***********************************************************************************************************************
2021-10-19 16:05:45,462 p=79206 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-19 16:05:45,462 p=79206 u=eduardgevorkyan n=ansible | k3s1                       : ok=45   changed=10   unreachable=0    failed=1    skipped=51   rescued=0    ignored=0   
2021-10-19 16:05:45,463 p=79206 u=eduardgevorkyan n=ansible | k3s2                       : ok=36   changed=5    unreachable=0    failed=0    skipped=50   rescued=0    ignored=0   
2021-10-19 16:05:45,463 p=79206 u=eduardgevorkyan n=ansible | k3s3                       : ok=36   changed=5    unreachable=0    failed=0    skipped=50   rescued=0    ignored=0   
2021-10-19 16:06:05,695 p=80252 u=eduardgevorkyan n=ansible | PLAY [Build a cluster with HA control plane] *********************************************************************************************
2021-10-19 16:06:05,918 p=80252 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-19 16:06:12,016 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 16:06:13,223 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 16:06:16,888 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:06:17,000 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check that k3s_state is a supported value] ************************************************************************
2021-10-19 16:06:17,378 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "k3s_state is valid."
}
2021-10-19 16:06:17,575 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "k3s_state is valid."
}
2021-10-19 16:06:17,817 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "k3s_state is valid."
}
2021-10-19 16:06:17,925 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check that Ansible v2.11.6 is supported by this role] *************************************************************
2021-10-19 16:06:18,160 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost] => {
    "changed": false,
    "msg": "Ansible v2.11.6 is supported."
}
2021-10-19 16:06:18,228 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-19 16:06:18,773 p=80252 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/validate/environment/remote/cgroups.yml for k3s1, k3s2, k3s3 => (item={'name': 'memory', 'documentation': 'If you are running on a Raspberry Pi, see:\nhttps://rancher.com/docs/k3s/latest/en/advanced/#enabling-cgroups-for-raspbian-buster\n'})
2021-10-19 16:06:18,778 p=80252 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/validate/environment/remote/cgroups.yml for k3s1, k3s2, k3s3 => (item={'name': 'cpuset', 'documentation': 'If you are running Alpine Linux, see:\nhttps://rancher.com/docs/k3s/latest/en/advanced/#additional-preparation-for-alpine-linux-setup\n'})
2021-10-19 16:06:18,887 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if memory cgroup is enabled] ********************************************************************************
2021-10-19 16:06:22,049 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 16:06:22,311 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 16:06:23,088 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:06:23,113 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Fail if memory cgroup is not enabled] *****************************************************************************
2021-10-19 16:06:23,321 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "memory cgroup enabled."
}
2021-10-19 16:06:23,390 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "memory cgroup enabled."
}
2021-10-19 16:06:23,480 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "memory cgroup enabled."
}
2021-10-19 16:06:23,505 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if cpuset cgroup is enabled] ********************************************************************************
2021-10-19 16:06:25,897 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 16:06:26,006 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 16:06:26,916 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:06:26,992 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Fail if cpuset cgroup is not enabled] *****************************************************************************
2021-10-19 16:06:27,218 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "cpuset cgroup enabled."
}
2021-10-19 16:06:27,293 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "cpuset cgroup enabled."
}
2021-10-19 16:06:27,369 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "cpuset cgroup enabled."
}
2021-10-19 16:06:27,456 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-19 16:06:27,899 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-19 16:06:28,093 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:06:28,098 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:06:28,199 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:06:28,268 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-19 16:06:29,424 p=80252 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/state-installed.yml for k3s1, k3s2, k3s3
2021-10-19 16:06:29,567 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s_build_cluster is false if running against a single node.] **********************************************
2021-10-19 16:06:29,731 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:06:29,888 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:06:29,984 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:06:30,090 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s control node fact is set] ******************************************************************************
2021-10-19 16:06:30,450 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:06:30,462 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:06:30,624 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:06:30,681 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s primary control node fact is set] **********************************************************************
2021-10-19 16:06:31,243 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:06:31,524 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 16:06:31,832 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 16:06:32,037 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s control plane port is captured] ************************************************************************
2021-10-19 16:06:33,506 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1 -> k3s_primary_control_node]
2021-10-19 16:06:33,667 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2 -> k3s_primary_control_node]
2021-10-19 16:06:34,335 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3 -> k3s_primary_control_node]
2021-10-19 16:06:34,455 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s node IP is configured when node-ip is defined] *********************************************************
2021-10-19 16:06:34,845 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:06:35,007 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:06:35,160 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:06:35,282 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure a count of control nodes is generated from ansible_play_hosts] *********************************************
2021-10-19 16:06:35,962 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=k3s1)
2021-10-19 16:06:36,296 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=k3s1)
2021-10-19 16:06:36,615 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=k3s2)
2021-10-19 16:06:36,702 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=k3s1)
2021-10-19 16:06:36,931 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=k3s2)
2021-10-19 16:06:37,333 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=k3s3)
2021-10-19 16:06:37,530 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=k3s2)
2021-10-19 16:06:37,657 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=k3s3)
2021-10-19 16:06:37,854 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=k3s3)
2021-10-19 16:06:37,924 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Set the control host] *********************************************************************************************
2021-10-19 16:06:38,153 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:06:38,340 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:06:38,449 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:06:38,543 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure a count of control nodes is generated] *********************************************************************
2021-10-19 16:06:38,870 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s1) 
2021-10-19 16:06:38,940 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s2) 
2021-10-19 16:06:39,120 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s3) 
2021-10-19 16:06:39,148 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=k3s1) 
2021-10-19 16:06:39,251 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=k3s2) 
2021-10-19 16:06:39,344 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=k3s3) 
2021-10-19 16:06:39,503 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=k3s1) 
2021-10-19 16:06:39,535 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=k3s2) 
2021-10-19 16:06:39,583 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=k3s3) 
2021-10-19 16:06:39,685 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure a primary k3s control node is defined if multiple are found in ansible_play_hosts] *************************
2021-10-19 16:06:40,095 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:06:40,179 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:06:40,332 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:06:40,420 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure ansible_host is mapped to inventory_hostname] **************************************************************
2021-10-19 16:06:45,909 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 16:06:46,319 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 16:06:47,295 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:06:47,412 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Lookup control node from file] ************************************************************************************
2021-10-19 16:06:50,432 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 16:06:50,694 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 16:06:52,231 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:06:52,284 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure control node is delegated for obtaining a cluster token] ***************************************************
2021-10-19 16:06:52,547 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:06:52,640 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 16:06:52,722 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 16:06:52,759 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure the node registration address is defined from k3s_control_node_address] ************************************
2021-10-19 16:06:52,995 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:06:53,022 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:06:53,122 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:06:53,188 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure the node registration address is defined from node-ip] *****************************************************
2021-10-19 16:06:53,431 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:06:53,436 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:06:53,528 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:06:53,613 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure the node registration address is defined] ******************************************************************
2021-10-19 16:06:53,878 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:06:53,903 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:06:54,055 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:06:54,166 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s_runtime_config is set for agents] **********************************************************************
2021-10-19 16:06:54,454 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:06:54,459 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:06:54,587 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:06:54,638 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if kubectl exists] ******************************************************************************************
2021-10-19 16:06:58,118 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 16:06:58,237 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 16:06:58,960 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:06:59,006 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Gather a list of nodes] *******************************************************************************************
2021-10-19 16:07:01,883 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1 -> k3s1]
2021-10-19 16:07:01,960 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure uninstalled nodes are drained] *****************************************************************************
2021-10-19 16:07:02,135 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s1) 
2021-10-19 16:07:02,216 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s2) 
2021-10-19 16:07:02,292 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s3) 
2021-10-19 16:07:02,357 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure uninstalled nodes are removed] *****************************************************************************
2021-10-19 16:07:02,493 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s1) 
2021-10-19 16:07:02,556 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s2) 
2021-10-19 16:07:02,649 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s3) 
2021-10-19 16:07:02,689 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s_release_version is set to default if false] ************************************************************
2021-10-19 16:07:02,901 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:07:02,904 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:07:02,965 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:07:03,019 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure the default release channel is set] ************************************************************************
2021-10-19 16:07:03,140 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:07:03,147 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:07:03,228 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:07:03,297 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Get the latest release version from k3s.io] ***********************************************************************
2021-10-19 16:07:03,451 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:07:03,539 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:07:03,619 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:07:03,666 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure the release version is set as a fact] **********************************************************************
2021-10-19 16:07:03,812 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:07:03,909 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:07:03,978 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:07:04,048 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check that k3s_release_version >= 1.19.3] *************************************************************************
2021-10-19 16:07:04,418 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "v1.22.2+k3s2 is supported by this role."
}
2021-10-19 16:07:04,545 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "v1.22.2+k3s2 is supported by this role."
}
2021-10-19 16:07:04,674 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "v1.22.2+k3s2 is supported by this role."
}
2021-10-19 16:07:04,727 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check configuration in k3s_server and k3s_agent that needs alternate configuration] *******************************
2021-10-19 16:07:05,170 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'server', 'correction': 'k3s_registration_address'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_registration_address",
        "setting": "server"
    },
    "msg": "server not found in server/agent config"
}
2021-10-19 16:07:05,456 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'cluster-init', 'correction': 'k3s_etcd_datastore'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_etcd_datastore",
        "setting": "cluster-init"
    },
    "msg": "cluster-init not found in server/agent config"
}
2021-10-19 16:07:05,462 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'server', 'correction': 'k3s_registration_address'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_registration_address",
        "setting": "server"
    },
    "msg": "server not found in server/agent config"
}
2021-10-19 16:07:05,658 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'cluster-init', 'correction': 'k3s_etcd_datastore'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_etcd_datastore",
        "setting": "cluster-init"
    },
    "msg": "cluster-init not found in server/agent config"
}
2021-10-19 16:07:05,676 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'server', 'correction': 'k3s_registration_address'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_registration_address",
        "setting": "server"
    },
    "msg": "server not found in server/agent config"
}
2021-10-19 16:07:05,711 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'token', 'correction': 'k3s_control_token'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_control_token",
        "setting": "token"
    },
    "msg": "token not found in server/agent config"
}
2021-10-19 16:07:05,992 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'token', 'correction': 'k3s_control_token'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_control_token",
        "setting": "token"
    },
    "msg": "token not found in server/agent config"
}
2021-10-19 16:07:06,027 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'cluster-init', 'correction': 'k3s_etcd_datastore'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_etcd_datastore",
        "setting": "cluster-init"
    },
    "msg": "cluster-init not found in server/agent config"
}
2021-10-19 16:07:06,199 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'token-file', 'correction': 'k3s_token_location'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_token_location",
        "setting": "token-file"
    },
    "msg": "token-file not found in server/agent config"
}
2021-10-19 16:07:06,329 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'token-file', 'correction': 'k3s_token_location'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_token_location",
        "setting": "token-file"
    },
    "msg": "token-file not found in server/agent config"
}
2021-10-19 16:07:06,393 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'token', 'correction': 'k3s_control_token'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_control_token",
        "setting": "token"
    },
    "msg": "token not found in server/agent config"
}
2021-10-19 16:07:06,507 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'token-file', 'correction': 'k3s_token_location'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_token_location",
        "setting": "token-file"
    },
    "msg": "token-file not found in server/agent config"
}
2021-10-19 16:07:06,581 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check configuration in k3s_server and k3s_agent for deprecated configuration] *************************************
2021-10-19 16:07:07,136 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'no-flannel', 'correction': "flannel-backend: 'none'"}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "flannel-backend: 'none'",
        "setting": "no-flannel"
    },
    "msg": "no-flannel not found in server/agent config"
}
2021-10-19 16:07:07,273 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'no-flannel', 'correction': "flannel-backend: 'none'"}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "flannel-backend: 'none'",
        "setting": "no-flannel"
    },
    "msg": "no-flannel not found in server/agent config"
}
2021-10-19 16:07:07,546 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'no-flannel', 'correction': "flannel-backend: 'none'"}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "flannel-backend: 'none'",
        "setting": "no-flannel"
    },
    "msg": "no-flannel not found in server/agent config"
}
2021-10-19 16:07:07,558 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'cluster-secret', 'correction': 'token'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "token",
        "setting": "cluster-secret"
    },
    "msg": "cluster-secret not found in server/agent config"
}
2021-10-19 16:07:07,692 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'cluster-secret', 'correction': 'token'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "token",
        "setting": "cluster-secret"
    },
    "msg": "cluster-secret not found in server/agent config"
}
2021-10-19 16:07:07,951 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'no-deploy', 'correction': 'disable: VALUE'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "disable: VALUE",
        "setting": "no-deploy"
    },
    "msg": "no-deploy not found in server/agent config"
}
2021-10-19 16:07:07,972 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'cluster-secret', 'correction': 'token'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "token",
        "setting": "cluster-secret"
    },
    "msg": "cluster-secret not found in server/agent config"
}
2021-10-19 16:07:08,174 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'no-deploy', 'correction': 'disable: VALUE'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "disable: VALUE",
        "setting": "no-deploy"
    },
    "msg": "no-deploy not found in server/agent config"
}
2021-10-19 16:07:08,478 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'docker', 'correction': 'docker: false', 'when': '1.20.0'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "docker: false",
        "setting": "docker",
        "when": "1.20.0"
    },
    "msg": "docker not found in server/agent config"
}
2021-10-19 16:07:08,520 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'no-deploy', 'correction': 'disable: VALUE'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "disable: VALUE",
        "setting": "no-deploy"
    },
    "msg": "no-deploy not found in server/agent config"
}
2021-10-19 16:07:08,633 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'docker', 'correction': 'docker: false', 'when': '1.20.0'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "docker: false",
        "setting": "docker",
        "when": "1.20.0"
    },
    "msg": "docker not found in server/agent config"
}
2021-10-19 16:07:08,707 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'docker', 'correction': 'docker: false', 'when': '1.20.0'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "docker: false",
        "setting": "docker",
        "when": "1.20.0"
    },
    "msg": "docker not found in server/agent config"
}
2021-10-19 16:07:08,798 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check configuration in k3s_server and k3s_agent against release version] ******************************************
2021-10-19 16:07:08,977 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'etcd-s3-bucket', 'version': '1.20.6'}) 
2021-10-19 16:07:09,087 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'etcd-s3-bucket', 'version': '1.20.6'}) 
2021-10-19 16:07:09,222 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'etcd-s3-bucket', 'version': '1.20.6'}) 
2021-10-19 16:07:09,355 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if embedded etcd datastore is enabled and marked as experimental] *******************************************
2021-10-19 16:07:09,639 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:07:09,645 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:07:09,718 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:07:09,771 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if any experimental variables are configure and if they are enabled with k3s_use_experimental] **************
2021-10-19 16:07:09,950 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'selinux', 'until': '1.19.4'}) 
2021-10-19 16:07:10,092 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'rootless'}) 
2021-10-19 16:07:10,198 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'selinux', 'until': '1.19.4'}) 
2021-10-19 16:07:10,267 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'secrets-encryption'}) 
2021-10-19 16:07:10,430 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'agent-token'}) 
2021-10-19 16:07:10,441 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'rootless'}) 
2021-10-19 16:07:10,470 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'selinux', 'until': '1.19.4'}) 
2021-10-19 16:07:10,614 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'secrets-encryption'}) 
2021-10-19 16:07:10,655 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'rootless'}) 
2021-10-19 16:07:10,661 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'agent-token-file'}) 
2021-10-19 16:07:10,832 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'agent-token'}) 
2021-10-19 16:07:10,888 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'cluster-reset', 'until': '1.19.5'}) 
2021-10-19 16:07:10,933 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'secrets-encryption'}) 
2021-10-19 16:07:11,035 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'agent-token-file'}) 
2021-10-19 16:07:11,088 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'agent-token'}) 
2021-10-19 16:07:11,244 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'cluster-reset', 'until': '1.19.5'}) 
2021-10-19 16:07:11,262 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'agent-token-file'}) 
2021-10-19 16:07:11,359 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'cluster-reset', 'until': '1.19.5'}) 
2021-10-19 16:07:11,441 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if newuidmap is available] **********************************************************************************
2021-10-19 16:07:11,695 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:07:11,719 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:07:11,828 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:07:11,899 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if /proc/sys/kernel/unprivileged_userns_clone exists] *******************************************************
2021-10-19 16:07:12,190 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:07:12,269 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:07:12,357 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:07:12,454 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Get the value of /proc/sys/kernel/unprivileged_userns_clone] ******************************************************
2021-10-19 16:07:12,654 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:07:12,720 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:07:12,828 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:07:12,907 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Set the value of k3s_get_unprivileged_userns_clone] ***************************************************************
2021-10-19 16:07:13,141 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:07:13,181 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:07:13,287 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:07:13,425 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Get the value of /proc/sys/user/max_user_namespaces] **************************************************************
2021-10-19 16:07:13,608 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:07:13,785 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:07:13,891 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:07:13,978 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Get the contents of /etc/subuid] **********************************************************************************
2021-10-19 16:07:14,304 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:07:14,326 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:07:14,485 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:07:14,591 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Get the contents of /etc/subgid] **********************************************************************************
2021-10-19 16:07:14,795 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:07:14,856 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:07:14,946 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:07:15,035 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Get current user subuid and subgid values] ************************************************************************
2021-10-19 16:07:15,267 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:07:15,375 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:07:15,483 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:07:15,545 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check user namespaces kernel parameters are adequate] *************************************************************
2021-10-19 16:07:15,814 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:07:15,846 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:07:16,005 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:07:16,029 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check the conditions when a single controller is defined] *********************************************************
2021-10-19 16:07:16,295 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:07:16,316 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:07:16,440 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:07:16,499 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check the conditions when multiple controllers are defined] *******************************************************
2021-10-19 16:07:16,797 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "Control plane configuration is valid."
}
2021-10-19 16:07:17,007 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "Control plane configuration is valid."
}
2021-10-19 16:07:17,166 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "Control plane configuration is valid."
}
2021-10-19 16:07:17,232 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check the conditions when embedded etcd is defined] ***************************************************************
2021-10-19 16:07:17,475 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:07:17,565 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:07:17,646 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:07:17,707 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure systemd context is correct if we are running k3s rootless] *************************************************
2021-10-19 16:07:17,955 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:07:18,056 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:07:18,124 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:07:18,198 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-19 16:07:18,478 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:07:18,485 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:07:18,567 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:07:18,641 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure docker is installed] ***************************************************************************************
2021-10-19 16:07:18,871 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:07:18,896 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:07:18,990 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:07:19,059 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-19 16:07:19,304 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:07:19,319 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:07:19,391 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:07:19,482 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Flush Handlers] ***************************************************************************************************
2021-10-19 16:07:19,536 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure target host architecture information is set as a fact] *****************************************************
2021-10-19 16:07:19,762 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:07:20,010 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 16:07:20,114 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 16:07:20,161 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure URLs are set as facts for downloading binaries] ************************************************************
2021-10-19 16:07:20,295 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:07:20,407 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 16:07:20,532 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 16:07:20,556 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Override k3s_binary_url and k3s_hash_url facts for testing specific commit] ***************************************
2021-10-19 16:07:20,759 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:07:20,763 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:07:20,900 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:07:20,941 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure the k3s hashsum is downloaded] *****************************************************************************
2021-10-19 16:07:25,649 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 16:07:25,680 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 16:07:27,729 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:07:27,915 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure sha256sum is set from hashsum variable] ********************************************************************
2021-10-19 16:07:28,439 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:07:28,506 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 16:07:28,603 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 16:07:28,662 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure installation directory exists] *****************************************************************************
2021-10-19 16:07:32,111 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 16:07:32,352 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 16:07:33,355 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:07:33,407 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s binary is downloaded] **********************************************************************************
2021-10-19 16:07:38,866 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 16:07:39,751 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 16:07:42,225 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:07:42,275 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure that the manifests directory exists] ***********************************************************************
2021-10-19 16:07:42,478 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:07:42,483 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:07:42,540 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:07:42,583 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure auto-deploying manifests are copied to the primary controller] *********************************************
2021-10-19 16:07:42,758 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure that the manifests directory exists] ***********************************************************************
2021-10-19 16:07:42,969 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:07:42,971 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:07:43,035 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:07:43,108 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure auto-deploying manifests are downloaded to the primary controller] *****************************************
2021-10-19 16:07:43,308 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure that the pod-manifests directory exists] *******************************************************************
2021-10-19 16:07:43,472 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:07:43,479 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:07:43,558 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:07:43,674 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure static pod manifests are copied to controllers] ************************************************************
2021-10-19 16:07:43,851 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure that the pod-manifests directory exists] *******************************************************************
2021-10-19 16:07:44,064 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:07:44,091 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:07:44,169 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:07:44,204 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure auto-deploying manifests are downloaded to the primary controller] *****************************************
2021-10-19 16:07:44,374 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure that the config.yaml.d directory exists] *******************************************************************
2021-10-19 16:07:44,588 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:07:44,601 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:07:44,684 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:07:44,724 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure configuration files are copied to controllers] *************************************************************
2021-10-19 16:07:44,922 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure that the config.yaml.d directory exists] *******************************************************************
2021-10-19 16:07:45,087 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:07:45,091 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:07:45,156 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:07:45,209 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure configuration files are copied to agents] ******************************************************************
2021-10-19 16:07:45,414 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-19 16:07:45,985 p=80252 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-directories.yml for k3s1, k3s2, k3s3 => (item={'name': 'Config directory', 'path': '/etc/rancher/k3s'})
2021-10-19 16:07:45,989 p=80252 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-directories.yml for k3s1, k3s2, k3s3 => (item={'name': 'Config.yaml.d directory', 'path': '/etc/rancher/k3s/config.yaml.d'})
2021-10-19 16:07:45,994 p=80252 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-directories.yml for k3s1, k3s2, k3s3 => (item={'name': 'Systemd unit file directory', 'path': '/etc/systemd/system'})
2021-10-19 16:07:46,008 p=80252 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-directories.yml for k3s1, k3s2, k3s3 => (item={'name': 'Data directory', 'path': '/var/lib/rancher/k3s'})
2021-10-19 16:07:46,037 p=80252 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-directories.yml for k3s1, k3s2, k3s3 => (item={'name': 'Default local storage path', 'path': '__omit_place_holder__efa52484ac47e0530cba2479390c795b843cf0f0'})
2021-10-19 16:07:46,071 p=80252 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-directories.yml for k3s1, k3s2, k3s3 => (item={'name': 'Private registry config file', 'path': ''})
2021-10-19 16:07:46,140 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure Config directory exists] ***********************************************************************************
2021-10-19 16:07:48,691 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 16:07:48,761 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 16:07:50,240 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:07:50,336 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure Config.yaml.d directory exists] ****************************************************************************
2021-10-19 16:07:53,099 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 16:07:53,515 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 16:07:54,627 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:07:54,728 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure Systemd unit file directory exists] ************************************************************************
2021-10-19 16:07:57,732 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 16:07:57,886 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 16:07:59,063 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:07:59,114 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure Data directory exists] *************************************************************************************
2021-10-19 16:08:02,024 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 16:08:02,137 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 16:08:03,215 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:08:03,293 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure Default local storage path exists] *************************************************************************
2021-10-19 16:08:03,490 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:08:03,523 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:08:03,650 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:08:03,736 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure Private registry config file exists] ***********************************************************************
2021-10-19 16:08:03,942 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:08:03,954 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:08:04,036 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:08:04,121 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-19 16:08:04,321 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:08:04,429 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:08:04,504 p=80252 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-node.yml for k3s1
2021-10-19 16:08:04,636 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s is linked into the installation destination] ***********************************************************
2021-10-19 16:08:07,467 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=k3s)
2021-10-19 16:08:11,044 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=kubectl)
2021-10-19 16:08:15,077 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=crictl)
2021-10-19 16:08:18,119 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=ctr)
2021-10-19 16:08:18,170 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s config file exists] ************************************************************************************
2021-10-19 16:08:25,211 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:08:25,287 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s service unit file is present] **************************************************************************
2021-10-19 16:08:30,682 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:08:30,746 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s killall script is present] *****************************************************************************
2021-10-19 16:08:37,343 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:08:37,405 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s uninstall script is present] ***************************************************************************
2021-10-19 16:08:42,977 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:08:43,059 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Flush Handlers] ***************************************************************************************************
2021-10-19 16:08:43,167 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-19 16:08:43,489 p=80252 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-node.yml for k3s1, k3s2, k3s3
2021-10-19 16:08:43,652 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s is linked into the installation destination] ***********************************************************
2021-10-19 16:08:46,597 p=80252 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=k3s)
2021-10-19 16:08:47,771 p=80252 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=k3s)
2021-10-19 16:08:48,571 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=k3s)
2021-10-19 16:08:49,904 p=80252 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=kubectl)
2021-10-19 16:08:50,852 p=80252 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=kubectl)
2021-10-19 16:08:52,154 p=80252 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=crictl)
2021-10-19 16:08:53,699 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=kubectl)
2021-10-19 16:08:54,133 p=80252 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=crictl)
2021-10-19 16:08:54,519 p=80252 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=ctr)
2021-10-19 16:08:57,286 p=80252 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=ctr)
2021-10-19 16:08:57,914 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=crictl)
2021-10-19 16:09:02,007 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=ctr)
2021-10-19 16:09:02,077 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s config file exists] ************************************************************************************
2021-10-19 16:09:07,563 p=80252 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 16:09:07,885 p=80252 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 16:09:09,438 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:09:09,482 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s service unit file is present] **************************************************************************
2021-10-19 16:09:15,075 p=80252 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 16:09:15,796 p=80252 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 16:09:18,067 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:09:18,134 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s killall script is present] *****************************************************************************
2021-10-19 16:09:22,957 p=80252 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 16:09:23,086 p=80252 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 16:09:25,298 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:09:25,367 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s uninstall script is present] ***************************************************************************
2021-10-19 16:09:30,111 p=80252 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 16:09:30,139 p=80252 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 16:09:33,320 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:09:33,420 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s initial control plane server is started] ***************************************************************
2021-10-19 16:09:33,783 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:09:33,881 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:09:37,861 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:09:37,922 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-19 16:09:38,356 p=80252 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/containerd/registries.yml for k3s1, k3s2, k3s3
2021-10-19 16:09:38,480 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure containerd registries file exists] *************************************************************************
2021-10-19 16:09:49,021 p=80252 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 16:09:49,330 p=80252 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 16:10:02,484 p=80252 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 16:10:02,559 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-19 16:10:02,827 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:10:02,942 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:10:03,046 p=80252 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/validate/configuration/cluster-init.yml for k3s1
2021-10-19 16:10:03,180 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check that the initial control plane server is available to accept connections] ***********************************
2021-10-19 16:10:15,512 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:10:15,620 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check that cluster-token exists] **********************************************************************************
2021-10-19 16:10:21,873 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:10:21,934 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure cluster token is captured from k3s1] ***********************************************************************
2021-10-19 16:10:30,521 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3 -> k3s1]
2021-10-19 16:10:30,710 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2 -> k3s1]
2021-10-19 16:10:30,718 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1 -> k3s1]
2021-10-19 16:10:30,773 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure cluster token is formatted correctly for use in templates] *************************************************
2021-10-19 16:10:30,982 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:10:31,074 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 16:10:31,146 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 16:10:31,196 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure dummy cluster token is defined for ansible_check_mode] *****************************************************
2021-10-19 16:10:31,448 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:10:31,490 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-19 16:10:31,601 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-19 16:10:31,651 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure the cluster token file location exists] ********************************************************************
2021-10-19 16:10:34,061 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 16:10:34,077 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 16:10:35,483 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:10:35,533 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s cluster token file is present] *************************************************************************
2021-10-19 16:10:41,219 p=80252 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 16:10:41,234 p=80252 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 16:10:43,284 p=80252 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 16:10:43,384 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s service unit file is present] **************************************************************************
2021-10-19 16:10:47,569 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 16:10:47,654 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 16:10:51,419 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:10:51,469 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s config file exists] ************************************************************************************
2021-10-19 16:10:55,630 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 16:10:55,650 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 16:10:59,089 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:10:59,158 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure secondary controllers are started] *************************************************************************
2021-10-19 16:10:59,409 p=80252 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-19 16:13:07,109 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 16:13:07,720 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 16:13:07,777 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check that the control plane is available to accept connections] **************************************************
2021-10-19 16:13:19,799 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:13:20,142 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 16:13:20,175 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 16:13:20,257 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Flush Handlers] ***************************************************************************************************
2021-10-19 16:13:20,262 p=80252 u=eduardgevorkyan n=ansible | [WARNING]: flush_handlers task does not support when conditional

2021-10-19 16:13:20,262 p=80252 u=eduardgevorkyan n=ansible | RUNNING HANDLER [xanmanning.k3s : reload systemd] ****************************************************************************************
2021-10-19 16:13:28,107 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:13:29,561 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 16:13:29,743 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 16:13:29,745 p=80252 u=eduardgevorkyan n=ansible | RUNNING HANDLER [xanmanning.k3s : restart k3s] *******************************************************************************************
2021-10-19 16:14:19,837 p=80252 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-19 16:14:26,363 p=80252 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-19 16:14:30,835 p=80252 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-19 16:14:30,896 p=80252 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check that all nodes to be ready] *********************************************************************************
2021-10-19 16:14:45,199 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-19 16:14:46,648 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-19 16:14:48,375 p=80252 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-19 16:14:48,597 p=80252 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-19 16:14:48,598 p=80252 u=eduardgevorkyan n=ansible | k3s1                       : ok=67   changed=3    unreachable=0    failed=0    skipped=52   rescued=0    ignored=0   
2021-10-19 16:14:48,601 p=80252 u=eduardgevorkyan n=ansible | k3s2                       : ok=55   changed=8    unreachable=0    failed=0    skipped=53   rescued=0    ignored=0   
2021-10-19 16:14:48,603 p=80252 u=eduardgevorkyan n=ansible | k3s3                       : ok=55   changed=8    unreachable=0    failed=0    skipped=53   rescued=0    ignored=0   
2021-10-20 12:41:00,211 p=98236 u=eduardgevorkyan n=ansible | PLAY [initial] ***************************************************************************************************************************
2021-10-20 12:41:00,268 p=98236 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-20 12:41:06,168 p=98236 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 12:41:06,255 p=98236 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 12:41:06,275 p=98236 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 12:41:06,323 p=98236 u=eduardgevorkyan n=ansible | TASK [install packages] ******************************************************************************************************************
2021-10-20 12:45:44,240 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=ansible)
2021-10-20 12:45:46,974 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=ansible)
2021-10-20 12:45:51,339 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=ansible)
2021-10-20 12:47:08,755 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=git)
2021-10-20 12:47:11,729 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=git)
2021-10-20 12:47:35,097 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=vim)
2021-10-20 12:47:38,103 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=vim)
2021-10-20 12:47:46,778 p=98236 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=net-tools)
2021-10-20 12:47:48,571 p=98236 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=net-tools)
2021-10-20 12:47:53,212 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=git)
2021-10-20 12:47:59,195 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=telnet)
2021-10-20 12:48:00,706 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=telnet)
2021-10-20 12:48:15,572 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=vim)
2021-10-20 12:48:21,078 p=98236 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=net-tools)
2021-10-20 12:48:29,478 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=telnet)
2021-10-20 12:48:29,547 p=98236 u=eduardgevorkyan n=ansible | TASK [copy hosts file] *******************************************************************************************************************
2021-10-20 12:48:35,121 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-20 12:48:35,141 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-20 12:48:35,148 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 12:48:35,180 p=98236 u=eduardgevorkyan n=ansible | TASK [open firewalld] ********************************************************************************************************************
2021-10-20 12:48:38,526 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=179/tcp)
2021-10-20 12:48:38,543 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=179/tcp)
2021-10-20 12:48:38,553 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=179/tcp)
2021-10-20 12:48:41,407 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=6443/tcp)
2021-10-20 12:48:41,551 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=6443/tcp)
2021-10-20 12:48:41,589 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=6443/tcp)
2021-10-20 12:48:44,217 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=8443/tcp)
2021-10-20 12:48:44,261 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=8443/tcp)
2021-10-20 12:48:44,430 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=8443/tcp)
2021-10-20 12:48:47,123 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=8091/tcp)
2021-10-20 12:48:47,165 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=8091/tcp)
2021-10-20 12:48:47,179 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=8091/tcp)
2021-10-20 12:48:50,126 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=8090/tcp)
2021-10-20 12:48:50,186 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=8090/tcp)
2021-10-20 12:48:50,191 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=8090/tcp)
2021-10-20 12:48:52,810 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=53/tcp)
2021-10-20 12:48:53,023 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=53/tcp)
2021-10-20 12:48:53,055 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=53/tcp)
2021-10-20 12:48:56,738 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=2376/tcp)
2021-10-20 12:48:57,029 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=2376/tcp)
2021-10-20 12:48:57,035 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=2376/tcp)
2021-10-20 12:48:59,593 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=2379-2380/tcp)
2021-10-20 12:49:00,141 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=2379-2380/tcp)
2021-10-20 12:49:00,373 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=2379-2380/tcp)
2021-10-20 12:49:02,242 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=6641-6642/tcp)
2021-10-20 12:49:02,945 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=6641-6642/tcp)
2021-10-20 12:49:03,005 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=6641-6642/tcp)
2021-10-20 12:49:04,892 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=9000-9999/tcp)
2021-10-20 12:49:05,812 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=9000-9999/tcp)
2021-10-20 12:49:05,869 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=9000-9999/tcp)
2021-10-20 12:49:07,776 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=10250/tcp)
2021-10-20 12:49:08,617 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=10250/tcp)
2021-10-20 12:49:08,652 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=10250/tcp)
2021-10-20 12:49:10,209 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=10254/tcp)
2021-10-20 12:49:11,287 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=10254/tcp)
2021-10-20 12:49:11,342 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=10254/tcp)
2021-10-20 12:49:12,493 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=10257/tcp)
2021-10-20 12:49:13,859 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=10257/tcp)
2021-10-20 12:49:13,875 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=10257/tcp)
2021-10-20 12:49:14,790 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=10255/tcp)
2021-10-20 12:49:17,009 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=10255/tcp)
2021-10-20 12:49:17,046 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=10255/tcp)
2021-10-20 12:49:18,199 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=10252/tcp)
2021-10-20 12:49:19,915 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=10252/tcp)
2021-10-20 12:49:19,934 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=10252/tcp)
2021-10-20 12:49:20,635 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=10259/tcp)
2021-10-20 12:49:22,652 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=10259/tcp)
2021-10-20 12:49:22,726 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=10259/tcp)
2021-10-20 12:49:23,308 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=22623/tcp)
2021-10-20 12:49:25,412 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=22623/tcp)
2021-10-20 12:49:25,548 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=22623/tcp)
2021-10-20 12:49:26,120 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=30000-32767/tcp)
2021-10-20 12:49:28,091 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=30000-32767/tcp)
2021-10-20 12:49:28,288 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=30000-32767/tcp)
2021-10-20 12:49:28,794 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=53/udp)
2021-10-20 12:49:30,934 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=53/udp)
2021-10-20 12:49:31,116 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=53/udp)
2021-10-20 12:49:31,384 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=500/udp)
2021-10-20 12:49:33,770 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=500/udp)
2021-10-20 12:49:33,879 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=500/udp)
2021-10-20 12:49:34,192 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=8472/udp)
2021-10-20 12:49:36,575 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=8472/udp)
2021-10-20 12:49:36,589 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=8472/udp)
2021-10-20 12:49:36,898 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=4500/udp)
2021-10-20 12:49:39,670 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=4500/udp)
2021-10-20 12:49:40,076 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=4500/udp)
2021-10-20 12:49:40,234 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=4789/udp)
2021-10-20 12:49:43,303 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=4789/udp)
2021-10-20 12:49:43,692 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=5353/udp)
2021-10-20 12:49:43,695 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=4789/udp)
2021-10-20 12:49:46,231 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=5353/udp)
2021-10-20 12:49:46,560 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=5353/udp)
2021-10-20 12:49:46,568 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=6081/udp)
2021-10-20 12:49:48,747 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=6081/udp)
2021-10-20 12:49:49,202 p=98236 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=8472/udp)
2021-10-20 12:49:49,227 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=6081/udp)
2021-10-20 12:49:51,177 p=98236 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=8472/udp)
2021-10-20 12:49:51,769 p=98236 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=8472/udp)
2021-10-20 12:49:51,776 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=9000-9999/udp)
2021-10-20 12:49:53,842 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=9000-9999/udp)
2021-10-20 12:49:54,619 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=9000-9999/udp)
2021-10-20 12:49:54,626 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=30000-32767/udp)
2021-10-20 12:49:56,283 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=30000-32767/udp)
2021-10-20 12:49:57,270 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=30000-32767/udp)
2021-10-20 12:49:57,307 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=1936/tcp)
2021-10-20 12:49:58,700 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=1936/tcp)
2021-10-20 12:49:59,846 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=1936/tcp)
2021-10-20 12:49:59,943 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=3306/tcp)
2021-10-20 12:50:01,374 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=3306/tcp)
2021-10-20 12:50:02,581 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=4567/tcp)
2021-10-20 12:50:02,627 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=3306/tcp)
2021-10-20 12:50:03,748 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=4567/tcp)
2021-10-20 12:50:05,356 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=4568/tcp)
2021-10-20 12:50:05,361 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=4567/tcp)
2021-10-20 12:50:06,324 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=4568/tcp)
2021-10-20 12:50:07,859 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=4568/tcp)
2021-10-20 12:50:07,980 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=4444/tcp)
2021-10-20 12:50:08,841 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=4444/tcp)
2021-10-20 12:50:10,899 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=4444/tcp)
2021-10-20 12:50:10,903 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=4567/udp)
2021-10-20 12:50:11,800 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=4567/udp)
2021-10-20 12:50:12,700 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=4567/udp)
2021-10-20 12:50:12,729 p=98236 u=eduardgevorkyan n=ansible | TASK [set hostname] **********************************************************************************************************************
2021-10-20 12:50:13,026 p=98236 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'host': '172.22.22.5', 'hostname': 'k3s1'}) 
2021-10-20 12:50:13,088 p=98236 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'host': '172.22.22.5', 'hostname': 'k3s1'}) 
2021-10-20 12:50:13,117 p=98236 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'host': '172.22.22.6', 'hostname': 'k3s2'}) 
2021-10-20 12:50:16,307 p=98236 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'host': '172.22.22.5', 'hostname': 'k3s1'})
2021-10-20 12:50:16,349 p=98236 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'host': '172.22.22.6', 'hostname': 'k3s2'}) 
2021-10-20 12:50:16,392 p=98236 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'host': '172.22.22.7', 'hostname': 'k3s3'}) 
2021-10-20 12:50:16,563 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item={'host': '172.22.22.7', 'hostname': 'k3s3'})
2021-10-20 12:50:16,569 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item={'host': '172.22.22.6', 'hostname': 'k3s2'})
2021-10-20 12:50:16,591 p=98236 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'host': '172.22.22.7', 'hostname': 'k3s3'}) 
2021-10-20 12:50:16,620 p=98236 u=eduardgevorkyan n=ansible | TASK [open services web] *****************************************************************************************************************
2021-10-20 12:50:19,232 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=https)
2021-10-20 12:50:19,401 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=https)
2021-10-20 12:50:19,434 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=https)
2021-10-20 12:50:21,938 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=http)
2021-10-20 12:50:22,209 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=http)
2021-10-20 12:50:22,215 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=http)
2021-10-20 12:50:22,253 p=98236 u=eduardgevorkyan n=ansible | TASK [open protocols] ********************************************************************************************************************
2021-10-20 12:50:25,096 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=ah)
2021-10-20 12:50:25,100 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=ah)
2021-10-20 12:50:25,111 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=ah)
2021-10-20 12:50:27,944 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=esp)
2021-10-20 12:50:27,989 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=esp)
2021-10-20 12:50:27,994 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=esp)
2021-10-20 12:50:30,521 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=112)
2021-10-20 12:50:30,611 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=112)
2021-10-20 12:50:30,692 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=112)
2021-10-20 12:50:30,717 p=98236 u=eduardgevorkyan n=ansible | TASK [create interface] ******************************************************************************************************************
2021-10-20 12:50:30,957 p=98236 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'host': '172.22.22.5', 'ipv4': '172.20.254.1/24'}) 
2021-10-20 12:50:31,064 p=98236 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'host': '172.22.22.5', 'ipv4': '172.20.254.1/24'}) 
2021-10-20 12:50:31,082 p=98236 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'host': '172.22.22.6', 'ipv4': '172.20.254.2/24'}) 
2021-10-20 12:50:34,104 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item={'host': '172.22.22.7', 'ipv4': '172.20.254.3/24'})
2021-10-20 12:50:34,143 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item={'host': '172.22.22.6', 'ipv4': '172.20.254.2/24'})
2021-10-20 12:50:34,177 p=98236 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'host': '172.22.22.7', 'ipv4': '172.20.254.3/24'}) 
2021-10-20 12:50:34,255 p=98236 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item={'host': '172.22.22.5', 'ipv4': '172.20.254.1/24'})
2021-10-20 12:50:34,263 p=98236 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'host': '172.22.22.6', 'ipv4': '172.20.254.2/24'}) 
2021-10-20 12:50:34,272 p=98236 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'host': '172.22.22.7', 'ipv4': '172.20.254.3/24'}) 
2021-10-20 12:50:34,312 p=98236 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-20 12:50:34,313 p=98236 u=eduardgevorkyan n=ansible | k3s1                       : ok=8    changed=6    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-10-20 12:50:34,314 p=98236 u=eduardgevorkyan n=ansible | k3s2                       : ok=8    changed=7    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-10-20 12:50:34,314 p=98236 u=eduardgevorkyan n=ansible | k3s3                       : ok=8    changed=7    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-10-20 12:53:58,086 p=99896 u=eduardgevorkyan n=ansible | ERROR! We were unable to read either as JSON nor YAML, these are the errors we got from each:
JSON: Expecting value: line 1 column 1 (char 0)

Syntax Error while loading YAML.
  did not find expected alphabetic or numeric character

The error appears to be in '/home/eduardgevorkyan/demo-mysql/vars.yml': line 284, column 12, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

    encrypted: no
    priv: *.*:USAGE
           ^ here

2021-10-20 12:54:39,335 p=99941 u=eduardgevorkyan n=ansible | PLAY [MariaDB cluster deployment] ********************************************************************************************************
2021-10-20 12:54:39,437 p=99941 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-20 12:54:44,581 p=99941 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 12:54:44,636 p=99941 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 12:54:45,648 p=99941 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 12:54:45,718 p=99941 u=eduardgevorkyan n=ansible | TASK [Deployment] ************************************************************************************************************************
2021-10-20 12:54:46,115 p=99941 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : gather os specific variables] ************************************************************
2021-10-20 12:54:46,306 p=99941 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-20 12:54:46,405 p=99941 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-20 12:54:46,488 p=99941 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-20 12:54:46,532 p=99941 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : ensure NIC specified in 'galera_cluster_bind_interface' exists] **************************
2021-10-20 12:54:46,731 p=99941 u=eduardgevorkyan n=ansible | fatal: [k3s1]: FAILED! => {
    "assertion": "galera_cluster_bind_interface in ansible_interfaces",
    "changed": false,
    "evaluated_to": false,
    "msg": "The NIC name \"ens32.1\" specified in \"galera_cluster_bind_interface\" does not exist on the target host. Available interfaces are: \"lo,ens32\"."
}
2021-10-20 12:54:46,891 p=99941 u=eduardgevorkyan n=ansible | fatal: [k3s2]: FAILED! => {
    "assertion": "galera_cluster_bind_interface in ansible_interfaces",
    "changed": false,
    "evaluated_to": false,
    "msg": "The NIC name \"ens32.1\" specified in \"galera_cluster_bind_interface\" does not exist on the target host. Available interfaces are: \"lo,ens32\"."
}
2021-10-20 12:54:46,963 p=99941 u=eduardgevorkyan n=ansible | fatal: [k3s3]: FAILED! => {
    "assertion": "galera_cluster_bind_interface in ansible_interfaces",
    "changed": false,
    "evaluated_to": false,
    "msg": "The NIC name \"ens32.1\" specified in \"galera_cluster_bind_interface\" does not exist on the target host. Available interfaces are: \"lo,ens32\"."
}
2021-10-20 12:54:46,971 p=99941 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-20 12:54:46,972 p=99941 u=eduardgevorkyan n=ansible | k3s1                       : ok=2    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-10-20 12:54:46,979 p=99941 u=eduardgevorkyan n=ansible | k3s2                       : ok=2    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-10-20 12:54:46,980 p=99941 u=eduardgevorkyan n=ansible | k3s3                       : ok=2    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-10-20 12:57:17,557 p=100133 u=eduardgevorkyan n=ansible | PLAY [initial] ***************************************************************************************************************************
2021-10-20 12:57:17,582 p=100133 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-20 12:57:22,464 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 12:57:22,622 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 12:57:22,656 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 12:57:22,693 p=100133 u=eduardgevorkyan n=ansible | TASK [install packages] ******************************************************************************************************************
2021-10-20 12:57:41,129 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=ansible)
2021-10-20 12:57:41,964 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=ansible)
2021-10-20 12:57:42,255 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=ansible)
2021-10-20 12:57:52,497 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=git)
2021-10-20 12:57:53,946 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=git)
2021-10-20 12:57:53,992 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=git)
2021-10-20 12:58:01,430 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=vim)
2021-10-20 12:58:03,434 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=vim)
2021-10-20 12:58:03,484 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=vim)
2021-10-20 12:58:10,442 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=net-tools)
2021-10-20 12:58:13,178 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=net-tools)
2021-10-20 12:58:13,391 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=net-tools)
2021-10-20 12:58:21,044 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=telnet)
2021-10-20 12:58:23,063 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=telnet)
2021-10-20 12:58:23,243 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=telnet)
2021-10-20 12:58:23,275 p=100133 u=eduardgevorkyan n=ansible | TASK [copy hosts file] *******************************************************************************************************************
2021-10-20 12:58:28,157 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 12:58:28,180 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 12:58:28,313 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 12:58:28,393 p=100133 u=eduardgevorkyan n=ansible | TASK [open firewalld] ********************************************************************************************************************
2021-10-20 12:58:31,732 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=179/tcp)
2021-10-20 12:58:31,837 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=179/tcp)
2021-10-20 12:58:31,868 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=179/tcp)
2021-10-20 12:58:34,940 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=6443/tcp)
2021-10-20 12:58:34,984 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=6443/tcp)
2021-10-20 12:58:34,990 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=6443/tcp)
2021-10-20 12:58:38,029 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=8443/tcp)
2021-10-20 12:58:38,130 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=8443/tcp)
2021-10-20 12:58:38,318 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=8443/tcp)
2021-10-20 12:58:41,055 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=8091/tcp)
2021-10-20 12:58:41,224 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=8091/tcp)
2021-10-20 12:58:41,302 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=8091/tcp)
2021-10-20 12:58:44,265 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=8090/tcp)
2021-10-20 12:58:44,524 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=8090/tcp)
2021-10-20 12:58:44,556 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=8090/tcp)
2021-10-20 12:58:47,320 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=53/tcp)
2021-10-20 12:58:47,699 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=53/tcp)
2021-10-20 12:58:47,782 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=53/tcp)
2021-10-20 12:58:50,438 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=2376/tcp)
2021-10-20 12:58:50,663 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=2376/tcp)
2021-10-20 12:58:50,754 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=2376/tcp)
2021-10-20 12:58:53,364 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=2379-2380/tcp)
2021-10-20 12:58:53,794 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=2379-2380/tcp)
2021-10-20 12:58:53,799 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=2379-2380/tcp)
2021-10-20 12:58:57,294 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=6641-6642/tcp)
2021-10-20 12:58:57,558 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=6641-6642/tcp)
2021-10-20 12:58:57,703 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=6641-6642/tcp)
2021-10-20 12:59:00,581 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=9000-9999/tcp)
2021-10-20 12:59:00,843 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=9000-9999/tcp)
2021-10-20 12:59:00,942 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=9000-9999/tcp)
2021-10-20 12:59:03,676 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=10250/tcp)
2021-10-20 12:59:03,970 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=10250/tcp)
2021-10-20 12:59:03,972 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=10250/tcp)
2021-10-20 12:59:07,087 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=10254/tcp)
2021-10-20 12:59:07,453 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=10254/tcp)
2021-10-20 12:59:07,527 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=10254/tcp)
2021-10-20 12:59:11,335 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=10257/tcp)
2021-10-20 12:59:11,593 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=10257/tcp)
2021-10-20 12:59:11,726 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=10257/tcp)
2021-10-20 12:59:14,926 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=10255/tcp)
2021-10-20 12:59:15,036 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=10255/tcp)
2021-10-20 12:59:15,332 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=10255/tcp)
2021-10-20 12:59:18,150 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=10252/tcp)
2021-10-20 12:59:18,412 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=10252/tcp)
2021-10-20 12:59:18,486 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=10252/tcp)
2021-10-20 12:59:21,293 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=10259/tcp)
2021-10-20 12:59:21,733 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=10259/tcp)
2021-10-20 12:59:21,736 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=10259/tcp)
2021-10-20 12:59:24,291 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=22623/tcp)
2021-10-20 12:59:24,732 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=22623/tcp)
2021-10-20 12:59:24,734 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=22623/tcp)
2021-10-20 12:59:27,337 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=30000-32767/tcp)
2021-10-20 12:59:28,082 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=30000-32767/tcp)
2021-10-20 12:59:28,137 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=30000-32767/tcp)
2021-10-20 12:59:30,387 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=53/udp)
2021-10-20 12:59:30,857 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=53/udp)
2021-10-20 12:59:31,198 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=53/udp)
2021-10-20 12:59:33,124 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=500/udp)
2021-10-20 12:59:33,761 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=500/udp)
2021-10-20 12:59:34,157 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=500/udp)
2021-10-20 12:59:36,124 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=8472/udp)
2021-10-20 12:59:36,872 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=8472/udp)
2021-10-20 12:59:37,169 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=8472/udp)
2021-10-20 12:59:38,887 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=4500/udp)
2021-10-20 12:59:39,846 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=4500/udp)
2021-10-20 12:59:40,107 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=4500/udp)
2021-10-20 12:59:41,634 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=4789/udp)
2021-10-20 12:59:43,115 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=4789/udp)
2021-10-20 12:59:43,195 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=4789/udp)
2021-10-20 12:59:44,431 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=5353/udp)
2021-10-20 12:59:46,209 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=5353/udp)
2021-10-20 12:59:46,431 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=5353/udp)
2021-10-20 12:59:47,412 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=6081/udp)
2021-10-20 12:59:49,665 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=6081/udp)
2021-10-20 12:59:50,198 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=6081/udp)
2021-10-20 12:59:50,869 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=8472/udp)
2021-10-20 12:59:52,718 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=8472/udp)
2021-10-20 12:59:53,317 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=8472/udp)
2021-10-20 12:59:53,661 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=9000-9999/udp)
2021-10-20 12:59:55,924 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=9000-9999/udp)
2021-10-20 12:59:56,653 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=9000-9999/udp)
2021-10-20 12:59:56,914 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=30000-32767/udp)
2021-10-20 12:59:58,880 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=30000-32767/udp)
2021-10-20 12:59:59,598 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=30000-32767/udp)
2021-10-20 12:59:59,788 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=1936/tcp)
2021-10-20 13:00:01,801 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=1936/tcp)
2021-10-20 13:00:02,477 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=1936/tcp)
2021-10-20 13:00:02,759 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=3306/tcp)
2021-10-20 13:00:04,727 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=3306/tcp)
2021-10-20 13:00:05,634 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=3306/tcp)
2021-10-20 13:00:05,867 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=4567/tcp)
2021-10-20 13:00:07,335 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=4567/tcp)
2021-10-20 13:00:08,796 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=4567/tcp)
2021-10-20 13:00:09,052 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=4568/tcp)
2021-10-20 13:00:10,218 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=4568/tcp)
2021-10-20 13:00:12,257 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=4568/tcp)
2021-10-20 13:00:12,553 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=4444/tcp)
2021-10-20 13:00:13,818 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=4444/tcp)
2021-10-20 13:00:15,846 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=4444/tcp)
2021-10-20 13:00:16,222 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=4567/udp)
2021-10-20 13:00:17,410 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=4567/udp)
2021-10-20 13:00:17,965 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=4567/udp)
2021-10-20 13:00:18,003 p=100133 u=eduardgevorkyan n=ansible | TASK [set hostname] **********************************************************************************************************************
2021-10-20 13:00:18,251 p=100133 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'host': '172.22.22.5', 'hostname': 'k3s1'}) 
2021-10-20 13:00:18,361 p=100133 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'host': '172.22.22.5', 'hostname': 'k3s1'}) 
2021-10-20 13:00:18,385 p=100133 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'host': '172.22.22.6', 'hostname': 'k3s2'}) 
2021-10-20 13:00:21,724 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'host': '172.22.22.7', 'hostname': 'k3s3'})
2021-10-20 13:00:21,731 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'host': '172.22.22.6', 'hostname': 'k3s2'})
2021-10-20 13:00:21,769 p=100133 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'host': '172.22.22.7', 'hostname': 'k3s3'}) 
2021-10-20 13:00:21,833 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'host': '172.22.22.5', 'hostname': 'k3s1'})
2021-10-20 13:00:21,841 p=100133 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'host': '172.22.22.6', 'hostname': 'k3s2'}) 
2021-10-20 13:00:21,848 p=100133 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'host': '172.22.22.7', 'hostname': 'k3s3'}) 
2021-10-20 13:00:21,888 p=100133 u=eduardgevorkyan n=ansible | TASK [open services web] *****************************************************************************************************************
2021-10-20 13:00:24,842 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=https)
2021-10-20 13:00:25,070 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=https)
2021-10-20 13:00:25,211 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=https)
2021-10-20 13:00:28,765 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=http)
2021-10-20 13:00:29,008 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=http)
2021-10-20 13:00:29,085 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=http)
2021-10-20 13:00:29,135 p=100133 u=eduardgevorkyan n=ansible | TASK [open protocols] ********************************************************************************************************************
2021-10-20 13:00:32,042 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=ah)
2021-10-20 13:00:32,047 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=ah)
2021-10-20 13:00:32,248 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=ah)
2021-10-20 13:00:35,252 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=esp)
2021-10-20 13:00:35,313 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=esp)
2021-10-20 13:00:35,564 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=esp)
2021-10-20 13:00:38,490 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=112)
2021-10-20 13:00:38,587 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=112)
2021-10-20 13:00:38,721 p=100133 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=112)
2021-10-20 13:00:38,746 p=100133 u=eduardgevorkyan n=ansible | TASK [create interface] ******************************************************************************************************************
2021-10-20 13:00:38,976 p=100133 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'host': '172.22.22.5', 'ipv4': '172.20.254.1/24'}) 
2021-10-20 13:00:39,113 p=100133 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'host': '172.22.22.5', 'ipv4': '172.20.254.1/24'}) 
2021-10-20 13:00:39,147 p=100133 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'host': '172.22.22.6', 'ipv4': '172.20.254.2/24'}) 
2021-10-20 13:00:42,477 p=100133 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item={'host': '172.22.22.6', 'ipv4': '172.20.254.2/24'})
2021-10-20 13:00:42,579 p=100133 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item={'host': '172.22.22.7', 'ipv4': '172.20.254.3/24'})
2021-10-20 13:00:42,733 p=100133 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'host': '172.22.22.7', 'ipv4': '172.20.254.3/24'}) 
2021-10-20 13:00:42,838 p=100133 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item={'host': '172.22.22.5', 'ipv4': '172.20.254.1/24'})
2021-10-20 13:00:42,862 p=100133 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'host': '172.22.22.6', 'ipv4': '172.20.254.2/24'}) 
2021-10-20 13:00:42,911 p=100133 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'host': '172.22.22.7', 'ipv4': '172.20.254.3/24'}) 
2021-10-20 13:00:43,082 p=100133 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-20 13:00:43,156 p=100133 u=eduardgevorkyan n=ansible | k3s1                       : ok=8    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-10-20 13:00:43,156 p=100133 u=eduardgevorkyan n=ansible | k3s2                       : ok=8    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-10-20 13:00:43,157 p=100133 u=eduardgevorkyan n=ansible | k3s3                       : ok=8    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-10-20 13:01:24,819 p=101384 u=eduardgevorkyan n=ansible | PLAY [MariaDB cluster deployment] ********************************************************************************************************
2021-10-20 13:01:24,926 p=101384 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-20 13:01:28,561 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 13:01:28,618 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 13:01:28,636 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 13:01:28,671 p=101384 u=eduardgevorkyan n=ansible | TASK [Deployment] ************************************************************************************************************************
2021-10-20 13:01:29,045 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : gather os specific variables] ************************************************************
2021-10-20 13:01:29,279 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-20 13:01:29,360 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-20 13:01:29,414 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-20 13:01:29,446 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : ensure NIC specified in 'galera_cluster_bind_interface' exists] **************************
2021-10-20 13:01:29,598 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-20 13:01:29,696 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-20 13:01:29,746 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-20 13:01:29,773 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | update package list] ************************************************************
2021-10-20 13:01:29,880 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:01:29,896 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:01:29,939 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:01:29,987 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | installing pre-reqs] ************************************************************
2021-10-20 13:01:30,072 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:01:30,154 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:01:30,198 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:01:30,224 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding MariaDB Repo Keys] *******************************************************
2021-10-20 13:01:30,298 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:01:30,361 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:01:30,409 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:01:30,437 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding MariaDB Repo Keys] *******************************************************
2021-10-20 13:01:30,523 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:01:30,598 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:01:30,621 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:01:30,666 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | pinning MariaDB Repo] ***********************************************************
2021-10-20 13:01:30,739 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:01:30,806 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:01:30,841 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:01:30,878 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding mariadb repo] ************************************************************
2021-10-20 13:01:30,959 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:01:31,025 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:01:31,071 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:01:31,100 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | precreate /etc/mysql/conf.d in case we need to add mariadb_config_overrides file] ***
2021-10-20 13:01:31,161 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:01:31,246 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:01:31,261 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:01:31,295 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | add an overrides file] **********************************************************
2021-10-20 13:01:31,379 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:01:31,445 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:01:31,467 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:01:31,497 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | configuring root my.cnf] ********************************************************
2021-10-20 13:01:31,609 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:01:31,610 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:01:31,630 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:01:31,663 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | mysql root password setting] ****************************************************
2021-10-20 13:01:31,832 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=None) 
2021-10-20 13:01:31,852 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=None) 
2021-10-20 13:01:31,854 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:01:31,951 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=None) 
2021-10-20 13:01:31,956 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=None) 
2021-10-20 13:01:31,957 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:01:32,014 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=None) 
2021-10-20 13:01:32,019 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=None) 
2021-10-20 13:01:32,021 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:01:32,058 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | installing mariadb-galera packages] *********************************************
2021-10-20 13:01:32,131 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:01:32,196 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:01:32,251 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:01:32,289 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | adding mariadb repo] ************************************************************
2021-10-20 13:01:35,258 p=101384 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 13:01:35,278 p=101384 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-20 13:01:35,284 p=101384 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-20 13:01:35,348 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | disable appstream mysql/mariadb modules] ****************************************
2021-10-20 13:01:52,619 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 13:01:52,934 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 13:01:52,959 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 13:01:53,000 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | clean dnf metadata (centos8 & fedora)] ******************************************
2021-10-20 13:01:57,247 p=101384 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-20 13:01:57,384 p=101384 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 13:01:58,157 p=101384 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-20 13:01:58,201 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | installing pre-reqs] ************************************************************
2021-10-20 13:05:44,481 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 13:05:48,768 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 13:07:34,076 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 13:07:34,126 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | precreate /etc/my.cnf.d in case we need to add mariadb_config_overrides file] ***
2021-10-20 13:07:34,283 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:07:34,321 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:07:34,387 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:07:34,424 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | add an overrides file] **********************************************************
2021-10-20 13:07:34,578 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:07:34,607 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:07:34,680 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:07:34,702 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | installing mariadb mysql] *******************************************************
2021-10-20 13:09:08,523 p=101384 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-20 13:09:10,721 p=101384 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-20 13:10:15,295 p=101384 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 13:10:15,364 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | remove migrated-from-my.cnf-settings.conf that is causing MariaDB to not start] ***
2021-10-20 13:10:19,067 p=101384 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-20 13:10:19,142 p=101384 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-20 13:10:19,282 p=101384 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 13:10:19,303 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | ensuring mariadb mysql is enabled on boot] **************************************
2021-10-20 13:10:24,369 p=101384 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-20 13:10:24,596 p=101384 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 13:10:24,609 p=101384 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-20 13:10:24,647 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | start only the first node to add users] *****************************************
2021-10-20 13:10:24,786 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:10:24,873 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:10:26,762 p=101384 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 13:10:26,783 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : max-open-files | Create folder] **********************************************************
2021-10-20 13:10:26,865 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:10:26,945 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:10:27,019 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:10:27,089 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : max-open-files | Add the overriding file] ************************************************
2021-10-20 13:10:27,240 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:10:27,243 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:10:27,277 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:10:27,302 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : oom_score_adjust | create folder] ********************************************************
2021-10-20 13:10:27,372 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:10:27,430 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:10:27,454 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:10:27,485 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : oom_score_adjust | add the overriding file] **********************************************
2021-10-20 13:10:27,559 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:10:27,627 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:10:27,670 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:10:27,698 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : timeout-start-sec | Create folder] *******************************************************
2021-10-20 13:10:27,779 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:10:27,851 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:10:27,894 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:10:27,931 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : timeout-start-sec | Add the overriding file] *********************************************
2021-10-20 13:10:28,049 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:10:28,051 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:10:28,103 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:10:28,132 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : system_perfromance_tuning | configure swappiness] ****************************************
2021-10-20 13:10:28,200 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:10:28,278 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:10:28,344 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:10:28,384 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : flush handlers before continuing] ********************************************************
2021-10-20 13:10:28,386 p=101384 u=eduardgevorkyan n=ansible | RUNNING HANDLER [eradical.ansible_mariadb_galera_cluster : reload systemd daemon] ********************************************************
2021-10-20 13:10:33,421 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 13:10:33,707 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 13:10:33,801 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 13:10:34,409 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_users | create MySQL users] ********************************************************
2021-10-20 13:10:36,343 p=101384 u=eduardgevorkyan n=ansible | changed: [k3s1 -> k3s1] => (item=None)
2021-10-20 13:10:37,518 p=101384 u=eduardgevorkyan n=ansible | changed: [k3s1 -> k3s1] => (item=None)
2021-10-20 13:10:38,684 p=101384 u=eduardgevorkyan n=ansible | changed: [k3s1 -> k3s1] => (item=None)
2021-10-20 13:10:39,881 p=101384 u=eduardgevorkyan n=ansible | changed: [k3s1 -> k3s1] => (item=None)
2021-10-20 13:10:39,883 p=101384 u=eduardgevorkyan n=ansible | changed: [k3s1 -> {{ galera_mysql_first_node }}]
2021-10-20 13:10:39,932 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | mark galera cluster node unconfigured] ***********************************
2021-10-20 13:10:42,251 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 13:10:42,253 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 13:10:42,399 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 13:10:42,417 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | checking if galera cluster already configured] ***************************
2021-10-20 13:10:44,656 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 13:10:44,691 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 13:10:44,695 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 13:10:44,740 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | create TLS certificates directory] ***************************************
2021-10-20 13:10:44,856 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:10:44,859 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:10:44,917 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:10:44,946 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | copy TLS CA cert, server cert & private key] *****************************
2021-10-20 13:10:45,030 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:10:45,120 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:10:45,166 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:10:45,197 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | configuring settings for mariadb and galera] *****************************
2021-10-20 13:10:50,535 p=101384 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=etc/my.cnf.d/server.cnf)
2021-10-20 13:10:50,622 p=101384 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=etc/my.cnf.d/server.cnf)
2021-10-20 13:10:50,679 p=101384 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=etc/my.cnf.d/server.cnf)
2021-10-20 13:10:50,722 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | restarting node to apply config changes (first node)] ********************
2021-10-20 13:10:50,854 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:10:50,857 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:10:50,899 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:10:50,934 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | ensure first node is fully started before restarting other nodes] ********
2021-10-20 13:10:50,995 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:10:51,037 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | restarting node to apply config changes (other nodes)] *******************
2021-10-20 13:10:51,109 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:10:51,199 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:10:51,248 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:10:51,276 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | stopping mysql to (re)configure cluster (other nodes)] *******************
2021-10-20 13:10:51,353 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:10:52,871 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 13:10:54,380 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 13:10:54,401 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | stopping mysql to (re)configure cluster (first node)] ********************
2021-10-20 13:10:54,552 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:10:54,650 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:11:02,641 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 13:11:02,685 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for nodes to fully shut down] ***************
2021-10-20 13:11:19,819 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s2 -> localhost]
2021-10-20 13:11:19,822 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s3 -> localhost]
2021-10-20 13:11:19,829 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost]
2021-10-20 13:11:19,869 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | killing lingering mysql processes to ensure mysql is stopped] ************
2021-10-20 13:11:21,853 p=101384 u=eduardgevorkyan n=ansible | fatal: [k3s1]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:00.045467", "end": "2021-10-20 13:11:21.609140", "msg": "non-zero return code", "rc": 1, "start": "2021-10-20 13:11:21.563673", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2021-10-20 13:11:21,858 p=101384 u=eduardgevorkyan n=ansible | ...ignoring
2021-10-20 13:11:21,890 p=101384 u=eduardgevorkyan n=ansible | fatal: [k3s2]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:00.065953", "end": "2021-10-20 13:11:21.675079", "msg": "non-zero return code", "rc": 1, "start": "2021-10-20 13:11:21.609126", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2021-10-20 13:11:21,890 p=101384 u=eduardgevorkyan n=ansible | ...ignoring
2021-10-20 13:11:22,029 p=101384 u=eduardgevorkyan n=ansible | fatal: [k3s3]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:00.043320", "end": "2021-10-20 13:11:21.852839", "msg": "non-zero return code", "rc": 1, "start": "2021-10-20 13:11:21.809519", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2021-10-20 13:11:22,030 p=101384 u=eduardgevorkyan n=ansible | ...ignoring
2021-10-20 13:11:22,048 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | configuring temp galera config for first node] ***************************
2021-10-20 13:11:22,211 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=etc/my.cnf.d/server.cnf) 
2021-10-20 13:11:22,286 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=etc/my.cnf.d/server.cnf) 
2021-10-20 13:11:24,421 p=101384 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=etc/my.cnf.d/server.cnf)
2021-10-20 13:11:24,448 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | bootstrapping galera cluster] ********************************************
2021-10-20 13:11:24,600 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:11:24,687 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:11:26,917 p=101384 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 13:11:27,176 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | ensure first node is fully started before joining other nodes] ***********
2021-10-20 13:11:27,304 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:11:27,399 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for node WSREP prepared state] **************
2021-10-20 13:11:44,276 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost]
2021-10-20 13:11:44,477 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s2 -> localhost]
2021-10-20 13:11:44,510 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s3 -> localhost]
2021-10-20 13:11:44,579 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | joining galera cluster] **************************************************
2021-10-20 13:11:44,682 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:11:59,666 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 13:12:15,744 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 13:12:15,820 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for node WSREP prepared state] **************
2021-10-20 13:12:32,708 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost]
2021-10-20 13:12:32,817 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s2 -> localhost]
2021-10-20 13:12:32,876 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s3 -> localhost]
2021-10-20 13:12:32,914 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | configuring final galera config for first node] **************************
2021-10-20 13:12:33,081 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=etc/my.cnf.d/server.cnf) 
2021-10-20 13:12:33,164 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=etc/my.cnf.d/server.cnf) 
2021-10-20 13:12:35,695 p=101384 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=etc/my.cnf.d/server.cnf)
2021-10-20 13:12:35,718 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | restarting first node with final galera config] **************************
2021-10-20 13:12:35,923 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:12:36,009 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:12:41,532 p=101384 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 13:12:41,578 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | marking node as configured for galera cluster] ***************************
2021-10-20 13:12:43,945 p=101384 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 13:12:43,963 p=101384 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-20 13:12:44,123 p=101384 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-20 13:12:44,157 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | ensure node is fully started (synced with cluster)] **********************
2021-10-20 13:12:47,757 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 13:12:47,938 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 13:12:47,979 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 13:12:48,019 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for node WSREP prepared state] **************
2021-10-20 13:13:04,854 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost]
2021-10-20 13:13:04,987 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s2 -> localhost]
2021-10-20 13:13:05,053 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s3 -> localhost]
2021-10-20 13:13:05,108 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : configure_root_access | configuring root my.cnf] *****************************************
2021-10-20 13:13:09,291 p=101384 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-20 13:13:09,382 p=101384 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 13:13:09,455 p=101384 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-20 13:13:09,476 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : configure_root_access | updating root passwords] *****************************************
2021-10-20 13:13:10,661 p=101384 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=None)
2021-10-20 13:13:11,870 p=101384 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=None)
2021-10-20 13:13:13,207 p=101384 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=None)
2021-10-20 13:13:14,769 p=101384 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=None)
2021-10-20 13:13:14,771 p=101384 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 13:13:14,812 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : configure_root_access | updating root passwords (allow from anywhere)] *******************
2021-10-20 13:13:14,876 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=None) 
2021-10-20 13:13:14,878 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:13:14,899 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_databases | create the databases] **************************************************
2021-10-20 13:13:17,472 p=101384 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item={'name': 'k3sdemo'})
2021-10-20 13:13:17,516 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'name': 'k3sdemo'})
2021-10-20 13:13:17,583 p=101384 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'name': 'k3sdemo'})
2021-10-20 13:13:17,617 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_databases | copy database init scripts] ********************************************
2021-10-20 13:13:17,750 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'changed': True, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': ['CREATE DATABASE `k3sdemo`'], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 13:13:17,827 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 13:13:17,883 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 13:13:17,921 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_databases | initialise databases] **************************************************
2021-10-20 13:13:18,055 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'changed': True, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': ['CREATE DATABASE `k3sdemo`'], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 13:13:18,122 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 13:13:18,185 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 13:13:18,215 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_databases | delete init scripts from the server] ***********************************
2021-10-20 13:13:18,354 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'changed': True, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': ['CREATE DATABASE `k3sdemo`'], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 13:13:18,440 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 13:13:18,503 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 13:13:18,530 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | configuring monitor script for galera] *******************************
2021-10-20 13:13:18,634 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:13:18,709 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:13:18,765 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:13:18,800 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | restarting mysql on first node] **************************************
2021-10-20 13:13:18,897 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:13:18,968 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:13:19,005 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:13:19,066 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | waiting for mysql to start on first node] ****************************
2021-10-20 13:13:19,127 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:13:19,151 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | restarting mysql on additional servers] ******************************
2021-10-20 13:13:19,220 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:13:19,321 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:13:19,365 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:13:19,396 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | waiting for mysql to start on other nodes] ***************************
2021-10-20 13:13:19,482 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:13:19,549 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:13:19,589 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:13:19,640 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : cacti_monitoring | adding cacti db user for monitoring] **********************************
2021-10-20 13:13:19,686 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:13:19,721 p=101384 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : cacti_monitoring | adding cacti db user for monitoring] **********************************
2021-10-20 13:13:19,779 p=101384 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:13:19,885 p=101384 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-20 13:13:19,885 p=101384 u=eduardgevorkyan n=ansible | k3s1                       : ok=31   changed=17   unreachable=0    failed=0    skipped=39   rescued=0    ignored=1   
2021-10-20 13:13:19,886 p=101384 u=eduardgevorkyan n=ansible | k3s2                       : ok=25   changed=9    unreachable=0    failed=0    skipped=37   rescued=0    ignored=1   
2021-10-20 13:13:19,887 p=101384 u=eduardgevorkyan n=ansible | k3s3                       : ok=25   changed=9    unreachable=0    failed=0    skipped=37   rescued=0    ignored=1   
2021-10-20 13:17:34,079 p=103234 u=eduardgevorkyan n=ansible | PLAY [MariaDB cluster deployment] ********************************************************************************************************
2021-10-20 13:17:34,163 p=103234 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-20 13:17:39,158 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 13:17:39,164 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 13:17:39,221 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 13:17:39,274 p=103234 u=eduardgevorkyan n=ansible | TASK [Deployment] ************************************************************************************************************************
2021-10-20 13:17:39,557 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : gather os specific variables] ************************************************************
2021-10-20 13:17:39,722 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-20 13:17:39,832 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-20 13:17:39,879 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-20 13:17:39,901 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : ensure NIC specified in 'galera_cluster_bind_interface' exists] **************************
2021-10-20 13:17:40,068 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-20 13:17:40,151 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-20 13:17:40,196 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-20 13:17:40,227 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | update package list] ************************************************************
2021-10-20 13:17:40,291 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:17:40,359 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:17:40,402 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:17:40,424 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | installing pre-reqs] ************************************************************
2021-10-20 13:17:40,499 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:17:40,557 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:17:40,577 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:17:40,609 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding MariaDB Repo Keys] *******************************************************
2021-10-20 13:17:40,684 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:17:40,754 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:17:40,801 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:17:40,855 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding MariaDB Repo Keys] *******************************************************
2021-10-20 13:17:40,940 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:17:41,022 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:17:41,097 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:17:41,139 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | pinning MariaDB Repo] ***********************************************************
2021-10-20 13:17:41,209 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:17:41,303 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:17:41,366 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:17:41,399 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding mariadb repo] ************************************************************
2021-10-20 13:17:41,513 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:17:41,602 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:17:41,680 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:17:41,711 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | precreate /etc/mysql/conf.d in case we need to add mariadb_config_overrides file] ***
2021-10-20 13:17:41,803 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:17:41,877 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:17:41,912 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:17:41,966 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | add an overrides file] **********************************************************
2021-10-20 13:17:42,115 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:17:42,187 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:17:42,230 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:17:42,279 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | configuring root my.cnf] ********************************************************
2021-10-20 13:17:42,398 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:17:42,492 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:17:42,545 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:17:42,605 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | mysql root password setting] ****************************************************
2021-10-20 13:17:42,790 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=None) 
2021-10-20 13:17:42,815 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=None) 
2021-10-20 13:17:42,818 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:17:42,918 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=None) 
2021-10-20 13:17:42,936 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=None) 
2021-10-20 13:17:42,938 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:17:43,010 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=None) 
2021-10-20 13:17:43,013 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=None) 
2021-10-20 13:17:43,014 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:17:43,044 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | installing mariadb-galera packages] *********************************************
2021-10-20 13:17:43,138 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:17:43,205 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:17:43,240 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:17:43,289 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | adding mariadb repo] ************************************************************
2021-10-20 13:17:46,718 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 13:17:46,831 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 13:17:46,983 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 13:17:47,025 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | disable appstream mysql/mariadb modules] ****************************************
2021-10-20 13:18:01,241 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 13:18:01,322 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 13:18:01,523 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 13:18:01,546 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | clean dnf metadata (centos8 & fedora)] ******************************************
2021-10-20 13:18:01,648 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:18:01,652 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:18:01,703 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:18:01,734 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | installing pre-reqs] ************************************************************
2021-10-20 13:18:22,968 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 13:18:23,001 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 13:18:23,954 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 13:18:23,995 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | precreate /etc/my.cnf.d in case we need to add mariadb_config_overrides file] ***
2021-10-20 13:18:24,165 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:18:24,170 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:18:24,242 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:18:24,274 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | add an overrides file] **********************************************************
2021-10-20 13:18:24,387 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:18:24,413 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:18:24,482 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:18:24,519 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | installing mariadb mysql] *******************************************************
2021-10-20 13:18:44,180 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 13:18:45,140 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 13:18:45,820 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 13:18:45,840 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | remove migrated-from-my.cnf-settings.conf that is causing MariaDB to not start] ***
2021-10-20 13:18:48,357 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 13:18:48,454 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 13:18:48,511 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 13:18:48,538 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | ensuring mariadb mysql is enabled on boot] **************************************
2021-10-20 13:18:51,823 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 13:18:51,889 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 13:18:52,049 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 13:18:52,118 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | start only the first node to add users] *****************************************
2021-10-20 13:18:52,284 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:18:52,343 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:18:53,682 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 13:18:53,776 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : max-open-files | Create folder] **********************************************************
2021-10-20 13:18:54,065 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:18:54,313 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:18:54,401 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:18:54,480 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : max-open-files | Add the overriding file] ************************************************
2021-10-20 13:18:54,721 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:18:54,795 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:18:54,905 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:18:54,927 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : oom_score_adjust | create folder] ********************************************************
2021-10-20 13:18:55,007 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:18:55,083 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:18:55,125 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:18:55,165 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : oom_score_adjust | add the overriding file] **********************************************
2021-10-20 13:18:55,280 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:18:55,282 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:18:55,341 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:18:55,380 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : timeout-start-sec | Create folder] *******************************************************
2021-10-20 13:18:55,454 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:18:55,523 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:18:55,558 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:18:55,597 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : timeout-start-sec | Add the overriding file] *********************************************
2021-10-20 13:18:55,670 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:18:55,762 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:18:55,809 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:18:55,853 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : system_perfromance_tuning | configure swappiness] ****************************************
2021-10-20 13:18:55,957 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:18:55,958 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:18:55,983 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:18:56,018 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : flush handlers before continuing] ********************************************************
2021-10-20 13:18:56,114 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_users | create MySQL users] ********************************************************
2021-10-20 13:18:57,712 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s1 -> k3s1] => (item=None)
2021-10-20 13:18:58,906 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s1 -> k3s1] => (item=None)
2021-10-20 13:19:00,220 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s1 -> k3s1] => (item=None)
2021-10-20 13:19:01,437 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s1 -> k3s1] => (item=None)
2021-10-20 13:19:01,439 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s1 -> {{ galera_mysql_first_node }}]
2021-10-20 13:19:01,462 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | mark galera cluster node unconfigured] ***********************************
2021-10-20 13:19:03,695 p=103234 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 13:19:03,702 p=103234 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-20 13:19:03,705 p=103234 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-20 13:19:03,745 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | checking if galera cluster already configured] ***************************
2021-10-20 13:19:06,118 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 13:19:06,153 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 13:19:06,162 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 13:19:06,192 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | create TLS certificates directory] ***************************************
2021-10-20 13:19:06,319 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:19:06,324 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:19:06,361 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:19:06,396 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | copy TLS CA cert, server cert & private key] *****************************
2021-10-20 13:19:06,473 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:19:06,540 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:19:06,593 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:19:06,629 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | configuring settings for mariadb and galera] *****************************
2021-10-20 13:19:12,248 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=etc/my.cnf.d/server.cnf)
2021-10-20 13:19:12,331 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=etc/my.cnf.d/server.cnf)
2021-10-20 13:19:12,345 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=etc/my.cnf.d/server.cnf)
2021-10-20 13:19:12,385 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | restarting node to apply config changes (first node)] ********************
2021-10-20 13:19:12,446 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:19:12,509 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:19:12,558 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:19:12,599 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | ensure first node is fully started before restarting other nodes] ********
2021-10-20 13:19:12,658 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:19:12,679 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | restarting node to apply config changes (other nodes)] *******************
2021-10-20 13:19:12,756 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:19:12,835 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:19:12,886 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:19:12,911 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | stopping mysql to (re)configure cluster (other nodes)] *******************
2021-10-20 13:19:12,983 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:19:21,657 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 13:19:30,719 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 13:19:30,755 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | stopping mysql to (re)configure cluster (first node)] ********************
2021-10-20 13:19:30,891 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:19:30,960 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:19:40,041 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 13:19:40,082 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for nodes to fully shut down] ***************
2021-10-20 13:19:56,997 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost]
2021-10-20 13:19:57,025 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s2 -> localhost]
2021-10-20 13:19:57,066 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s3 -> localhost]
2021-10-20 13:19:57,097 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | killing lingering mysql processes to ensure mysql is stopped] ************
2021-10-20 13:19:59,309 p=103234 u=eduardgevorkyan n=ansible | fatal: [k3s2]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:00.051536", "end": "2021-10-20 13:19:59.007837", "msg": "non-zero return code", "rc": 1, "start": "2021-10-20 13:19:58.956301", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2021-10-20 13:19:59,310 p=103234 u=eduardgevorkyan n=ansible | ...ignoring
2021-10-20 13:19:59,330 p=103234 u=eduardgevorkyan n=ansible | fatal: [k3s1]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:00.051049", "end": "2021-10-20 13:19:59.034510", "msg": "non-zero return code", "rc": 1, "start": "2021-10-20 13:19:58.983461", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2021-10-20 13:19:59,331 p=103234 u=eduardgevorkyan n=ansible | ...ignoring
2021-10-20 13:19:59,464 p=103234 u=eduardgevorkyan n=ansible | fatal: [k3s3]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:00.086191", "end": "2021-10-20 13:19:59.202178", "msg": "non-zero return code", "rc": 1, "start": "2021-10-20 13:19:59.115987", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2021-10-20 13:19:59,464 p=103234 u=eduardgevorkyan n=ansible | ...ignoring
2021-10-20 13:19:59,488 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | configuring temp galera config for first node] ***************************
2021-10-20 13:19:59,656 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=etc/my.cnf.d/server.cnf) 
2021-10-20 13:19:59,723 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=etc/my.cnf.d/server.cnf) 
2021-10-20 13:20:02,188 p=103234 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=etc/my.cnf.d/server.cnf)
2021-10-20 13:20:02,213 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | bootstrapping galera cluster] ********************************************
2021-10-20 13:20:02,377 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:20:02,466 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:20:04,547 p=103234 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 13:20:04,594 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | ensure first node is fully started before joining other nodes] ***********
2021-10-20 13:20:04,650 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:20:04,701 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for node WSREP prepared state] **************
2021-10-20 13:20:21,216 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost]
2021-10-20 13:20:21,348 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s2 -> localhost]
2021-10-20 13:20:21,375 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s3 -> localhost]
2021-10-20 13:20:21,405 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | joining galera cluster] **************************************************
2021-10-20 13:20:21,470 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:20:33,746 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 13:20:45,943 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 13:20:45,982 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for node WSREP prepared state] **************
2021-10-20 13:21:02,385 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost]
2021-10-20 13:21:02,519 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s2 -> localhost]
2021-10-20 13:21:02,566 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s3 -> localhost]
2021-10-20 13:21:02,587 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | configuring final galera config for first node] **************************
2021-10-20 13:21:02,752 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=etc/my.cnf.d/server.cnf) 
2021-10-20 13:21:02,820 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=etc/my.cnf.d/server.cnf) 
2021-10-20 13:21:05,309 p=103234 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=etc/my.cnf.d/server.cnf)
2021-10-20 13:21:05,405 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | restarting first node with final galera config] **************************
2021-10-20 13:21:05,650 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:21:05,720 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:21:11,315 p=103234 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 13:21:11,336 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | marking node as configured for galera cluster] ***************************
2021-10-20 13:21:13,364 p=103234 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 13:21:13,396 p=103234 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-20 13:21:13,530 p=103234 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-20 13:21:13,550 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | ensure node is fully started (synced with cluster)] **********************
2021-10-20 13:21:16,641 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 13:21:16,689 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 13:21:16,828 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 13:21:16,887 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for node WSREP prepared state] **************
2021-10-20 13:21:17,098 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:21:17,155 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:21:32,674 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost]
2021-10-20 13:21:32,699 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : configure_root_access | configuring root my.cnf] *****************************************
2021-10-20 13:21:36,265 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 13:21:36,408 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 13:21:36,569 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 13:21:36,590 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : configure_root_access | updating root passwords] *****************************************
2021-10-20 13:21:37,846 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=None)
2021-10-20 13:21:39,072 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=None)
2021-10-20 13:21:40,319 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=None)
2021-10-20 13:21:41,543 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=None)
2021-10-20 13:21:41,544 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 13:21:41,576 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : configure_root_access | updating root passwords (allow from anywhere)] *******************
2021-10-20 13:21:41,635 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=None) 
2021-10-20 13:21:41,637 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:21:41,677 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_databases | create the databases] **************************************************
2021-10-20 13:21:44,874 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'name': 'k3sdemo'})
2021-10-20 13:21:44,990 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'name': 'k3sdemo'})
2021-10-20 13:21:45,013 p=103234 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'name': 'k3sdemo'})
2021-10-20 13:21:45,075 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_databases | copy database init scripts] ********************************************
2021-10-20 13:21:45,270 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 13:21:45,389 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 13:21:45,519 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 13:21:45,574 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_databases | initialise databases] **************************************************
2021-10-20 13:21:45,767 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 13:21:45,885 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 13:21:45,958 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 13:21:46,010 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_databases | delete init scripts from the server] ***********************************
2021-10-20 13:21:46,173 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 13:21:46,267 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 13:21:46,360 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 13:21:46,426 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | configuring monitor script for galera] *******************************
2021-10-20 13:21:46,588 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:21:46,710 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:21:46,797 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:21:46,902 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | restarting mysql on first node] **************************************
2021-10-20 13:21:47,018 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:21:47,112 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:21:47,162 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:21:47,222 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | waiting for mysql to start on first node] ****************************
2021-10-20 13:21:47,310 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:21:47,339 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | restarting mysql on additional servers] ******************************
2021-10-20 13:21:47,454 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:21:47,542 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:21:47,601 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:21:47,648 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | waiting for mysql to start on other nodes] ***************************
2021-10-20 13:21:47,716 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:21:47,792 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:21:47,826 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:21:47,863 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : cacti_monitoring | adding cacti db user for monitoring] **********************************
2021-10-20 13:21:47,923 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:21:47,942 p=103234 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : cacti_monitoring | adding cacti db user for monitoring] **********************************
2021-10-20 13:21:47,993 p=103234 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:21:48,102 p=103234 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-20 13:21:48,103 p=103234 u=eduardgevorkyan n=ansible | k3s1                       : ok=29   changed=7    unreachable=0    failed=0    skipped=40   rescued=0    ignored=1   
2021-10-20 13:21:48,103 p=103234 u=eduardgevorkyan n=ansible | k3s2                       : ok=22   changed=3    unreachable=0    failed=0    skipped=39   rescued=0    ignored=1   
2021-10-20 13:21:48,103 p=103234 u=eduardgevorkyan n=ansible | k3s3                       : ok=22   changed=3    unreachable=0    failed=0    skipped=39   rescued=0    ignored=1   
2021-10-20 13:30:52,717 p=104883 u=eduardgevorkyan n=ansible | PLAY [initial] ***************************************************************************************************************************
2021-10-20 13:30:52,741 p=104883 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-20 13:30:58,852 p=104883 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 13:30:58,866 p=104883 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 13:30:58,892 p=104883 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 13:30:58,944 p=104883 u=eduardgevorkyan n=ansible | TASK [install packages] ******************************************************************************************************************
2021-10-20 13:37:16,914 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=ansible)
2021-10-20 13:37:22,996 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=ansible)
2021-10-20 13:37:28,202 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=ansible)
2021-10-20 13:38:21,709 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=git)
2021-10-20 13:38:28,795 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=git)
2021-10-20 13:39:52,915 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=vim)
2021-10-20 13:39:53,412 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=vim)
2021-10-20 13:39:54,295 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=git)
2021-10-20 13:40:08,496 p=104883 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=net-tools)
2021-10-20 13:40:08,773 p=104883 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=net-tools)
2021-10-20 13:40:24,698 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=telnet)
2021-10-20 13:40:25,396 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=telnet)
2021-10-20 13:40:26,008 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=vim)
2021-10-20 13:40:33,078 p=104883 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=net-tools)
2021-10-20 13:40:41,821 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=telnet)
2021-10-20 13:40:41,964 p=104883 u=eduardgevorkyan n=ansible | TASK [copy hosts file] *******************************************************************************************************************
2021-10-20 13:40:50,816 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-20 13:40:50,988 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 13:40:51,129 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-20 13:40:51,284 p=104883 u=eduardgevorkyan n=ansible | TASK [open firewalld] ********************************************************************************************************************
2021-10-20 13:41:01,104 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=179/tcp)
2021-10-20 13:41:01,149 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=179/tcp)
2021-10-20 13:41:01,480 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=179/tcp)
2021-10-20 13:41:05,816 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=6443/tcp)
2021-10-20 13:41:06,215 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=6443/tcp)
2021-10-20 13:41:06,805 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=6443/tcp)
2021-10-20 13:41:10,471 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=8443/tcp)
2021-10-20 13:41:10,475 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=8443/tcp)
2021-10-20 13:41:10,595 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=8443/tcp)
2021-10-20 13:41:15,298 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=8091/tcp)
2021-10-20 13:41:15,861 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=8091/tcp)
2021-10-20 13:41:15,942 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=8091/tcp)
2021-10-20 13:41:20,154 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=8090/tcp)
2021-10-20 13:41:20,738 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=8090/tcp)
2021-10-20 13:41:20,753 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=8090/tcp)
2021-10-20 13:41:26,339 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=53/tcp)
2021-10-20 13:41:30,258 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=53/tcp)
2021-10-20 13:41:34,992 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=53/tcp)
2021-10-20 13:41:42,386 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=2376/tcp)
2021-10-20 13:41:42,389 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=2376/tcp)
2021-10-20 13:41:43,028 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=2376/tcp)
2021-10-20 13:41:48,057 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=2379-2380/tcp)
2021-10-20 13:41:48,126 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=2379-2380/tcp)
2021-10-20 13:41:48,873 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=2379-2380/tcp)
2021-10-20 13:41:52,879 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=6641-6642/tcp)
2021-10-20 13:41:53,067 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=6641-6642/tcp)
2021-10-20 13:41:53,446 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=6641-6642/tcp)
2021-10-20 13:41:58,770 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=9000-9999/tcp)
2021-10-20 13:41:58,802 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=9000-9999/tcp)
2021-10-20 13:41:58,805 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=9000-9999/tcp)
2021-10-20 13:42:04,636 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=10250/tcp)
2021-10-20 13:42:04,673 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=10250/tcp)
2021-10-20 13:42:05,652 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=10250/tcp)
2021-10-20 13:42:18,121 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=10254/tcp)
2021-10-20 13:42:18,422 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=10254/tcp)
2021-10-20 13:42:18,546 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=10254/tcp)
2021-10-20 13:42:21,582 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=10257/tcp)
2021-10-20 13:42:22,140 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=10257/tcp)
2021-10-20 13:42:22,528 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=10257/tcp)
2021-10-20 13:42:25,303 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=10255/tcp)
2021-10-20 13:42:25,974 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=10255/tcp)
2021-10-20 13:42:26,499 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=10255/tcp)
2021-10-20 13:42:30,787 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=10252/tcp)
2021-10-20 13:42:31,266 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=10252/tcp)
2021-10-20 13:42:31,409 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=10252/tcp)
2021-10-20 13:42:35,627 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=10259/tcp)
2021-10-20 13:42:36,565 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=10259/tcp)
2021-10-20 13:42:36,571 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=10259/tcp)
2021-10-20 13:42:40,096 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=22623/tcp)
2021-10-20 13:42:41,590 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=22623/tcp)
2021-10-20 13:42:43,125 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=22623/tcp)
2021-10-20 13:42:54,437 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=30000-32767/tcp)
2021-10-20 13:42:55,389 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=30000-32767/tcp)
2021-10-20 13:42:55,405 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=30000-32767/tcp)
2021-10-20 13:42:59,721 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=53/udp)
2021-10-20 13:43:00,479 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=53/udp)
2021-10-20 13:43:00,499 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=53/udp)
2021-10-20 13:43:04,148 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=500/udp)
2021-10-20 13:43:05,069 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=500/udp)
2021-10-20 13:43:05,381 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=500/udp)
2021-10-20 13:43:08,615 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=8472/udp)
2021-10-20 13:43:09,921 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=8472/udp)
2021-10-20 13:43:10,001 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=8472/udp)
2021-10-20 13:43:12,308 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=4500/udp)
2021-10-20 13:43:14,096 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=4500/udp)
2021-10-20 13:43:14,193 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=4500/udp)
2021-10-20 13:43:16,288 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=4789/udp)
2021-10-20 13:43:20,594 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=4789/udp)
2021-10-20 13:43:21,550 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=4789/udp)
2021-10-20 13:43:25,876 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=5353/udp)
2021-10-20 13:43:26,950 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=5353/udp)
2021-10-20 13:43:27,179 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=5353/udp)
2021-10-20 13:43:30,406 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=6081/udp)
2021-10-20 13:43:31,604 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=6081/udp)
2021-10-20 13:43:31,978 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=6081/udp)
2021-10-20 13:43:34,343 p=104883 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=8472/udp)
2021-10-20 13:43:36,179 p=104883 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=8472/udp)
2021-10-20 13:43:36,368 p=104883 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=8472/udp)
2021-10-20 13:43:38,336 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=9000-9999/udp)
2021-10-20 13:43:40,713 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=9000-9999/udp)
2021-10-20 13:43:40,717 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=9000-9999/udp)
2021-10-20 13:43:42,579 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=30000-32767/udp)
2021-10-20 13:43:45,286 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=30000-32767/udp)
2021-10-20 13:43:45,355 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=30000-32767/udp)
2021-10-20 13:43:46,697 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=1936/tcp)
2021-10-20 13:43:51,233 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=1936/tcp)
2021-10-20 13:43:51,289 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=3306/tcp)
2021-10-20 13:43:51,338 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=1936/tcp)
2021-10-20 13:43:57,184 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=4567/tcp)
2021-10-20 13:43:57,404 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=3306/tcp)
2021-10-20 13:43:57,411 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=3306/tcp)
2021-10-20 13:44:02,260 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=4568/tcp)
2021-10-20 13:44:02,712 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=4567/tcp)
2021-10-20 13:44:02,716 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=4567/tcp)
2021-10-20 13:44:07,002 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=4444/tcp)
2021-10-20 13:44:07,291 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=4568/tcp)
2021-10-20 13:44:07,297 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=4568/tcp)
2021-10-20 13:44:11,182 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=4567/udp)
2021-10-20 13:44:11,515 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=4444/tcp)
2021-10-20 13:44:11,558 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=4444/tcp)
2021-10-20 13:44:14,654 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=4567/udp)
2021-10-20 13:44:14,678 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=4567/udp)
2021-10-20 13:44:14,757 p=104883 u=eduardgevorkyan n=ansible | TASK [set hostname] **********************************************************************************************************************
2021-10-20 13:44:15,118 p=104883 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'host': '172.22.22.5', 'hostname': 'k3s1'}) 
2021-10-20 13:44:15,258 p=104883 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'host': '172.22.22.5', 'hostname': 'k3s1'}) 
2021-10-20 13:44:15,300 p=104883 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'host': '172.22.22.6', 'hostname': 'k3s2'}) 
2021-10-20 13:44:21,185 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item={'host': '172.22.22.6', 'hostname': 'k3s2'})
2021-10-20 13:44:21,403 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item={'host': '172.22.22.7', 'hostname': 'k3s3'})
2021-10-20 13:44:21,505 p=104883 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'host': '172.22.22.7', 'hostname': 'k3s3'}) 
2021-10-20 13:44:21,791 p=104883 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'host': '172.22.22.5', 'hostname': 'k3s1'})
2021-10-20 13:44:21,897 p=104883 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'host': '172.22.22.6', 'hostname': 'k3s2'}) 
2021-10-20 13:44:22,076 p=104883 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'host': '172.22.22.7', 'hostname': 'k3s3'}) 
2021-10-20 13:44:22,219 p=104883 u=eduardgevorkyan n=ansible | TASK [open services web] *****************************************************************************************************************
2021-10-20 13:44:28,338 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=https)
2021-10-20 13:44:28,508 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=https)
2021-10-20 13:44:28,867 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=https)
2021-10-20 13:44:33,702 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=http)
2021-10-20 13:44:33,956 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=http)
2021-10-20 13:44:34,032 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=http)
2021-10-20 13:44:34,178 p=104883 u=eduardgevorkyan n=ansible | TASK [open protocols] ********************************************************************************************************************
2021-10-20 13:44:39,452 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=ah)
2021-10-20 13:44:39,455 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=ah)
2021-10-20 13:44:39,870 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=ah)
2021-10-20 13:44:45,033 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=esp)
2021-10-20 13:44:45,092 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=esp)
2021-10-20 13:44:45,680 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=esp)
2021-10-20 13:44:56,985 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=112)
2021-10-20 13:44:56,999 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=112)
2021-10-20 13:44:57,017 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=112)
2021-10-20 13:44:57,200 p=104883 u=eduardgevorkyan n=ansible | TASK [create interface] ******************************************************************************************************************
2021-10-20 13:44:57,981 p=104883 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'host': '172.22.22.5', 'ipv4': '172.20.254.1/24'}) 
2021-10-20 13:44:58,016 p=104883 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'host': '172.22.22.5', 'ipv4': '172.20.254.1/24'}) 
2021-10-20 13:44:58,524 p=104883 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'host': '172.22.22.6', 'ipv4': '172.20.254.2/24'}) 
2021-10-20 13:45:06,977 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item={'host': '172.22.22.6', 'ipv4': '172.20.254.2/24'})
2021-10-20 13:45:07,051 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item={'host': '172.22.22.7', 'ipv4': '172.20.254.3/24'})
2021-10-20 13:45:07,105 p=104883 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'host': '172.22.22.7', 'ipv4': '172.20.254.3/24'}) 
2021-10-20 13:45:07,259 p=104883 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item={'host': '172.22.22.5', 'ipv4': '172.20.254.1/24'})
2021-10-20 13:45:07,281 p=104883 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'host': '172.22.22.6', 'ipv4': '172.20.254.2/24'}) 
2021-10-20 13:45:07,296 p=104883 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'host': '172.22.22.7', 'ipv4': '172.20.254.3/24'}) 
2021-10-20 13:45:07,374 p=104883 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-20 13:45:07,383 p=104883 u=eduardgevorkyan n=ansible | k3s1                       : ok=8    changed=6    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-10-20 13:45:07,388 p=104883 u=eduardgevorkyan n=ansible | k3s2                       : ok=8    changed=7    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-10-20 13:45:07,388 p=104883 u=eduardgevorkyan n=ansible | k3s3                       : ok=8    changed=7    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-10-20 13:47:59,830 p=106661 u=eduardgevorkyan n=ansible | PLAY [MariaDB cluster deployment] ********************************************************************************************************
2021-10-20 13:48:00,010 p=106661 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-20 13:48:10,424 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 13:48:10,729 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 13:48:10,741 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 13:48:10,999 p=106661 u=eduardgevorkyan n=ansible | TASK [Deployment] ************************************************************************************************************************
2021-10-20 13:48:12,550 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : gather os specific variables] ************************************************************
2021-10-20 13:48:13,058 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-20 13:48:13,078 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-20 13:48:13,136 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-20 13:48:13,184 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : ensure NIC specified in 'galera_cluster_bind_interface' exists] **************************
2021-10-20 13:48:13,379 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-20 13:48:13,486 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-20 13:48:13,537 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-20 13:48:13,568 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | update package list] ************************************************************
2021-10-20 13:48:13,659 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:48:13,735 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:48:13,798 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:48:13,820 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | installing pre-reqs] ************************************************************
2021-10-20 13:48:13,948 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:48:13,949 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:48:14,019 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:48:14,127 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding MariaDB Repo Keys] *******************************************************
2021-10-20 13:48:14,223 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:48:14,322 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:48:14,377 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:48:14,428 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding MariaDB Repo Keys] *******************************************************
2021-10-20 13:48:14,515 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:48:14,592 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:48:14,662 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:48:14,704 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | pinning MariaDB Repo] ***********************************************************
2021-10-20 13:48:14,796 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:48:14,882 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:48:14,932 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:48:14,972 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding mariadb repo] ************************************************************
2021-10-20 13:48:15,085 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:48:15,164 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:48:15,222 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:48:15,265 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | precreate /etc/mysql/conf.d in case we need to add mariadb_config_overrides file] ***
2021-10-20 13:48:15,390 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:48:15,469 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:48:15,532 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:48:15,584 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | add an overrides file] **********************************************************
2021-10-20 13:48:15,674 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:48:15,773 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:48:15,843 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:48:15,888 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | configuring root my.cnf] ********************************************************
2021-10-20 13:48:15,971 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:48:16,059 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:48:16,121 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:48:16,179 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | mysql root password setting] ****************************************************
2021-10-20 13:48:16,410 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=None) 
2021-10-20 13:48:16,419 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=None) 
2021-10-20 13:48:16,424 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:48:16,548 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=None) 
2021-10-20 13:48:16,581 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=None) 
2021-10-20 13:48:16,583 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:48:16,658 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=None) 
2021-10-20 13:48:16,670 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=None) 
2021-10-20 13:48:16,685 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:48:16,753 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | installing mariadb-galera packages] *********************************************
2021-10-20 13:48:16,853 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:48:16,946 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:48:16,967 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:48:17,015 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | adding mariadb repo] ************************************************************
2021-10-20 13:48:20,771 p=106661 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-20 13:48:20,774 p=106661 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-20 13:48:20,778 p=106661 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 13:48:20,867 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | disable appstream mysql/mariadb modules] ****************************************
2021-10-20 13:48:48,606 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 13:48:48,830 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 13:48:48,832 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 13:48:48,968 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | clean dnf metadata (centos8 & fedora)] ******************************************
2021-10-20 13:48:55,674 p=106661 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-20 13:48:55,912 p=106661 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-20 13:48:55,942 p=106661 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 13:48:56,025 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | installing pre-reqs] ************************************************************
2021-10-20 13:53:51,593 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 13:53:52,488 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 13:54:21,959 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 13:54:22,055 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | precreate /etc/my.cnf.d in case we need to add mariadb_config_overrides file] ***
2021-10-20 13:54:22,416 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:54:22,456 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:54:22,603 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:54:22,686 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | add an overrides file] **********************************************************
2021-10-20 13:54:23,271 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 13:54:23,279 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 13:54:23,363 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 13:54:23,392 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | installing mariadb mysql] *******************************************************
2021-10-20 14:11:47,244 p=106661 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-20 14:11:49,958 p=106661 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 14:11:56,400 p=106661 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-20 14:11:56,520 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | remove migrated-from-my.cnf-settings.conf that is causing MariaDB to not start] ***
2021-10-20 14:12:07,535 p=106661 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-20 14:12:07,537 p=106661 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 14:12:07,538 p=106661 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-20 14:12:07,668 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | ensuring mariadb mysql is enabled on boot] **************************************
2021-10-20 14:12:15,663 p=106661 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 14:12:15,679 p=106661 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-20 14:12:15,681 p=106661 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-20 14:12:15,798 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | start only the first node to add users] *****************************************
2021-10-20 14:12:16,278 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:12:16,389 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:12:19,454 p=106661 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 14:12:19,501 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : max-open-files | Create folder] **********************************************************
2021-10-20 14:12:19,592 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:12:19,665 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:12:19,703 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:12:19,734 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : max-open-files | Add the overriding file] ************************************************
2021-10-20 14:12:19,860 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:12:19,867 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:12:19,902 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:12:19,935 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : oom_score_adjust | create folder] ********************************************************
2021-10-20 14:12:20,073 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:12:20,078 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:12:20,120 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:12:20,153 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : oom_score_adjust | add the overriding file] **********************************************
2021-10-20 14:12:20,233 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:12:20,298 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:12:20,348 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:12:20,376 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : timeout-start-sec | Create folder] *******************************************************
2021-10-20 14:12:20,510 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:12:20,512 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:12:20,551 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:12:20,597 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : timeout-start-sec | Add the overriding file] *********************************************
2021-10-20 14:12:20,678 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:12:20,753 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:12:20,902 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:12:20,923 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : system_perfromance_tuning | configure swappiness] ****************************************
2021-10-20 14:12:20,999 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:12:21,077 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:12:21,122 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:12:21,156 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : flush handlers before continuing] ********************************************************
2021-10-20 14:12:21,157 p=106661 u=eduardgevorkyan n=ansible | RUNNING HANDLER [eradical.ansible_mariadb_galera_cluster : reload systemd daemon] ********************************************************
2021-10-20 14:12:28,104 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:12:28,125 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:12:28,129 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:12:28,293 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_users | create MySQL users] ********************************************************
2021-10-20 14:12:30,149 p=106661 u=eduardgevorkyan n=ansible | changed: [k3s1 -> k3s1] => (item=None)
2021-10-20 14:12:31,753 p=106661 u=eduardgevorkyan n=ansible | changed: [k3s1 -> k3s1] => (item=None)
2021-10-20 14:12:35,509 p=106661 u=eduardgevorkyan n=ansible | changed: [k3s1 -> k3s1] => (item=None)
2021-10-20 14:12:38,272 p=106661 u=eduardgevorkyan n=ansible | changed: [k3s1 -> k3s1] => (item=None)
2021-10-20 14:12:38,347 p=106661 u=eduardgevorkyan n=ansible | changed: [k3s1 -> {{ galera_mysql_first_node }}]
2021-10-20 14:12:38,535 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | mark galera cluster node unconfigured] ***********************************
2021-10-20 14:12:43,250 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:12:43,279 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:12:43,280 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:12:43,378 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | checking if galera cluster already configured] ***************************
2021-10-20 14:12:48,134 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:12:48,160 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:12:48,160 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:12:48,260 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | create TLS certificates directory] ***************************************
2021-10-20 14:12:48,543 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:12:48,562 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:12:48,784 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:12:48,940 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | copy TLS CA cert, server cert & private key] *****************************
2021-10-20 14:12:49,172 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:12:49,294 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:12:49,367 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:12:49,422 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | configuring settings for mariadb and galera] *****************************
2021-10-20 14:12:57,788 p=106661 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=etc/my.cnf.d/server.cnf)
2021-10-20 14:12:57,817 p=106661 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=etc/my.cnf.d/server.cnf)
2021-10-20 14:12:57,828 p=106661 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=etc/my.cnf.d/server.cnf)
2021-10-20 14:12:57,902 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | restarting node to apply config changes (first node)] ********************
2021-10-20 14:12:58,022 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:12:58,028 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:12:58,062 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:12:58,107 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | ensure first node is fully started before restarting other nodes] ********
2021-10-20 14:12:58,158 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:12:58,181 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | restarting node to apply config changes (other nodes)] *******************
2021-10-20 14:12:58,239 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:12:58,300 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:12:58,346 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:12:58,372 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | stopping mysql to (re)configure cluster (other nodes)] *******************
2021-10-20 14:12:58,437 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:13:00,440 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:13:02,259 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:13:02,402 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | stopping mysql to (re)configure cluster (first node)] ********************
2021-10-20 14:13:03,145 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:13:03,712 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:13:13,741 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:13:13,857 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for nodes to fully shut down] ***************
2021-10-20 14:13:34,752 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s3 -> localhost]
2021-10-20 14:13:34,758 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost]
2021-10-20 14:13:34,758 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s2 -> localhost]
2021-10-20 14:13:34,797 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | killing lingering mysql processes to ensure mysql is stopped] ************
2021-10-20 14:13:37,840 p=106661 u=eduardgevorkyan n=ansible | fatal: [k3s1]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:00.061623", "end": "2021-10-20 14:13:37.527116", "msg": "non-zero return code", "rc": 1, "start": "2021-10-20 14:13:37.465493", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2021-10-20 14:13:37,842 p=106661 u=eduardgevorkyan n=ansible | ...ignoring
2021-10-20 14:13:37,905 p=106661 u=eduardgevorkyan n=ansible | fatal: [k3s2]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:00.086241", "end": "2021-10-20 14:13:37.614366", "msg": "non-zero return code", "rc": 1, "start": "2021-10-20 14:13:37.528125", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2021-10-20 14:13:37,906 p=106661 u=eduardgevorkyan n=ansible | ...ignoring
2021-10-20 14:13:38,042 p=106661 u=eduardgevorkyan n=ansible | fatal: [k3s3]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:00.074645", "end": "2021-10-20 14:13:37.761953", "msg": "non-zero return code", "rc": 1, "start": "2021-10-20 14:13:37.687308", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2021-10-20 14:13:38,044 p=106661 u=eduardgevorkyan n=ansible | ...ignoring
2021-10-20 14:13:38,112 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | configuring temp galera config for first node] ***************************
2021-10-20 14:13:38,900 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=etc/my.cnf.d/server.cnf) 
2021-10-20 14:13:39,111 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=etc/my.cnf.d/server.cnf) 
2021-10-20 14:13:41,794 p=106661 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=etc/my.cnf.d/server.cnf)
2021-10-20 14:13:41,914 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | bootstrapping galera cluster] ********************************************
2021-10-20 14:13:42,159 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:13:42,315 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:13:44,579 p=106661 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 14:13:44,685 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | ensure first node is fully started before joining other nodes] ***********
2021-10-20 14:13:44,768 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:13:44,839 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for node WSREP prepared state] **************
2021-10-20 14:14:25,729 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s3 -> localhost]
2021-10-20 14:14:25,733 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s2 -> localhost]
2021-10-20 14:14:25,733 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost]
2021-10-20 14:14:25,814 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | joining galera cluster] **************************************************
2021-10-20 14:14:25,990 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:14:43,970 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:15:02,121 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:15:02,226 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for node WSREP prepared state] **************
2021-10-20 14:15:35,333 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s2 -> localhost]
2021-10-20 14:15:35,339 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost]
2021-10-20 14:15:35,340 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s3 -> localhost]
2021-10-20 14:15:35,428 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | configuring final galera config for first node] **************************
2021-10-20 14:15:35,656 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=etc/my.cnf.d/server.cnf) 
2021-10-20 14:15:35,852 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=etc/my.cnf.d/server.cnf) 
2021-10-20 14:15:40,751 p=106661 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=etc/my.cnf.d/server.cnf)
2021-10-20 14:15:40,815 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | restarting first node with final galera config] **************************
2021-10-20 14:15:41,111 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:15:41,225 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:15:47,224 p=106661 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 14:15:47,276 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | marking node as configured for galera cluster] ***************************
2021-10-20 14:15:51,044 p=106661 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 14:15:51,409 p=106661 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-20 14:15:51,561 p=106661 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-20 14:15:51,622 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | ensure node is fully started (synced with cluster)] **********************
2021-10-20 14:15:58,643 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:15:58,785 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:15:58,830 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:15:59,271 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for node WSREP prepared state] **************
2021-10-20 14:16:20,719 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s2 -> localhost]
2021-10-20 14:16:20,745 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s3 -> localhost]
2021-10-20 14:16:20,749 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost]
2021-10-20 14:16:20,810 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : configure_root_access | configuring root my.cnf] *****************************************
2021-10-20 14:16:29,036 p=106661 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 14:16:29,146 p=106661 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-20 14:16:29,159 p=106661 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-20 14:16:29,461 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : configure_root_access | updating root passwords] *****************************************
2021-10-20 14:16:34,053 p=106661 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=None)
2021-10-20 14:16:35,555 p=106661 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=None)
2021-10-20 14:16:36,883 p=106661 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=None)
2021-10-20 14:16:38,523 p=106661 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=None)
2021-10-20 14:16:38,525 p=106661 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 14:16:38,598 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : configure_root_access | updating root passwords (allow from anywhere)] *******************
2021-10-20 14:16:38,722 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=None) 
2021-10-20 14:16:38,725 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:16:38,771 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_databases | create the databases] **************************************************
2021-10-20 14:16:44,230 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'name': 'k3sdemo'})
2021-10-20 14:16:44,258 p=106661 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item={'name': 'k3sdemo'})
2021-10-20 14:16:44,265 p=106661 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'name': 'k3sdemo'})
2021-10-20 14:16:44,342 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_databases | copy database init scripts] ********************************************
2021-10-20 14:16:44,633 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 14:16:44,685 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 14:16:44,765 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'changed': True, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': ['CREATE DATABASE `k3sdemo`'], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 14:16:44,804 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_databases | initialise databases] **************************************************
2021-10-20 14:16:44,947 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 14:16:45,080 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 14:16:45,163 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'changed': True, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': ['CREATE DATABASE `k3sdemo`'], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 14:16:45,193 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_databases | delete init scripts from the server] ***********************************
2021-10-20 14:16:45,366 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 14:16:45,480 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 14:16:45,578 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'changed': True, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': ['CREATE DATABASE `k3sdemo`'], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 14:16:45,678 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | configuring monitor script for galera] *******************************
2021-10-20 14:16:45,895 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:16:45,989 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:16:46,023 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:16:46,070 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | restarting mysql on first node] **************************************
2021-10-20 14:16:46,150 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:16:46,229 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:16:46,265 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:16:46,351 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | waiting for mysql to start on first node] ****************************
2021-10-20 14:16:46,410 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:16:46,464 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | restarting mysql on additional servers] ******************************
2021-10-20 14:16:46,539 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:16:46,613 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:16:46,667 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:16:46,710 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | waiting for mysql to start on other nodes] ***************************
2021-10-20 14:16:46,784 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:16:46,872 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:16:46,916 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:16:47,098 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : cacti_monitoring | adding cacti db user for monitoring] **********************************
2021-10-20 14:16:47,192 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:16:47,241 p=106661 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : cacti_monitoring | adding cacti db user for monitoring] **********************************
2021-10-20 14:16:47,308 p=106661 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:16:47,402 p=106661 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-20 14:16:47,404 p=106661 u=eduardgevorkyan n=ansible | k3s1                       : ok=31   changed=16   unreachable=0    failed=0    skipped=39   rescued=0    ignored=1   
2021-10-20 14:16:47,407 p=106661 u=eduardgevorkyan n=ansible | k3s2                       : ok=25   changed=9    unreachable=0    failed=0    skipped=37   rescued=0    ignored=1   
2021-10-20 14:16:47,409 p=106661 u=eduardgevorkyan n=ansible | k3s3                       : ok=25   changed=10   unreachable=0    failed=0    skipped=37   rescued=0    ignored=1   
2021-10-20 14:26:31,722 p=109441 u=eduardgevorkyan n=ansible | PLAY [MariaDB cluster deployment] ********************************************************************************************************
2021-10-20 14:26:31,962 p=109441 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-20 14:26:38,416 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:26:38,421 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:26:38,428 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:26:38,471 p=109441 u=eduardgevorkyan n=ansible | TASK [Deployment] ************************************************************************************************************************
2021-10-20 14:26:38,809 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : gather os specific variables] ************************************************************
2021-10-20 14:26:39,026 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-20 14:26:39,093 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-20 14:26:39,140 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-20 14:26:39,183 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : ensure NIC specified in 'galera_cluster_bind_interface' exists] **************************
2021-10-20 14:26:39,425 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-20 14:26:39,520 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-20 14:26:39,627 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-20 14:26:39,657 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | update package list] ************************************************************
2021-10-20 14:26:39,751 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:26:39,825 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:26:39,873 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:26:39,925 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | installing pre-reqs] ************************************************************
2021-10-20 14:26:40,010 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:26:40,095 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:26:40,142 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:26:40,183 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding MariaDB Repo Keys] *******************************************************
2021-10-20 14:26:40,329 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:26:40,332 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:26:40,389 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:26:40,414 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding MariaDB Repo Keys] *******************************************************
2021-10-20 14:26:40,491 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:26:40,580 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:26:40,628 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:26:40,674 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | pinning MariaDB Repo] ***********************************************************
2021-10-20 14:26:40,788 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:26:40,864 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:26:40,916 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:26:40,957 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding mariadb repo] ************************************************************
2021-10-20 14:26:41,112 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:26:41,114 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:26:41,187 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:26:41,211 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | precreate /etc/mysql/conf.d in case we need to add mariadb_config_overrides file] ***
2021-10-20 14:26:41,324 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:26:41,404 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:26:41,458 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:26:41,486 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | add an overrides file] **********************************************************
2021-10-20 14:26:41,551 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:26:41,614 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:26:41,659 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:26:41,701 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | configuring root my.cnf] ********************************************************
2021-10-20 14:26:41,813 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:26:41,901 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:26:41,945 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:26:41,967 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | mysql root password setting] ****************************************************
2021-10-20 14:26:42,213 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=None) 
2021-10-20 14:26:42,244 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=None) 
2021-10-20 14:26:42,244 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:26:42,503 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=None) 
2021-10-20 14:26:42,533 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=None) 
2021-10-20 14:26:42,544 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=None) 
2021-10-20 14:26:42,547 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:26:42,559 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=None) 
2021-10-20 14:26:42,561 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:26:42,590 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | installing mariadb-galera packages] *********************************************
2021-10-20 14:26:42,707 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:26:42,710 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:26:42,736 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:26:42,755 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | adding mariadb repo] ************************************************************
2021-10-20 14:26:45,883 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:26:46,062 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:26:46,063 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:26:46,083 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | disable appstream mysql/mariadb modules] ****************************************
2021-10-20 14:27:02,222 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:27:02,330 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:27:02,384 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:27:02,433 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | clean dnf metadata (centos8 & fedora)] ******************************************
2021-10-20 14:27:02,557 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:27:02,560 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:27:02,599 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:27:02,631 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | installing pre-reqs] ************************************************************
2021-10-20 14:27:24,676 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:27:26,700 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:27:26,954 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:27:27,036 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | precreate /etc/my.cnf.d in case we need to add mariadb_config_overrides file] ***
2021-10-20 14:27:27,765 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:27:28,006 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:27:28,111 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:27:28,205 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | add an overrides file] **********************************************************
2021-10-20 14:27:28,592 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:27:28,702 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:27:28,917 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:27:29,001 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | installing mariadb mysql] *******************************************************
2021-10-20 14:27:49,745 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:27:50,325 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:27:50,477 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:27:50,507 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | remove migrated-from-my.cnf-settings.conf that is causing MariaDB to not start] ***
2021-10-20 14:27:53,635 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:27:53,680 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:27:53,684 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:27:53,732 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | ensuring mariadb mysql is enabled on boot] **************************************
2021-10-20 14:28:03,975 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:28:04,023 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:28:04,030 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:28:04,219 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | start only the first node to add users] *****************************************
2021-10-20 14:28:04,787 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:28:05,007 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:28:07,350 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:28:07,429 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : max-open-files | Create folder] **********************************************************
2021-10-20 14:28:07,638 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:28:07,791 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:28:07,871 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:28:07,938 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : max-open-files | Add the overriding file] ************************************************
2021-10-20 14:28:08,142 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:28:08,236 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:28:08,317 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:28:08,380 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : oom_score_adjust | create folder] ********************************************************
2021-10-20 14:28:08,517 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:28:08,625 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:28:08,686 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:28:08,727 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : oom_score_adjust | add the overriding file] **********************************************
2021-10-20 14:28:08,864 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:28:08,946 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:28:09,007 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:28:09,073 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : timeout-start-sec | Create folder] *******************************************************
2021-10-20 14:28:09,192 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:28:09,286 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:28:09,354 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:28:09,403 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : timeout-start-sec | Add the overriding file] *********************************************
2021-10-20 14:28:09,493 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:28:09,579 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:28:09,643 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:28:09,688 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : system_perfromance_tuning | configure swappiness] ****************************************
2021-10-20 14:28:09,775 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:28:09,871 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:28:09,923 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:28:09,960 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : flush handlers before continuing] ********************************************************
2021-10-20 14:28:10,164 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_users | create MySQL users] ********************************************************
2021-10-20 14:28:12,460 p=109441 u=eduardgevorkyan n=ansible | changed: [k3s1 -> k3s1] => (item=None)
2021-10-20 14:28:14,124 p=109441 u=eduardgevorkyan n=ansible | changed: [k3s1 -> k3s1] => (item=None)
2021-10-20 14:28:15,742 p=109441 u=eduardgevorkyan n=ansible | changed: [k3s1 -> k3s1] => (item=None)
2021-10-20 14:28:17,239 p=109441 u=eduardgevorkyan n=ansible | changed: [k3s1 -> k3s1] => (item=None)
2021-10-20 14:28:17,241 p=109441 u=eduardgevorkyan n=ansible | changed: [k3s1 -> {{ galera_mysql_first_node }}]
2021-10-20 14:28:17,280 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | mark galera cluster node unconfigured] ***********************************
2021-10-20 14:28:19,599 p=109441 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 14:28:19,681 p=109441 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-20 14:28:19,767 p=109441 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-20 14:28:19,813 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | checking if galera cluster already configured] ***************************
2021-10-20 14:28:22,404 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:28:22,505 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:28:22,513 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:28:22,561 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | create TLS certificates directory] ***************************************
2021-10-20 14:28:22,710 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:28:22,723 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:28:22,777 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:28:22,817 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | copy TLS CA cert, server cert & private key] *****************************
2021-10-20 14:28:22,894 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:28:22,971 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:28:23,001 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:28:23,033 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | configuring settings for mariadb and galera] *****************************
2021-10-20 14:28:33,151 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=etc/my.cnf.d/server.cnf)
2021-10-20 14:28:33,160 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=etc/my.cnf.d/server.cnf)
2021-10-20 14:28:33,161 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=etc/my.cnf.d/server.cnf)
2021-10-20 14:28:33,235 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | restarting node to apply config changes (first node)] ********************
2021-10-20 14:28:33,411 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:28:33,416 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:28:33,472 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:28:33,528 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | ensure first node is fully started before restarting other nodes] ********
2021-10-20 14:28:33,599 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:28:33,626 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | restarting node to apply config changes (other nodes)] *******************
2021-10-20 14:28:33,709 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:28:33,798 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:28:33,857 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:28:33,882 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | stopping mysql to (re)configure cluster (other nodes)] *******************
2021-10-20 14:28:33,965 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:28:42,723 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:28:51,937 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:28:52,006 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | stopping mysql to (re)configure cluster (first node)] ********************
2021-10-20 14:28:52,167 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:28:52,265 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:29:01,236 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:29:01,299 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for nodes to fully shut down] ***************
2021-10-20 14:29:19,552 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost]
2021-10-20 14:29:19,573 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s2 -> localhost]
2021-10-20 14:29:19,573 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s3 -> localhost]
2021-10-20 14:29:19,630 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | killing lingering mysql processes to ensure mysql is stopped] ************
2021-10-20 14:29:23,998 p=109441 u=eduardgevorkyan n=ansible | fatal: [k3s2]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:00.054451", "end": "2021-10-20 14:29:22.697512", "msg": "non-zero return code", "rc": 1, "start": "2021-10-20 14:29:22.643061", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2021-10-20 14:29:24,081 p=109441 u=eduardgevorkyan n=ansible | ...ignoring
2021-10-20 14:29:24,082 p=109441 u=eduardgevorkyan n=ansible | fatal: [k3s1]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:00.068753", "end": "2021-10-20 14:29:22.699782", "msg": "non-zero return code", "rc": 1, "start": "2021-10-20 14:29:22.631029", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2021-10-20 14:29:24,082 p=109441 u=eduardgevorkyan n=ansible | ...ignoring
2021-10-20 14:29:24,084 p=109441 u=eduardgevorkyan n=ansible | fatal: [k3s3]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:00.059353", "end": "2021-10-20 14:29:22.810719", "msg": "non-zero return code", "rc": 1, "start": "2021-10-20 14:29:22.751366", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2021-10-20 14:29:24,084 p=109441 u=eduardgevorkyan n=ansible | ...ignoring
2021-10-20 14:29:24,207 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | configuring temp galera config for first node] ***************************
2021-10-20 14:29:24,957 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=etc/my.cnf.d/server.cnf) 
2021-10-20 14:29:25,360 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=etc/my.cnf.d/server.cnf) 
2021-10-20 14:29:28,114 p=109441 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=etc/my.cnf.d/server.cnf)
2021-10-20 14:29:28,142 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | bootstrapping galera cluster] ********************************************
2021-10-20 14:29:28,320 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:29:28,390 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:29:30,668 p=109441 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 14:29:30,736 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | ensure first node is fully started before joining other nodes] ***********
2021-10-20 14:29:30,800 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:29:30,864 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for node WSREP prepared state] **************
2021-10-20 14:29:48,195 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s3 -> localhost]
2021-10-20 14:29:48,214 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s2 -> localhost]
2021-10-20 14:29:48,215 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost]
2021-10-20 14:29:48,282 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | joining galera cluster] **************************************************
2021-10-20 14:29:48,369 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:30:00,969 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:30:13,337 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:30:13,413 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for node WSREP prepared state] **************
2021-10-20 14:30:31,285 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s2 -> localhost]
2021-10-20 14:30:31,303 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost]
2021-10-20 14:30:31,303 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s3 -> localhost]
2021-10-20 14:30:31,366 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | configuring final galera config for first node] **************************
2021-10-20 14:30:31,584 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=etc/my.cnf.d/server.cnf) 
2021-10-20 14:30:31,705 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=etc/my.cnf.d/server.cnf) 
2021-10-20 14:30:34,485 p=109441 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=etc/my.cnf.d/server.cnf)
2021-10-20 14:30:34,520 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | restarting first node with final galera config] **************************
2021-10-20 14:30:34,766 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:30:34,937 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:30:42,647 p=109441 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 14:30:42,707 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | marking node as configured for galera cluster] ***************************
2021-10-20 14:30:44,994 p=109441 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 14:30:45,177 p=109441 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-20 14:30:45,200 p=109441 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-20 14:30:45,244 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | ensure node is fully started (synced with cluster)] **********************
2021-10-20 14:30:50,019 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:30:50,082 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:30:50,086 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:30:50,485 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for node WSREP prepared state] **************
2021-10-20 14:30:51,134 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:30:51,550 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:31:08,044 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost]
2021-10-20 14:31:08,110 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : configure_root_access | configuring root my.cnf] *****************************************
2021-10-20 14:31:12,093 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:31:12,152 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:31:12,156 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:31:12,204 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : configure_root_access | updating root passwords] *****************************************
2021-10-20 14:31:13,426 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=None)
2021-10-20 14:31:14,701 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=None)
2021-10-20 14:31:15,910 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=None)
2021-10-20 14:31:17,214 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=None)
2021-10-20 14:31:17,216 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:31:17,341 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : configure_root_access | updating root passwords (allow from anywhere)] *******************
2021-10-20 14:31:17,571 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=None) 
2021-10-20 14:31:17,581 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:31:17,679 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_databases | create the databases] **************************************************
2021-10-20 14:31:23,859 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'name': 'k3sdemo'})
2021-10-20 14:31:23,871 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'name': 'k3sdemo'})
2021-10-20 14:31:23,873 p=109441 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'name': 'k3sdemo'})
2021-10-20 14:31:23,939 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_databases | copy database init scripts] ********************************************
2021-10-20 14:31:24,175 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 14:31:24,210 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 14:31:24,287 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 14:31:24,346 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_databases | initialise databases] **************************************************
2021-10-20 14:31:24,473 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 14:31:24,585 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 14:31:24,665 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 14:31:24,718 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_databases | delete init scripts from the server] ***********************************
2021-10-20 14:31:24,854 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 14:31:24,948 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 14:31:25,023 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 14:31:25,051 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | configuring monitor script for galera] *******************************
2021-10-20 14:31:25,158 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:31:25,239 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:31:25,278 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:31:25,323 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | restarting mysql on first node] **************************************
2021-10-20 14:31:25,401 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:31:25,490 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:31:25,571 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:31:25,659 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | waiting for mysql to start on first node] ****************************
2021-10-20 14:31:25,739 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:31:25,765 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | restarting mysql on additional servers] ******************************
2021-10-20 14:31:25,846 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:31:25,916 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:31:25,961 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:31:25,985 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | waiting for mysql to start on other nodes] ***************************
2021-10-20 14:31:26,071 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:31:26,135 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:31:26,196 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:31:26,233 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : cacti_monitoring | adding cacti db user for monitoring] **********************************
2021-10-20 14:31:26,289 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:31:26,319 p=109441 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : cacti_monitoring | adding cacti db user for monitoring] **********************************
2021-10-20 14:31:26,387 p=109441 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:31:26,485 p=109441 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-20 14:31:26,489 p=109441 u=eduardgevorkyan n=ansible | k3s1                       : ok=29   changed=8    unreachable=0    failed=0    skipped=40   rescued=0    ignored=1   
2021-10-20 14:31:26,491 p=109441 u=eduardgevorkyan n=ansible | k3s2                       : ok=22   changed=3    unreachable=0    failed=0    skipped=39   rescued=0    ignored=1   
2021-10-20 14:31:26,492 p=109441 u=eduardgevorkyan n=ansible | k3s3                       : ok=22   changed=3    unreachable=0    failed=0    skipped=39   rescued=0    ignored=1   
2021-10-20 14:32:45,704 p=110762 u=eduardgevorkyan n=ansible | PLAY [proxy] *****************************************************************************************************************************
2021-10-20 14:32:45,757 p=110762 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-20 14:32:51,422 p=110762 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:32:51,430 p=110762 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:32:51,445 p=110762 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:32:51,534 p=110762 u=eduardgevorkyan n=ansible | TASK [sparknsh.keepalived : Keepalived | Install package] ********************************************************************************
2021-10-20 14:33:18,559 p=110762 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 14:33:18,580 p=110762 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-20 14:33:18,603 p=110762 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-20 14:33:18,777 p=110762 u=eduardgevorkyan n=ansible | TASK [sparknsh.keepalived : Keepalived | Enable keepalived on boot and start] ************************************************************
2021-10-20 14:33:24,973 p=110762 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 14:34:54,678 p=110762 u=eduardgevorkyan n=ansible | fatal: [k3s2]: FAILED! => {"changed": false, "msg": "Unable to start service keepalived: Job for keepalived.service failed because a timeout was exceeded.\nSee \"systemctl status keepalived.service\" and \"journalctl -xeu keepalived.service\" for details.\n"}
2021-10-20 14:34:54,997 p=110762 u=eduardgevorkyan n=ansible | fatal: [k3s3]: FAILED! => {"changed": false, "msg": "Unable to start service keepalived: Job for keepalived.service failed because a timeout was exceeded.\nSee \"systemctl status keepalived.service\" and \"journalctl -xeu keepalived.service\" for details.\n"}
2021-10-20 14:34:55,069 p=110762 u=eduardgevorkyan n=ansible | TASK [sparknsh.keepalived : Keepalived | sysctl Allow ip_nonlocal_bind] ******************************************************************
2021-10-20 14:34:57,006 p=110762 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 14:34:57,047 p=110762 u=eduardgevorkyan n=ansible | TASK [sparknsh.keepalived : Keepalived | Configure keepalived] ***************************************************************************
2021-10-20 14:34:59,907 p=110762 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 14:34:59,960 p=110762 u=eduardgevorkyan n=ansible | RUNNING HANDLER [sparknsh.keepalived : Restart keepalived] *******************************************************************************
2021-10-20 14:35:01,522 p=110762 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 14:35:01,568 p=110762 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-20 14:35:01,572 p=110762 u=eduardgevorkyan n=ansible | k3s1                       : ok=6    changed=5    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-10-20 14:35:01,574 p=110762 u=eduardgevorkyan n=ansible | k3s2                       : ok=2    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-10-20 14:35:01,574 p=110762 u=eduardgevorkyan n=ansible | k3s3                       : ok=2    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-10-20 14:35:12,476 p=110993 u=eduardgevorkyan n=ansible | PLAY [proxy] *****************************************************************************************************************************
2021-10-20 14:35:12,528 p=110993 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-20 14:35:17,228 p=110993 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:35:17,447 p=110993 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:35:17,455 p=110993 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:35:17,525 p=110993 u=eduardgevorkyan n=ansible | TASK [sparknsh.keepalived : Keepalived | Install package] ********************************************************************************
2021-10-20 14:35:32,857 p=110993 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:35:32,883 p=110993 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:35:33,039 p=110993 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:35:33,082 p=110993 u=eduardgevorkyan n=ansible | TASK [sparknsh.keepalived : Keepalived | Enable keepalived on boot and start] ************************************************************
2021-10-20 14:35:41,319 p=110993 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:35:41,344 p=110993 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-20 14:35:41,461 p=110993 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-20 14:35:41,525 p=110993 u=eduardgevorkyan n=ansible | TASK [sparknsh.keepalived : Keepalived | sysctl Allow ip_nonlocal_bind] ******************************************************************
2021-10-20 14:35:44,865 p=110993 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-20 14:35:44,987 p=110993 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:35:45,024 p=110993 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-20 14:35:45,111 p=110993 u=eduardgevorkyan n=ansible | TASK [sparknsh.keepalived : Keepalived | Configure keepalived] ***************************************************************************
2021-10-20 14:35:50,881 p=110993 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:35:51,546 p=110993 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-20 14:35:51,559 p=110993 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-20 14:35:51,636 p=110993 u=eduardgevorkyan n=ansible | RUNNING HANDLER [sparknsh.keepalived : Restart keepalived] *******************************************************************************
2021-10-20 14:35:53,805 p=110993 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-20 14:35:53,849 p=110993 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-20 14:35:53,914 p=110993 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-20 14:35:53,917 p=110993 u=eduardgevorkyan n=ansible | k3s1                       : ok=5    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-10-20 14:35:53,919 p=110993 u=eduardgevorkyan n=ansible | k3s2                       : ok=6    changed=4    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-10-20 14:35:53,920 p=110993 u=eduardgevorkyan n=ansible | k3s3                       : ok=6    changed=4    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-10-20 14:36:45,080 p=111272 u=eduardgevorkyan n=ansible | PLAY [Build a cluster with HA control plane] *********************************************************************************************
2021-10-20 14:36:45,173 p=111272 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-20 14:36:50,048 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:36:50,151 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:36:50,313 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:36:50,349 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check that k3s_state is a supported value] ************************************************************************
2021-10-20 14:36:50,482 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "k3s_state is valid."
}
2021-10-20 14:36:50,532 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "k3s_state is valid."
}
2021-10-20 14:36:50,593 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "k3s_state is valid."
}
2021-10-20 14:36:50,645 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check that Ansible v2.11.6 is supported by this role] *************************************************************
2021-10-20 14:36:50,717 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost] => {
    "changed": false,
    "msg": "Ansible v2.11.6 is supported."
}
2021-10-20 14:36:50,766 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 14:36:51,177 p=111272 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/validate/environment/remote/cgroups.yml for k3s1, k3s2, k3s3 => (item={'name': 'memory', 'documentation': 'If you are running on a Raspberry Pi, see:\nhttps://rancher.com/docs/k3s/latest/en/advanced/#enabling-cgroups-for-raspbian-buster\n'})
2021-10-20 14:36:51,180 p=111272 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/validate/environment/remote/cgroups.yml for k3s1, k3s2, k3s3 => (item={'name': 'cpuset', 'documentation': 'If you are running Alpine Linux, see:\nhttps://rancher.com/docs/k3s/latest/en/advanced/#additional-preparation-for-alpine-linux-setup\n'})
2021-10-20 14:36:51,222 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if memory cgroup is enabled] ********************************************************************************
2021-10-20 14:36:53,513 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:36:53,577 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:36:53,583 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:36:53,630 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Fail if memory cgroup is not enabled] *****************************************************************************
2021-10-20 14:36:53,762 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "memory cgroup enabled."
}
2021-10-20 14:36:53,779 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "memory cgroup enabled."
}
2021-10-20 14:36:53,879 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "memory cgroup enabled."
}
2021-10-20 14:36:53,902 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if cpuset cgroup is enabled] ********************************************************************************
2021-10-20 14:36:55,992 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:36:56,053 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:36:56,168 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:36:56,192 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Fail if cpuset cgroup is not enabled] *****************************************************************************
2021-10-20 14:36:56,327 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "cpuset cgroup enabled."
}
2021-10-20 14:36:56,344 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "cpuset cgroup enabled."
}
2021-10-20 14:36:56,415 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "cpuset cgroup enabled."
}
2021-10-20 14:36:56,451 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 14:36:56,689 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 14:36:56,846 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:36:56,854 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:36:56,928 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:36:56,992 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 14:36:57,992 p=111272 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/state-installed.yml for k3s1, k3s2, k3s3
2021-10-20 14:36:58,105 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s_build_cluster is false if running against a single node.] **********************************************
2021-10-20 14:36:58,595 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:36:59,833 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:36:59,984 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:37:00,293 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s control node fact is set] ******************************************************************************
2021-10-20 14:37:00,763 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:37:00,876 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:37:01,003 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:37:01,036 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s primary control node fact is set] **********************************************************************
2021-10-20 14:37:01,249 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:37:01,295 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:37:01,360 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:37:01,402 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s control plane port is captured] ************************************************************************
2021-10-20 14:37:01,567 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s1 -> k3s_primary_control_node]
2021-10-20 14:37:01,586 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s2 -> k3s_primary_control_node]
2021-10-20 14:37:01,642 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s3 -> k3s_primary_control_node]
2021-10-20 14:37:01,672 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s node IP is configured when node-ip is defined] *********************************************************
2021-10-20 14:37:01,851 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:37:01,896 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:37:01,947 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:37:01,968 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure a count of control nodes is generated from ansible_play_hosts] *********************************************
2021-10-20 14:37:02,293 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=k3s1)
2021-10-20 14:37:02,425 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=k3s1)
2021-10-20 14:37:02,489 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=k3s2)
2021-10-20 14:37:02,575 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=k3s1)
2021-10-20 14:37:02,636 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=k3s2)
2021-10-20 14:37:02,711 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=k3s3)
2021-10-20 14:37:02,788 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=k3s2)
2021-10-20 14:37:02,842 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=k3s3)
2021-10-20 14:37:02,905 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=k3s3)
2021-10-20 14:37:02,967 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Set the control host] *********************************************************************************************
2021-10-20 14:37:03,050 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:37:03,150 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:37:03,196 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:37:03,233 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure a count of control nodes is generated] *********************************************************************
2021-10-20 14:37:03,333 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s1) 
2021-10-20 14:37:03,366 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s2) 
2021-10-20 14:37:03,420 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s3) 
2021-10-20 14:37:03,487 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=k3s1) 
2021-10-20 14:37:03,506 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=k3s2) 
2021-10-20 14:37:03,550 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=k3s3) 
2021-10-20 14:37:03,611 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=k3s1) 
2021-10-20 14:37:03,627 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=k3s2) 
2021-10-20 14:37:03,645 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=k3s3) 
2021-10-20 14:37:03,705 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure a primary k3s control node is defined if multiple are found in ansible_play_hosts] *************************
2021-10-20 14:37:03,856 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:37:03,885 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:37:03,952 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:37:03,987 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure ansible_host is mapped to inventory_hostname] **************************************************************
2021-10-20 14:37:07,308 p=111272 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 14:37:07,389 p=111272 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-20 14:37:07,455 p=111272 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-20 14:37:07,508 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Lookup control node from file] ************************************************************************************
2021-10-20 14:37:09,628 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:37:09,660 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:37:09,818 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:37:09,838 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure control node is delegated for obtaining a cluster token] ***************************************************
2021-10-20 14:37:09,980 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:37:10,055 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:37:10,118 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:37:10,160 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure the node registration address is defined from k3s_control_node_address] ************************************
2021-10-20 14:37:10,305 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:37:10,311 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:37:10,378 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:37:10,425 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure the node registration address is defined from node-ip] *****************************************************
2021-10-20 14:37:10,605 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:37:10,613 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:37:10,665 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:37:10,685 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure the node registration address is defined] ******************************************************************
2021-10-20 14:37:10,908 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:37:10,917 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:37:10,993 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:37:11,032 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s_runtime_config is set for agents] **********************************************************************
2021-10-20 14:37:11,184 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:37:11,203 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:37:11,276 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:37:11,313 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if kubectl exists] ******************************************************************************************
2021-10-20 14:37:14,279 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:37:14,377 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:37:14,446 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:37:14,506 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Gather a list of nodes] *******************************************************************************************
2021-10-20 14:37:14,595 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:37:14,661 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure uninstalled nodes are drained] *****************************************************************************
2021-10-20 14:37:14,741 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s1) 
2021-10-20 14:37:14,775 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s2) 
2021-10-20 14:37:14,828 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s3) 
2021-10-20 14:37:14,894 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure uninstalled nodes are removed] *****************************************************************************
2021-10-20 14:37:15,003 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s1) 
2021-10-20 14:37:15,037 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s2) 
2021-10-20 14:37:15,085 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s3) 
2021-10-20 14:37:15,131 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s_release_version is set to default if false] ************************************************************
2021-10-20 14:37:15,266 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:37:15,271 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:37:15,325 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:37:15,349 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure the default release channel is set] ************************************************************************
2021-10-20 14:37:15,474 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:37:15,477 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:37:15,521 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:37:15,559 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Get the latest release version from k3s.io] ***********************************************************************
2021-10-20 14:37:15,654 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:37:15,735 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:37:15,787 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:37:15,818 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure the release version is set as a fact] **********************************************************************
2021-10-20 14:37:15,937 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:37:15,941 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:37:16,017 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:37:16,068 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check that k3s_release_version >= 1.19.3] *************************************************************************
2021-10-20 14:37:16,255 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "v1.22.2+k3s2 is supported by this role."
}
2021-10-20 14:37:16,327 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "v1.22.2+k3s2 is supported by this role."
}
2021-10-20 14:37:16,368 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "v1.22.2+k3s2 is supported by this role."
}
2021-10-20 14:37:16,429 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check configuration in k3s_server and k3s_agent that needs alternate configuration] *******************************
2021-10-20 14:37:16,601 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'server', 'correction': 'k3s_registration_address'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_registration_address",
        "setting": "server"
    },
    "msg": "server not found in server/agent config"
}
2021-10-20 14:37:16,701 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'cluster-init', 'correction': 'k3s_etcd_datastore'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_etcd_datastore",
        "setting": "cluster-init"
    },
    "msg": "cluster-init not found in server/agent config"
}
2021-10-20 14:37:16,755 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'server', 'correction': 'k3s_registration_address'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_registration_address",
        "setting": "server"
    },
    "msg": "server not found in server/agent config"
}
2021-10-20 14:37:16,866 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'token', 'correction': 'k3s_control_token'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_control_token",
        "setting": "token"
    },
    "msg": "token not found in server/agent config"
}
2021-10-20 14:37:16,897 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'cluster-init', 'correction': 'k3s_etcd_datastore'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_etcd_datastore",
        "setting": "cluster-init"
    },
    "msg": "cluster-init not found in server/agent config"
}
2021-10-20 14:37:16,921 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'server', 'correction': 'k3s_registration_address'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_registration_address",
        "setting": "server"
    },
    "msg": "server not found in server/agent config"
}
2021-10-20 14:37:17,021 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'token-file', 'correction': 'k3s_token_location'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_token_location",
        "setting": "token-file"
    },
    "msg": "token-file not found in server/agent config"
}
2021-10-20 14:37:17,065 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'token', 'correction': 'k3s_control_token'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_control_token",
        "setting": "token"
    },
    "msg": "token not found in server/agent config"
}
2021-10-20 14:37:17,108 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'cluster-init', 'correction': 'k3s_etcd_datastore'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_etcd_datastore",
        "setting": "cluster-init"
    },
    "msg": "cluster-init not found in server/agent config"
}
2021-10-20 14:37:17,190 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'token-file', 'correction': 'k3s_token_location'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_token_location",
        "setting": "token-file"
    },
    "msg": "token-file not found in server/agent config"
}
2021-10-20 14:37:17,229 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'token', 'correction': 'k3s_control_token'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_control_token",
        "setting": "token"
    },
    "msg": "token not found in server/agent config"
}
2021-10-20 14:37:17,288 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'token-file', 'correction': 'k3s_token_location'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_token_location",
        "setting": "token-file"
    },
    "msg": "token-file not found in server/agent config"
}
2021-10-20 14:37:17,323 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check configuration in k3s_server and k3s_agent for deprecated configuration] *************************************
2021-10-20 14:37:17,521 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'no-flannel', 'correction': "flannel-backend: 'none'"}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "flannel-backend: 'none'",
        "setting": "no-flannel"
    },
    "msg": "no-flannel not found in server/agent config"
}
2021-10-20 14:37:17,655 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'no-flannel', 'correction': "flannel-backend: 'none'"}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "flannel-backend: 'none'",
        "setting": "no-flannel"
    },
    "msg": "no-flannel not found in server/agent config"
}
2021-10-20 14:37:17,708 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'cluster-secret', 'correction': 'token'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "token",
        "setting": "cluster-secret"
    },
    "msg": "cluster-secret not found in server/agent config"
}
2021-10-20 14:37:17,815 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'no-flannel', 'correction': "flannel-backend: 'none'"}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "flannel-backend: 'none'",
        "setting": "no-flannel"
    },
    "msg": "no-flannel not found in server/agent config"
}
2021-10-20 14:37:17,831 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'cluster-secret', 'correction': 'token'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "token",
        "setting": "cluster-secret"
    },
    "msg": "cluster-secret not found in server/agent config"
}
2021-10-20 14:37:17,921 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'no-deploy', 'correction': 'disable: VALUE'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "disable: VALUE",
        "setting": "no-deploy"
    },
    "msg": "no-deploy not found in server/agent config"
}
2021-10-20 14:37:17,984 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'cluster-secret', 'correction': 'token'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "token",
        "setting": "cluster-secret"
    },
    "msg": "cluster-secret not found in server/agent config"
}
2021-10-20 14:37:18,028 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'no-deploy', 'correction': 'disable: VALUE'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "disable: VALUE",
        "setting": "no-deploy"
    },
    "msg": "no-deploy not found in server/agent config"
}
2021-10-20 14:37:18,134 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'docker', 'correction': 'docker: false', 'when': '1.20.0'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "docker: false",
        "setting": "docker",
        "when": "1.20.0"
    },
    "msg": "docker not found in server/agent config"
}
2021-10-20 14:37:18,186 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'no-deploy', 'correction': 'disable: VALUE'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "disable: VALUE",
        "setting": "no-deploy"
    },
    "msg": "no-deploy not found in server/agent config"
}
2021-10-20 14:37:18,214 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'docker', 'correction': 'docker: false', 'when': '1.20.0'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "docker: false",
        "setting": "docker",
        "when": "1.20.0"
    },
    "msg": "docker not found in server/agent config"
}
2021-10-20 14:37:18,282 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'docker', 'correction': 'docker: false', 'when': '1.20.0'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "docker: false",
        "setting": "docker",
        "when": "1.20.0"
    },
    "msg": "docker not found in server/agent config"
}
2021-10-20 14:37:18,305 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check configuration in k3s_server and k3s_agent against release version] ******************************************
2021-10-20 14:37:18,418 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'etcd-s3-bucket', 'version': '1.20.6'}) 
2021-10-20 14:37:18,499 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'etcd-s3-bucket', 'version': '1.20.6'}) 
2021-10-20 14:37:18,552 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'etcd-s3-bucket', 'version': '1.20.6'}) 
2021-10-20 14:37:18,586 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if embedded etcd datastore is enabled and marked as experimental] *******************************************
2021-10-20 14:37:18,702 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:37:18,719 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:37:18,775 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:37:18,808 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if any experimental variables are configure and if they are enabled with k3s_use_experimental] **************
2021-10-20 14:37:18,938 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'selinux', 'until': '1.19.4'}) 
2021-10-20 14:37:19,042 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'selinux', 'until': '1.19.4'}) 
2021-10-20 14:37:19,118 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'rootless'}) 
2021-10-20 14:37:19,182 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'selinux', 'until': '1.19.4'}) 
2021-10-20 14:37:19,237 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'secrets-encryption'}) 
2021-10-20 14:37:19,262 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'rootless'}) 
2021-10-20 14:37:19,338 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'agent-token'}) 
2021-10-20 14:37:19,354 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'rootless'}) 
2021-10-20 14:37:19,360 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'secrets-encryption'}) 
2021-10-20 14:37:19,430 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'agent-token-file'}) 
2021-10-20 14:37:19,438 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'secrets-encryption'}) 
2021-10-20 14:37:19,453 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'agent-token'}) 
2021-10-20 14:37:19,528 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'cluster-reset', 'until': '1.19.5'}) 
2021-10-20 14:37:19,540 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'agent-token-file'}) 
2021-10-20 14:37:19,548 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'agent-token'}) 
2021-10-20 14:37:19,611 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'cluster-reset', 'until': '1.19.5'}) 
2021-10-20 14:37:19,637 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'agent-token-file'}) 
2021-10-20 14:37:19,670 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'cluster-reset', 'until': '1.19.5'}) 
2021-10-20 14:37:19,717 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if newuidmap is available] **********************************************************************************
2021-10-20 14:37:19,841 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:37:19,851 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:37:19,905 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:37:19,937 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if /proc/sys/kernel/unprivileged_userns_clone exists] *******************************************************
2021-10-20 14:37:20,088 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:37:20,106 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:37:20,174 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:37:20,196 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Get the value of /proc/sys/kernel/unprivileged_userns_clone] ******************************************************
2021-10-20 14:37:20,335 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:37:20,347 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:37:20,406 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:37:20,429 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Set the value of k3s_get_unprivileged_userns_clone] ***************************************************************
2021-10-20 14:37:20,579 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:37:20,593 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:37:20,657 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:37:20,681 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Get the value of /proc/sys/user/max_user_namespaces] **************************************************************
2021-10-20 14:37:21,129 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:37:21,129 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:37:21,170 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:37:21,197 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Get the contents of /etc/subuid] **********************************************************************************
2021-10-20 14:37:21,331 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:37:21,339 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:37:21,407 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:37:21,446 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Get the contents of /etc/subgid] **********************************************************************************
2021-10-20 14:37:21,569 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:37:21,587 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:37:21,676 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:37:21,701 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Get current user subuid and subgid values] ************************************************************************
2021-10-20 14:37:21,861 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:37:21,867 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:37:21,920 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:37:21,946 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check user namespaces kernel parameters are adequate] *************************************************************
2021-10-20 14:37:22,090 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:37:22,112 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:37:22,187 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:37:22,209 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check the conditions when a single controller is defined] *********************************************************
2021-10-20 14:37:22,342 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:37:22,368 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:37:22,430 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:37:22,459 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check the conditions when multiple controllers are defined] *******************************************************
2021-10-20 14:37:22,638 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "Control plane configuration is valid."
}
2021-10-20 14:37:22,709 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "Control plane configuration is valid."
}
2021-10-20 14:37:22,766 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "Control plane configuration is valid."
}
2021-10-20 14:37:22,790 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check the conditions when embedded etcd is defined] ***************************************************************
2021-10-20 14:37:22,920 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:37:22,933 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:37:23,001 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:37:23,046 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure systemd context is correct if we are running k3s rootless] *************************************************
2021-10-20 14:37:23,202 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:37:23,253 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:37:23,301 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:37:23,337 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 14:37:23,461 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:37:23,473 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:37:23,538 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:37:23,581 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure docker is installed] ***************************************************************************************
2021-10-20 14:37:23,754 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:37:23,766 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:37:23,844 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:37:23,883 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 14:37:24,010 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:37:24,014 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:37:24,070 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:37:24,095 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Flush Handlers] ***************************************************************************************************
2021-10-20 14:37:24,124 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure target host architecture information is set as a fact] *****************************************************
2021-10-20 14:37:24,264 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:37:24,269 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:37:24,345 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:37:24,374 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure URLs are set as facts for downloading binaries] ************************************************************
2021-10-20 14:37:24,514 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:37:24,518 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:37:24,581 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:37:24,604 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Override k3s_binary_url and k3s_hash_url facts for testing specific commit] ***************************************
2021-10-20 14:37:24,722 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:37:24,724 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:37:24,776 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:37:24,805 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure the k3s hashsum is downloaded] *****************************************************************************
2021-10-20 14:37:32,282 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:37:32,287 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:37:32,288 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:37:32,346 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure sha256sum is set from hashsum variable] ********************************************************************
2021-10-20 14:37:32,516 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:37:32,533 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:37:32,604 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:37:32,633 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure installation directory exists] *****************************************************************************
2021-10-20 14:37:35,804 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:37:35,826 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:37:35,836 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:37:35,890 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s binary is downloaded] **********************************************************************************
2021-10-20 14:38:28,851 p=111272 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-20 14:38:28,869 p=111272 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-20 14:38:28,872 p=111272 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 14:38:28,934 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure that the manifests directory exists] ***********************************************************************
2021-10-20 14:38:29,106 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:38:29,111 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:38:29,165 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:38:29,200 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure auto-deploying manifests are copied to the primary controller] *********************************************
2021-10-20 14:38:29,347 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure that the manifests directory exists] ***********************************************************************
2021-10-20 14:38:29,471 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:38:29,476 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:38:29,511 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:38:29,535 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure auto-deploying manifests are downloaded to the primary controller] *****************************************
2021-10-20 14:38:29,667 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure that the pod-manifests directory exists] *******************************************************************
2021-10-20 14:38:29,798 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:38:29,802 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:38:29,863 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:38:29,881 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure static pod manifests are copied to controllers] ************************************************************
2021-10-20 14:38:30,011 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure that the pod-manifests directory exists] *******************************************************************
2021-10-20 14:38:30,150 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:38:30,155 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:38:30,217 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:38:30,238 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure auto-deploying manifests are downloaded to the primary controller] *****************************************
2021-10-20 14:38:30,378 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure that the config.yaml.d directory exists] *******************************************************************
2021-10-20 14:38:30,491 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:38:30,508 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:38:30,563 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:38:30,583 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure configuration files are copied to controllers] *************************************************************
2021-10-20 14:38:30,720 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure that the config.yaml.d directory exists] *******************************************************************
2021-10-20 14:38:30,838 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:38:30,844 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:38:30,887 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:38:30,917 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure configuration files are copied to agents] ******************************************************************
2021-10-20 14:38:31,040 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 14:38:31,524 p=111272 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-directories.yml for k3s1, k3s2, k3s3 => (item={'name': 'Config directory', 'path': '/etc/rancher/k3s'})
2021-10-20 14:38:31,527 p=111272 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-directories.yml for k3s1, k3s2, k3s3 => (item={'name': 'Config.yaml.d directory', 'path': '/etc/rancher/k3s/config.yaml.d'})
2021-10-20 14:38:31,530 p=111272 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-directories.yml for k3s1, k3s2, k3s3 => (item={'name': 'Systemd unit file directory', 'path': '/etc/systemd/system'})
2021-10-20 14:38:31,533 p=111272 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-directories.yml for k3s1, k3s2, k3s3 => (item={'name': 'Data directory', 'path': '/var/lib/rancher/k3s'})
2021-10-20 14:38:31,547 p=111272 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-directories.yml for k3s1, k3s2, k3s3 => (item={'name': 'Default local storage path', 'path': '__omit_place_holder__4e8c79f9cd571e827123d1a005daba9236b3ddb6'})
2021-10-20 14:38:31,552 p=111272 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-directories.yml for k3s1, k3s2, k3s3 => (item={'name': 'Private registry config file', 'path': ''})
2021-10-20 14:38:31,639 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure Config directory exists] ***********************************************************************************
2021-10-20 14:38:34,018 p=111272 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-20 14:38:34,088 p=111272 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-20 14:38:34,101 p=111272 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 14:38:34,152 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure Config.yaml.d directory exists] ****************************************************************************
2021-10-20 14:38:38,756 p=111272 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 14:38:38,801 p=111272 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-20 14:38:39,608 p=111272 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-20 14:38:39,857 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure Systemd unit file directory exists] ************************************************************************
2021-10-20 14:38:43,194 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:38:43,288 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:38:43,294 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:38:43,343 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure Data directory exists] *************************************************************************************
2021-10-20 14:38:45,725 p=111272 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 14:38:45,783 p=111272 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-20 14:38:45,917 p=111272 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-20 14:38:45,957 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure Default local storage path exists] *************************************************************************
2021-10-20 14:38:46,093 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:38:46,141 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:38:46,195 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:38:46,243 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure Private registry config file exists] ***********************************************************************
2021-10-20 14:38:46,386 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:38:46,393 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:38:46,455 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:38:46,484 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 14:38:46,629 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:38:46,681 p=111272 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:38:46,738 p=111272 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-node.yml for k3s1
2021-10-20 14:38:46,817 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s is linked into the installation destination] ***********************************************************
2021-10-20 14:38:48,015 p=111272 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=k3s)
2021-10-20 14:38:49,169 p=111272 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=kubectl)
2021-10-20 14:38:50,369 p=111272 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=crictl)
2021-10-20 14:38:51,572 p=111272 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=ctr)
2021-10-20 14:38:51,620 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s config file exists] ************************************************************************************
2021-10-20 14:38:55,423 p=111272 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 14:38:55,490 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s service unit file is present] **************************************************************************
2021-10-20 14:38:57,837 p=111272 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 14:38:57,859 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s killall script is present] *****************************************************************************
2021-10-20 14:39:00,222 p=111272 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 14:39:00,250 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s uninstall script is present] ***************************************************************************
2021-10-20 14:39:02,579 p=111272 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 14:39:02,623 p=111272 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Flush Handlers] ***************************************************************************************************
2021-10-20 14:39:02,624 p=111272 u=eduardgevorkyan n=ansible | RUNNING HANDLER [xanmanning.k3s : reload systemd] ****************************************************************************************
2021-10-20 14:39:05,462 p=111272 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:39:05,464 p=111272 u=eduardgevorkyan n=ansible | RUNNING HANDLER [xanmanning.k3s : restart k3s] *******************************************************************************************
2021-10-20 14:39:13,129 p=111272 u=eduardgevorkyan n=ansible | fatal: [k3s1]: FAILED! => {"changed": false, "failed_when_result": true, "msg": "Unable to start service k3s: Job for k3s.service failed because the control process exited with error code.\nSee \"systemctl status k3s.service\" and \"journalctl -xeu k3s.service\" for details.\n"}
2021-10-20 14:39:13,136 p=111272 u=eduardgevorkyan n=ansible | NO MORE HOSTS LEFT ***********************************************************************************************************************
2021-10-20 14:39:13,140 p=111272 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-20 14:39:13,140 p=111272 u=eduardgevorkyan n=ansible | k3s1                       : ok=45   changed=10   unreachable=0    failed=1    skipped=51   rescued=0    ignored=0   
2021-10-20 14:39:13,140 p=111272 u=eduardgevorkyan n=ansible | k3s2                       : ok=36   changed=5    unreachable=0    failed=0    skipped=50   rescued=0    ignored=0   
2021-10-20 14:39:13,141 p=111272 u=eduardgevorkyan n=ansible | k3s3                       : ok=36   changed=5    unreachable=0    failed=0    skipped=50   rescued=0    ignored=0   
2021-10-20 14:39:22,549 p=112251 u=eduardgevorkyan n=ansible | PLAY [Build a cluster with HA control plane] *********************************************************************************************
2021-10-20 14:39:22,618 p=112251 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-20 14:39:27,414 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:39:27,484 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:39:28,336 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:39:28,406 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check that k3s_state is a supported value] ************************************************************************
2021-10-20 14:39:28,554 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "k3s_state is valid."
}
2021-10-20 14:39:28,604 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "k3s_state is valid."
}
2021-10-20 14:39:28,667 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "k3s_state is valid."
}
2021-10-20 14:39:28,709 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check that Ansible v2.11.6 is supported by this role] *************************************************************
2021-10-20 14:39:28,797 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost] => {
    "changed": false,
    "msg": "Ansible v2.11.6 is supported."
}
2021-10-20 14:39:28,858 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 14:39:29,746 p=112251 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/validate/environment/remote/cgroups.yml for k3s1, k3s2, k3s3 => (item={'name': 'memory', 'documentation': 'If you are running on a Raspberry Pi, see:\nhttps://rancher.com/docs/k3s/latest/en/advanced/#enabling-cgroups-for-raspbian-buster\n'})
2021-10-20 14:39:29,752 p=112251 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/validate/environment/remote/cgroups.yml for k3s1, k3s2, k3s3 => (item={'name': 'cpuset', 'documentation': 'If you are running Alpine Linux, see:\nhttps://rancher.com/docs/k3s/latest/en/advanced/#additional-preparation-for-alpine-linux-setup\n'})
2021-10-20 14:39:29,833 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if memory cgroup is enabled] ********************************************************************************
2021-10-20 14:39:33,163 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:39:33,259 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:39:33,402 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:39:33,429 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Fail if memory cgroup is not enabled] *****************************************************************************
2021-10-20 14:39:33,573 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "memory cgroup enabled."
}
2021-10-20 14:39:33,586 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "memory cgroup enabled."
}
2021-10-20 14:39:33,662 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "memory cgroup enabled."
}
2021-10-20 14:39:33,710 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if cpuset cgroup is enabled] ********************************************************************************
2021-10-20 14:39:36,837 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:39:36,956 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:39:37,250 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:39:37,490 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Fail if cpuset cgroup is not enabled] *****************************************************************************
2021-10-20 14:39:38,371 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "cpuset cgroup enabled."
}
2021-10-20 14:39:38,472 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "cpuset cgroup enabled."
}
2021-10-20 14:39:38,647 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "cpuset cgroup enabled."
}
2021-10-20 14:39:38,751 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 14:39:39,527 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 14:39:39,653 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:39:39,675 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:39:39,734 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:39:39,761 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 14:39:40,413 p=112251 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/state-installed.yml for k3s1, k3s2, k3s3
2021-10-20 14:39:40,468 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s_build_cluster is false if running against a single node.] **********************************************
2021-10-20 14:39:40,544 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:39:40,611 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:39:40,661 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:39:40,699 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s control node fact is set] ******************************************************************************
2021-10-20 14:39:40,813 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:39:40,820 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:39:40,873 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:39:40,899 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s primary control node fact is set] **********************************************************************
2021-10-20 14:39:41,113 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:39:41,178 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:39:41,262 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:39:41,311 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s control plane port is captured] ************************************************************************
2021-10-20 14:39:41,488 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1 -> k3s_primary_control_node]
2021-10-20 14:39:41,519 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s2 -> k3s_primary_control_node]
2021-10-20 14:39:41,612 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s3 -> k3s_primary_control_node]
2021-10-20 14:39:41,635 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s node IP is configured when node-ip is defined] *********************************************************
2021-10-20 14:39:41,773 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:39:41,797 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:39:41,860 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:39:41,882 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure a count of control nodes is generated from ansible_play_hosts] *********************************************
2021-10-20 14:39:42,269 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=k3s1)
2021-10-20 14:39:42,420 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=k3s1)
2021-10-20 14:39:42,490 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=k3s2)
2021-10-20 14:39:42,649 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=k3s1)
2021-10-20 14:39:42,676 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=k3s2)
2021-10-20 14:39:42,750 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=k3s3)
2021-10-20 14:39:42,838 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=k3s2)
2021-10-20 14:39:42,856 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=k3s3)
2021-10-20 14:39:42,909 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=k3s3)
2021-10-20 14:39:42,938 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Set the control host] *********************************************************************************************
2021-10-20 14:39:43,031 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:39:43,102 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:39:43,156 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:39:43,221 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure a count of control nodes is generated] *********************************************************************
2021-10-20 14:39:43,339 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s1) 
2021-10-20 14:39:43,370 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s2) 
2021-10-20 14:39:43,410 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s3) 
2021-10-20 14:39:43,489 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=k3s1) 
2021-10-20 14:39:43,521 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=k3s2) 
2021-10-20 14:39:43,540 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=k3s3) 
2021-10-20 14:39:43,602 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=k3s1) 
2021-10-20 14:39:43,629 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=k3s2) 
2021-10-20 14:39:43,641 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=k3s3) 
2021-10-20 14:39:43,679 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure a primary k3s control node is defined if multiple are found in ansible_play_hosts] *************************
2021-10-20 14:39:43,851 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:39:43,867 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:39:43,941 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:39:43,972 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure ansible_host is mapped to inventory_hostname] **************************************************************
2021-10-20 14:39:47,412 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:39:47,651 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:39:47,677 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:39:47,762 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Lookup control node from file] ************************************************************************************
2021-10-20 14:39:49,922 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:39:50,101 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:39:50,103 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:39:50,147 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure control node is delegated for obtaining a cluster token] ***************************************************
2021-10-20 14:39:50,291 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:39:50,369 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:39:50,419 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:39:50,440 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure the node registration address is defined from k3s_control_node_address] ************************************
2021-10-20 14:39:50,579 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:39:50,592 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:39:50,662 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:39:50,706 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure the node registration address is defined from node-ip] *****************************************************
2021-10-20 14:39:50,828 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:39:50,836 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:39:50,895 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:39:50,922 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure the node registration address is defined] ******************************************************************
2021-10-20 14:39:51,092 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:39:51,108 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:39:51,176 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:39:51,214 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s_runtime_config is set for agents] **********************************************************************
2021-10-20 14:39:51,335 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:39:51,365 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:39:51,417 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:39:51,449 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if kubectl exists] ******************************************************************************************
2021-10-20 14:39:54,859 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:39:54,890 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:39:54,893 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:39:54,960 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Gather a list of nodes] *******************************************************************************************
2021-10-20 14:39:56,843 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1 -> k3s1]
2021-10-20 14:39:56,907 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure uninstalled nodes are drained] *****************************************************************************
2021-10-20 14:39:57,010 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s1) 
2021-10-20 14:39:57,093 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s2) 
2021-10-20 14:39:57,155 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s3) 
2021-10-20 14:39:57,227 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure uninstalled nodes are removed] *****************************************************************************
2021-10-20 14:39:57,351 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s1) 
2021-10-20 14:39:57,420 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s2) 
2021-10-20 14:39:57,492 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s3) 
2021-10-20 14:39:57,538 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s_release_version is set to default if false] ************************************************************
2021-10-20 14:39:57,647 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:39:57,651 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:39:57,693 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:39:57,726 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure the default release channel is set] ************************************************************************
2021-10-20 14:39:57,840 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:39:57,852 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:39:57,914 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:39:57,943 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Get the latest release version from k3s.io] ***********************************************************************
2021-10-20 14:39:58,010 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:39:58,082 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:39:58,141 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:39:58,166 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure the release version is set as a fact] **********************************************************************
2021-10-20 14:39:58,342 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:39:58,345 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:39:58,452 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:39:58,511 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check that k3s_release_version >= 1.19.3] *************************************************************************
2021-10-20 14:39:58,652 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "v1.22.2+k3s2 is supported by this role."
}
2021-10-20 14:39:58,700 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "v1.22.2+k3s2 is supported by this role."
}
2021-10-20 14:39:58,762 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "v1.22.2+k3s2 is supported by this role."
}
2021-10-20 14:39:58,795 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check configuration in k3s_server and k3s_agent that needs alternate configuration] *******************************
2021-10-20 14:39:58,956 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'server', 'correction': 'k3s_registration_address'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_registration_address",
        "setting": "server"
    },
    "msg": "server not found in server/agent config"
}
2021-10-20 14:39:59,097 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'server', 'correction': 'k3s_registration_address'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_registration_address",
        "setting": "server"
    },
    "msg": "server not found in server/agent config"
}
2021-10-20 14:39:59,162 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'cluster-init', 'correction': 'k3s_etcd_datastore'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_etcd_datastore",
        "setting": "cluster-init"
    },
    "msg": "cluster-init not found in server/agent config"
}
2021-10-20 14:39:59,595 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'cluster-init', 'correction': 'k3s_etcd_datastore'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_etcd_datastore",
        "setting": "cluster-init"
    },
    "msg": "cluster-init not found in server/agent config"
}
2021-10-20 14:39:59,598 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'server', 'correction': 'k3s_registration_address'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_registration_address",
        "setting": "server"
    },
    "msg": "server not found in server/agent config"
}
2021-10-20 14:39:59,608 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'token', 'correction': 'k3s_control_token'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_control_token",
        "setting": "token"
    },
    "msg": "token not found in server/agent config"
}
2021-10-20 14:39:59,613 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'token', 'correction': 'k3s_control_token'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_control_token",
        "setting": "token"
    },
    "msg": "token not found in server/agent config"
}
2021-10-20 14:39:59,616 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'token-file', 'correction': 'k3s_token_location'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_token_location",
        "setting": "token-file"
    },
    "msg": "token-file not found in server/agent config"
}
2021-10-20 14:39:59,629 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'cluster-init', 'correction': 'k3s_etcd_datastore'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_etcd_datastore",
        "setting": "cluster-init"
    },
    "msg": "cluster-init not found in server/agent config"
}
2021-10-20 14:39:59,633 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'token-file', 'correction': 'k3s_token_location'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_token_location",
        "setting": "token-file"
    },
    "msg": "token-file not found in server/agent config"
}
2021-10-20 14:39:59,641 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'token', 'correction': 'k3s_control_token'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_control_token",
        "setting": "token"
    },
    "msg": "token not found in server/agent config"
}
2021-10-20 14:39:59,681 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'token-file', 'correction': 'k3s_token_location'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_token_location",
        "setting": "token-file"
    },
    "msg": "token-file not found in server/agent config"
}
2021-10-20 14:39:59,720 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check configuration in k3s_server and k3s_agent for deprecated configuration] *************************************
2021-10-20 14:39:59,910 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'no-flannel', 'correction': "flannel-backend: 'none'"}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "flannel-backend: 'none'",
        "setting": "no-flannel"
    },
    "msg": "no-flannel not found in server/agent config"
}
2021-10-20 14:40:00,044 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'no-flannel', 'correction': "flannel-backend: 'none'"}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "flannel-backend: 'none'",
        "setting": "no-flannel"
    },
    "msg": "no-flannel not found in server/agent config"
}
2021-10-20 14:40:00,061 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'cluster-secret', 'correction': 'token'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "token",
        "setting": "cluster-secret"
    },
    "msg": "cluster-secret not found in server/agent config"
}
2021-10-20 14:40:00,172 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'no-flannel', 'correction': "flannel-backend: 'none'"}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "flannel-backend: 'none'",
        "setting": "no-flannel"
    },
    "msg": "no-flannel not found in server/agent config"
}
2021-10-20 14:40:00,293 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'cluster-secret', 'correction': 'token'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "token",
        "setting": "cluster-secret"
    },
    "msg": "cluster-secret not found in server/agent config"
}
2021-10-20 14:40:00,361 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'no-deploy', 'correction': 'disable: VALUE'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "disable: VALUE",
        "setting": "no-deploy"
    },
    "msg": "no-deploy not found in server/agent config"
}
2021-10-20 14:40:00,434 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'cluster-secret', 'correction': 'token'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "token",
        "setting": "cluster-secret"
    },
    "msg": "cluster-secret not found in server/agent config"
}
2021-10-20 14:40:00,483 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'no-deploy', 'correction': 'disable: VALUE'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "disable: VALUE",
        "setting": "no-deploy"
    },
    "msg": "no-deploy not found in server/agent config"
}
2021-10-20 14:40:00,543 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'docker', 'correction': 'docker: false', 'when': '1.20.0'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "docker: false",
        "setting": "docker",
        "when": "1.20.0"
    },
    "msg": "docker not found in server/agent config"
}
2021-10-20 14:40:00,615 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'no-deploy', 'correction': 'disable: VALUE'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "disable: VALUE",
        "setting": "no-deploy"
    },
    "msg": "no-deploy not found in server/agent config"
}
2021-10-20 14:40:00,671 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'docker', 'correction': 'docker: false', 'when': '1.20.0'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "docker: false",
        "setting": "docker",
        "when": "1.20.0"
    },
    "msg": "docker not found in server/agent config"
}
2021-10-20 14:40:00,720 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'docker', 'correction': 'docker: false', 'when': '1.20.0'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "docker: false",
        "setting": "docker",
        "when": "1.20.0"
    },
    "msg": "docker not found in server/agent config"
}
2021-10-20 14:40:00,759 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check configuration in k3s_server and k3s_agent against release version] ******************************************
2021-10-20 14:40:00,882 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'etcd-s3-bucket', 'version': '1.20.6'}) 
2021-10-20 14:40:00,955 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'etcd-s3-bucket', 'version': '1.20.6'}) 
2021-10-20 14:40:01,018 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'etcd-s3-bucket', 'version': '1.20.6'}) 
2021-10-20 14:40:01,070 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if embedded etcd datastore is enabled and marked as experimental] *******************************************
2021-10-20 14:40:01,167 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:40:01,247 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:40:01,302 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:40:01,330 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if any experimental variables are configure and if they are enabled with k3s_use_experimental] **************
2021-10-20 14:40:01,505 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'selinux', 'until': '1.19.4'}) 
2021-10-20 14:40:01,562 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'rootless'}) 
2021-10-20 14:40:01,588 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'selinux', 'until': '1.19.4'}) 
2021-10-20 14:40:01,654 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'secrets-encryption'}) 
2021-10-20 14:40:01,676 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'rootless'}) 
2021-10-20 14:40:01,753 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'agent-token'}) 
2021-10-20 14:40:01,762 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'selinux', 'until': '1.19.4'}) 
2021-10-20 14:40:01,791 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'secrets-encryption'}) 
2021-10-20 14:40:01,852 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'rootless'}) 
2021-10-20 14:40:01,858 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'agent-token-file'}) 
2021-10-20 14:40:01,897 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'agent-token'}) 
2021-10-20 14:40:01,955 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'secrets-encryption'}) 
2021-10-20 14:40:01,964 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'cluster-reset', 'until': '1.19.5'}) 
2021-10-20 14:40:01,991 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'agent-token-file'}) 
2021-10-20 14:40:02,030 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'agent-token'}) 
2021-10-20 14:40:02,066 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'cluster-reset', 'until': '1.19.5'}) 
2021-10-20 14:40:02,104 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'agent-token-file'}) 
2021-10-20 14:40:02,148 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'cluster-reset', 'until': '1.19.5'}) 
2021-10-20 14:40:02,187 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if newuidmap is available] **********************************************************************************
2021-10-20 14:40:02,327 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:40:02,354 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:40:02,415 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:40:02,458 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if /proc/sys/kernel/unprivileged_userns_clone exists] *******************************************************
2021-10-20 14:40:02,592 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:40:02,605 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:40:02,683 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:40:02,707 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Get the value of /proc/sys/kernel/unprivileged_userns_clone] ******************************************************
2021-10-20 14:40:02,838 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:40:02,857 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:40:02,931 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:40:02,969 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Set the value of k3s_get_unprivileged_userns_clone] ***************************************************************
2021-10-20 14:40:03,113 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:40:03,127 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:40:03,206 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:40:03,234 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Get the value of /proc/sys/user/max_user_namespaces] **************************************************************
2021-10-20 14:40:03,369 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:40:03,376 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:40:03,440 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:40:03,482 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Get the contents of /etc/subuid] **********************************************************************************
2021-10-20 14:40:03,628 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:40:03,651 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:40:03,728 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:40:03,755 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Get the contents of /etc/subgid] **********************************************************************************
2021-10-20 14:40:03,902 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:40:03,919 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:40:03,987 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:40:04,018 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Get current user subuid and subgid values] ************************************************************************
2021-10-20 14:40:04,172 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:40:04,191 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:40:04,543 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:40:04,646 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check user namespaces kernel parameters are adequate] *************************************************************
2021-10-20 14:40:05,154 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:40:05,425 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:40:05,799 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:40:05,982 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check the conditions when a single controller is defined] *********************************************************
2021-10-20 14:40:06,790 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:40:07,211 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:40:07,340 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:40:07,638 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check the conditions when multiple controllers are defined] *******************************************************
2021-10-20 14:40:08,231 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "Control plane configuration is valid."
}
2021-10-20 14:40:08,285 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "Control plane configuration is valid."
}
2021-10-20 14:40:08,342 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "Control plane configuration is valid."
}
2021-10-20 14:40:08,372 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check the conditions when embedded etcd is defined] ***************************************************************
2021-10-20 14:40:08,514 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:40:08,550 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:40:08,646 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:40:08,663 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure systemd context is correct if we are running k3s rootless] *************************************************
2021-10-20 14:40:08,806 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:40:08,827 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:40:08,908 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:40:08,924 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 14:40:09,052 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:40:09,077 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:40:09,151 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:40:09,201 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure docker is installed] ***************************************************************************************
2021-10-20 14:40:09,332 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:40:09,361 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:40:09,420 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:40:09,451 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 14:40:09,578 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:40:09,585 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:40:09,658 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:40:09,695 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Flush Handlers] ***************************************************************************************************
2021-10-20 14:40:09,704 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure target host architecture information is set as a fact] *****************************************************
2021-10-20 14:40:09,855 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:40:09,857 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:40:09,906 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:40:09,931 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure URLs are set as facts for downloading binaries] ************************************************************
2021-10-20 14:40:10,062 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:40:10,071 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:40:10,135 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:40:10,179 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Override k3s_binary_url and k3s_hash_url facts for testing specific commit] ***************************************
2021-10-20 14:40:10,311 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:40:10,312 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:40:10,361 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:40:10,389 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure the k3s hashsum is downloaded] *****************************************************************************
2021-10-20 14:40:15,075 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:40:15,094 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:40:15,097 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:40:15,139 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure sha256sum is set from hashsum variable] ********************************************************************
2021-10-20 14:40:15,294 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:40:15,302 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:40:15,361 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:40:15,392 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure installation directory exists] *****************************************************************************
2021-10-20 14:40:18,206 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:40:18,243 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:40:18,247 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:40:18,289 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s binary is downloaded] **********************************************************************************
2021-10-20 14:40:22,190 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:40:22,197 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:40:22,205 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:40:22,272 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure that the manifests directory exists] ***********************************************************************
2021-10-20 14:40:22,474 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:40:22,481 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:40:22,553 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:40:22,606 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure auto-deploying manifests are copied to the primary controller] *********************************************
2021-10-20 14:40:22,755 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure that the manifests directory exists] ***********************************************************************
2021-10-20 14:40:22,873 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:40:22,881 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:40:22,942 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:40:22,983 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure auto-deploying manifests are downloaded to the primary controller] *****************************************
2021-10-20 14:40:23,117 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure that the pod-manifests directory exists] *******************************************************************
2021-10-20 14:40:23,265 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:40:23,281 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:40:23,338 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:40:23,370 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure static pod manifests are copied to controllers] ************************************************************
2021-10-20 14:40:23,517 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure that the pod-manifests directory exists] *******************************************************************
2021-10-20 14:40:23,668 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:40:23,674 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:40:23,734 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:40:23,783 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure auto-deploying manifests are downloaded to the primary controller] *****************************************
2021-10-20 14:40:23,920 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure that the config.yaml.d directory exists] *******************************************************************
2021-10-20 14:40:24,073 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:40:24,077 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:40:24,146 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:40:24,191 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure configuration files are copied to controllers] *************************************************************
2021-10-20 14:40:24,345 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure that the config.yaml.d directory exists] *******************************************************************
2021-10-20 14:40:24,488 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:40:24,505 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:40:24,597 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:40:24,621 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure configuration files are copied to agents] ******************************************************************
2021-10-20 14:40:24,777 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 14:40:25,302 p=112251 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-directories.yml for k3s1, k3s2, k3s3 => (item={'name': 'Config directory', 'path': '/etc/rancher/k3s'})
2021-10-20 14:40:25,304 p=112251 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-directories.yml for k3s1, k3s2, k3s3 => (item={'name': 'Config.yaml.d directory', 'path': '/etc/rancher/k3s/config.yaml.d'})
2021-10-20 14:40:25,308 p=112251 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-directories.yml for k3s1, k3s2, k3s3 => (item={'name': 'Systemd unit file directory', 'path': '/etc/systemd/system'})
2021-10-20 14:40:25,324 p=112251 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-directories.yml for k3s1, k3s2, k3s3 => (item={'name': 'Data directory', 'path': '/var/lib/rancher/k3s'})
2021-10-20 14:40:25,342 p=112251 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-directories.yml for k3s1, k3s2, k3s3 => (item={'name': 'Default local storage path', 'path': '__omit_place_holder__99317ea83420611c5ba30e1809b1a99c20b304a3'})
2021-10-20 14:40:25,352 p=112251 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-directories.yml for k3s1, k3s2, k3s3 => (item={'name': 'Private registry config file', 'path': ''})
2021-10-20 14:40:25,402 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure Config directory exists] ***********************************************************************************
2021-10-20 14:40:27,832 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:40:27,846 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:40:27,858 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:40:27,932 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure Config.yaml.d directory exists] ****************************************************************************
2021-10-20 14:40:30,268 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:40:30,304 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:40:30,455 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:40:30,493 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure Systemd unit file directory exists] ************************************************************************
2021-10-20 14:40:32,833 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:40:33,391 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:40:33,421 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:40:33,548 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure Data directory exists] *************************************************************************************
2021-10-20 14:40:39,501 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:40:39,510 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:40:39,512 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:40:39,596 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure Default local storage path exists] *************************************************************************
2021-10-20 14:40:39,795 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:40:39,861 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:40:39,932 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:40:39,956 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure Private registry config file exists] ***********************************************************************
2021-10-20 14:40:40,087 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:40:40,092 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:40:40,153 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:40:40,175 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 14:40:40,326 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:40:40,379 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:40:40,448 p=112251 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-node.yml for k3s1
2021-10-20 14:40:40,520 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s is linked into the installation destination] ***********************************************************
2021-10-20 14:40:42,156 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=k3s)
2021-10-20 14:40:45,620 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=kubectl)
2021-10-20 14:40:48,650 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=crictl)
2021-10-20 14:40:50,601 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=ctr)
2021-10-20 14:40:50,680 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s config file exists] ************************************************************************************
2021-10-20 14:40:54,417 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:40:54,465 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s service unit file is present] **************************************************************************
2021-10-20 14:40:56,566 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:40:56,585 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s killall script is present] *****************************************************************************
2021-10-20 14:40:59,826 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:40:59,909 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s uninstall script is present] ***************************************************************************
2021-10-20 14:41:02,669 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:41:02,812 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Flush Handlers] ***************************************************************************************************
2021-10-20 14:41:02,890 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 14:41:03,587 p=112251 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-node.yml for k3s1, k3s2, k3s3
2021-10-20 14:41:04,284 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s is linked into the installation destination] ***********************************************************
2021-10-20 14:41:10,340 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=k3s)
2021-10-20 14:41:10,691 p=112251 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=k3s)
2021-10-20 14:41:10,766 p=112251 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=k3s)
2021-10-20 14:41:12,950 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=kubectl)
2021-10-20 14:41:13,443 p=112251 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=kubectl)
2021-10-20 14:41:13,453 p=112251 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=kubectl)
2021-10-20 14:41:16,181 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=crictl)
2021-10-20 14:41:16,782 p=112251 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=crictl)
2021-10-20 14:41:16,899 p=112251 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=crictl)
2021-10-20 14:41:18,881 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=ctr)
2021-10-20 14:41:19,102 p=112251 u=eduardgevorkyan n=ansible | changed: [k3s3] => (item=ctr)
2021-10-20 14:41:19,161 p=112251 u=eduardgevorkyan n=ansible | changed: [k3s2] => (item=ctr)
2021-10-20 14:41:19,233 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s config file exists] ************************************************************************************
2021-10-20 14:41:22,931 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:41:24,101 p=112251 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-20 14:41:24,130 p=112251 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-20 14:41:24,174 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s service unit file is present] **************************************************************************
2021-10-20 14:41:28,836 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:41:29,221 p=112251 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-20 14:41:29,387 p=112251 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-20 14:41:29,425 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s killall script is present] *****************************************************************************
2021-10-20 14:41:39,384 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:41:41,594 p=112251 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-20 14:41:41,678 p=112251 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-20 14:41:41,738 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s uninstall script is present] ***************************************************************************
2021-10-20 14:41:46,481 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:41:46,831 p=112251 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-20 14:41:46,919 p=112251 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-20 14:41:46,975 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s initial control plane server is started] ***************************************************************
2021-10-20 14:41:47,187 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:41:47,310 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:41:49,645 p=112251 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:41:49,669 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 14:41:50,002 p=112251 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/containerd/registries.yml for k3s1, k3s2, k3s3
2021-10-20 14:41:50,038 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure containerd registries file exists] *************************************************************************
2021-10-20 14:41:54,771 p=112251 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 14:41:54,842 p=112251 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-20 14:41:55,063 p=112251 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-20 14:41:55,108 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 14:41:55,220 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:41:55,285 p=112251 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:41:55,335 p=112251 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/validate/configuration/cluster-init.yml for k3s1
2021-10-20 14:41:55,401 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check that the initial control plane server is available to accept connections] ***********************************
2021-10-20 14:46:57,623 p=112251 u=eduardgevorkyan n=ansible | fatal: [k3s1]: FAILED! => {"changed": false, "elapsed": 300, "msg": "Timeout when waiting for 127.0.0.1:6443"}
2021-10-20 14:46:57,753 p=112251 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure cluster token is captured from k3s1] ***********************************************************************
2021-10-20 14:47:00,504 p=112251 u=eduardgevorkyan n=ansible | fatal: [k3s3 -> k3s1]: FAILED! => {"changed": false, "msg": "file not found: /var/lib/rancher/k3s/server/token"}
2021-10-20 14:47:00,562 p=112251 u=eduardgevorkyan n=ansible | fatal: [k3s2 -> k3s1]: FAILED! => {"changed": false, "msg": "file not found: /var/lib/rancher/k3s/server/token"}
2021-10-20 14:47:00,573 p=112251 u=eduardgevorkyan n=ansible | RUNNING HANDLER [xanmanning.k3s : reload systemd] ****************************************************************************************
2021-10-20 14:47:00,583 p=112251 u=eduardgevorkyan n=ansible | RUNNING HANDLER [xanmanning.k3s : restart k3s] *******************************************************************************************
2021-10-20 14:47:00,609 p=112251 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-20 14:47:00,616 p=112251 u=eduardgevorkyan n=ansible | k3s1                       : ok=55   changed=1    unreachable=0    failed=1    skipped=50   rescued=0    ignored=0   
2021-10-20 14:47:00,616 p=112251 u=eduardgevorkyan n=ansible | k3s2                       : ok=44   changed=6    unreachable=0    failed=1    skipped=52   rescued=0    ignored=0   
2021-10-20 14:47:00,617 p=112251 u=eduardgevorkyan n=ansible | k3s3                       : ok=44   changed=6    unreachable=0    failed=1    skipped=52   rescued=0    ignored=0   
2021-10-20 14:47:14,476 p=113805 u=eduardgevorkyan n=ansible | PLAY [Build a cluster with HA control plane] *********************************************************************************************
2021-10-20 14:47:14,541 p=113805 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-20 14:47:19,569 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:47:19,605 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:47:19,616 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:47:19,688 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check that k3s_state is a supported value] ************************************************************************
2021-10-20 14:47:19,813 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "k3s_state is valid."
}
2021-10-20 14:47:19,872 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "k3s_state is valid."
}
2021-10-20 14:47:19,944 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "k3s_state is valid."
}
2021-10-20 14:47:19,976 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check that Ansible v2.11.6 is supported by this role] *************************************************************
2021-10-20 14:47:20,051 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost] => {
    "changed": false,
    "msg": "Ansible v2.11.6 is supported."
}
2021-10-20 14:47:20,121 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 14:47:20,480 p=113805 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/validate/environment/remote/cgroups.yml for k3s1, k3s2, k3s3 => (item={'name': 'memory', 'documentation': 'If you are running on a Raspberry Pi, see:\nhttps://rancher.com/docs/k3s/latest/en/advanced/#enabling-cgroups-for-raspbian-buster\n'})
2021-10-20 14:47:20,484 p=113805 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/validate/environment/remote/cgroups.yml for k3s1, k3s2, k3s3 => (item={'name': 'cpuset', 'documentation': 'If you are running Alpine Linux, see:\nhttps://rancher.com/docs/k3s/latest/en/advanced/#additional-preparation-for-alpine-linux-setup\n'})
2021-10-20 14:47:20,536 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if memory cgroup is enabled] ********************************************************************************
2021-10-20 14:47:23,040 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:47:23,134 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:47:23,141 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:47:23,197 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Fail if memory cgroup is not enabled] *****************************************************************************
2021-10-20 14:47:23,378 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "memory cgroup enabled."
}
2021-10-20 14:47:23,379 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "memory cgroup enabled."
}
2021-10-20 14:47:23,457 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "memory cgroup enabled."
}
2021-10-20 14:47:23,500 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if cpuset cgroup is enabled] ********************************************************************************
2021-10-20 14:47:25,474 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:47:25,723 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:47:25,753 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:47:25,805 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Fail if cpuset cgroup is not enabled] *****************************************************************************
2021-10-20 14:47:25,936 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "cpuset cgroup enabled."
}
2021-10-20 14:47:25,954 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "cpuset cgroup enabled."
}
2021-10-20 14:47:26,022 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "cpuset cgroup enabled."
}
2021-10-20 14:47:26,048 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 14:47:26,268 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 14:47:26,416 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:47:26,418 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:47:26,472 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:47:26,503 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 14:47:27,058 p=113805 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/state-installed.yml for k3s1, k3s2, k3s3
2021-10-20 14:47:27,129 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s_build_cluster is false if running against a single node.] **********************************************
2021-10-20 14:47:27,261 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:47:27,263 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:47:27,312 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:47:27,345 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s control node fact is set] ******************************************************************************
2021-10-20 14:47:27,466 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:47:27,482 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:47:27,553 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:47:27,605 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s primary control node fact is set] **********************************************************************
2021-10-20 14:47:27,753 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:47:27,824 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:47:27,875 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:47:27,916 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s control plane port is captured] ************************************************************************
2021-10-20 14:47:28,097 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1 -> k3s_primary_control_node]
2021-10-20 14:47:28,112 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2 -> k3s_primary_control_node]
2021-10-20 14:47:28,189 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3 -> k3s_primary_control_node]
2021-10-20 14:47:28,212 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s node IP is configured when node-ip is defined] *********************************************************
2021-10-20 14:47:28,345 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:47:28,391 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:47:28,439 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:47:28,462 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure a count of control nodes is generated from ansible_play_hosts] *********************************************
2021-10-20 14:47:28,803 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=k3s1)
2021-10-20 14:47:28,970 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=k3s1)
2021-10-20 14:47:29,146 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=k3s2)
2021-10-20 14:47:29,265 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=k3s1)
2021-10-20 14:47:29,363 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=k3s2)
2021-10-20 14:47:29,460 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=k3s3)
2021-10-20 14:47:29,561 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=k3s2)
2021-10-20 14:47:29,683 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=k3s3)
2021-10-20 14:47:29,758 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=k3s3)
2021-10-20 14:47:29,795 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Set the control host] *********************************************************************************************
2021-10-20 14:47:29,881 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:47:29,954 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:47:29,999 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:47:30,031 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure a count of control nodes is generated] *********************************************************************
2021-10-20 14:47:30,257 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s1) 
2021-10-20 14:47:30,861 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s2) 
2021-10-20 14:47:31,345 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=k3s1) 
2021-10-20 14:47:31,438 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s3) 
2021-10-20 14:47:31,555 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=k3s2) 
2021-10-20 14:47:31,770 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=k3s3) 
2021-10-20 14:47:32,085 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=k3s1) 
2021-10-20 14:47:32,110 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=k3s2) 
2021-10-20 14:47:32,249 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=k3s3) 
2021-10-20 14:47:32,433 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure a primary k3s control node is defined if multiple are found in ansible_play_hosts] *************************
2021-10-20 14:47:33,341 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:47:33,754 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:47:33,854 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:47:33,948 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure ansible_host is mapped to inventory_hostname] **************************************************************
2021-10-20 14:47:38,199 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:47:38,203 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:47:38,210 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:47:38,279 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Lookup control node from file] ************************************************************************************
2021-10-20 14:47:40,489 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:47:40,770 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:47:40,799 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:47:40,868 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure control node is delegated for obtaining a cluster token] ***************************************************
2021-10-20 14:47:41,011 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:47:41,083 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:47:41,142 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:47:41,179 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure the node registration address is defined from k3s_control_node_address] ************************************
2021-10-20 14:47:41,331 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:47:41,433 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:47:41,441 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:47:41,478 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure the node registration address is defined from node-ip] *****************************************************
2021-10-20 14:47:41,607 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:47:41,628 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:47:41,736 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:47:41,757 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure the node registration address is defined] ******************************************************************
2021-10-20 14:47:41,897 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:47:41,921 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:47:41,992 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:47:42,012 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s_runtime_config is set for agents] **********************************************************************
2021-10-20 14:47:42,169 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:47:42,187 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:47:42,334 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:47:42,372 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if kubectl exists] ******************************************************************************************
2021-10-20 14:47:45,944 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:47:45,947 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:47:45,950 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:47:46,050 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Gather a list of nodes] *******************************************************************************************
2021-10-20 14:47:48,034 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1 -> k3s1]
2021-10-20 14:47:48,125 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure uninstalled nodes are drained] *****************************************************************************
2021-10-20 14:47:48,229 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s1) 
2021-10-20 14:47:48,304 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s2) 
2021-10-20 14:47:48,371 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s3) 
2021-10-20 14:47:48,431 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure uninstalled nodes are removed] *****************************************************************************
2021-10-20 14:47:48,526 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s1) 
2021-10-20 14:47:48,596 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s2) 
2021-10-20 14:47:48,676 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s3) 
2021-10-20 14:47:48,722 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s_release_version is set to default if false] ************************************************************
2021-10-20 14:47:48,860 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:47:48,864 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:47:48,906 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:47:48,936 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure the default release channel is set] ************************************************************************
2021-10-20 14:47:49,012 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:47:49,107 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:47:49,146 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:47:49,259 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Get the latest release version from k3s.io] ***********************************************************************
2021-10-20 14:47:49,345 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:47:49,412 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:47:49,466 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:47:49,498 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure the release version is set as a fact] **********************************************************************
2021-10-20 14:47:49,620 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:47:49,622 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:47:49,689 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:47:49,726 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check that k3s_release_version >= 1.19.3] *************************************************************************
2021-10-20 14:47:49,874 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "v1.22.2+k3s2 is supported by this role."
}
2021-10-20 14:47:49,928 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "v1.22.2+k3s2 is supported by this role."
}
2021-10-20 14:47:49,982 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "v1.22.2+k3s2 is supported by this role."
}
2021-10-20 14:47:50,003 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check configuration in k3s_server and k3s_agent that needs alternate configuration] *******************************
2021-10-20 14:47:50,177 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'server', 'correction': 'k3s_registration_address'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_registration_address",
        "setting": "server"
    },
    "msg": "server not found in server/agent config"
}
2021-10-20 14:47:50,278 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'cluster-init', 'correction': 'k3s_etcd_datastore'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_etcd_datastore",
        "setting": "cluster-init"
    },
    "msg": "cluster-init not found in server/agent config"
}
2021-10-20 14:47:50,305 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'server', 'correction': 'k3s_registration_address'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_registration_address",
        "setting": "server"
    },
    "msg": "server not found in server/agent config"
}
2021-10-20 14:47:50,405 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'token', 'correction': 'k3s_control_token'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_control_token",
        "setting": "token"
    },
    "msg": "token not found in server/agent config"
}
2021-10-20 14:47:50,411 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'server', 'correction': 'k3s_registration_address'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_registration_address",
        "setting": "server"
    },
    "msg": "server not found in server/agent config"
}
2021-10-20 14:47:50,431 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'cluster-init', 'correction': 'k3s_etcd_datastore'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_etcd_datastore",
        "setting": "cluster-init"
    },
    "msg": "cluster-init not found in server/agent config"
}
2021-10-20 14:47:50,535 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'cluster-init', 'correction': 'k3s_etcd_datastore'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_etcd_datastore",
        "setting": "cluster-init"
    },
    "msg": "cluster-init not found in server/agent config"
}
2021-10-20 14:47:50,572 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'token-file', 'correction': 'k3s_token_location'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_token_location",
        "setting": "token-file"
    },
    "msg": "token-file not found in server/agent config"
}
2021-10-20 14:47:50,601 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'token', 'correction': 'k3s_control_token'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_control_token",
        "setting": "token"
    },
    "msg": "token not found in server/agent config"
}
2021-10-20 14:47:50,711 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'token', 'correction': 'k3s_control_token'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_control_token",
        "setting": "token"
    },
    "msg": "token not found in server/agent config"
}
2021-10-20 14:47:50,718 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'token-file', 'correction': 'k3s_token_location'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_token_location",
        "setting": "token-file"
    },
    "msg": "token-file not found in server/agent config"
}
2021-10-20 14:47:50,787 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'token-file', 'correction': 'k3s_token_location'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_token_location",
        "setting": "token-file"
    },
    "msg": "token-file not found in server/agent config"
}
2021-10-20 14:47:50,847 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check configuration in k3s_server and k3s_agent for deprecated configuration] *************************************
2021-10-20 14:47:51,064 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'no-flannel', 'correction': "flannel-backend: 'none'"}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "flannel-backend: 'none'",
        "setting": "no-flannel"
    },
    "msg": "no-flannel not found in server/agent config"
}
2021-10-20 14:47:51,181 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'no-flannel', 'correction': "flannel-backend: 'none'"}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "flannel-backend: 'none'",
        "setting": "no-flannel"
    },
    "msg": "no-flannel not found in server/agent config"
}
2021-10-20 14:47:51,212 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'cluster-secret', 'correction': 'token'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "token",
        "setting": "cluster-secret"
    },
    "msg": "cluster-secret not found in server/agent config"
}
2021-10-20 14:47:51,342 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'no-flannel', 'correction': "flannel-backend: 'none'"}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "flannel-backend: 'none'",
        "setting": "no-flannel"
    },
    "msg": "no-flannel not found in server/agent config"
}
2021-10-20 14:47:51,378 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'cluster-secret', 'correction': 'token'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "token",
        "setting": "cluster-secret"
    },
    "msg": "cluster-secret not found in server/agent config"
}
2021-10-20 14:47:51,434 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'no-deploy', 'correction': 'disable: VALUE'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "disable: VALUE",
        "setting": "no-deploy"
    },
    "msg": "no-deploy not found in server/agent config"
}
2021-10-20 14:47:51,539 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'cluster-secret', 'correction': 'token'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "token",
        "setting": "cluster-secret"
    },
    "msg": "cluster-secret not found in server/agent config"
}
2021-10-20 14:47:51,623 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'no-deploy', 'correction': 'disable: VALUE'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "disable: VALUE",
        "setting": "no-deploy"
    },
    "msg": "no-deploy not found in server/agent config"
}
2021-10-20 14:47:51,627 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'docker', 'correction': 'docker: false', 'when': '1.20.0'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "docker: false",
        "setting": "docker",
        "when": "1.20.0"
    },
    "msg": "docker not found in server/agent config"
}
2021-10-20 14:47:51,720 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'no-deploy', 'correction': 'disable: VALUE'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "disable: VALUE",
        "setting": "no-deploy"
    },
    "msg": "no-deploy not found in server/agent config"
}
2021-10-20 14:47:51,813 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'docker', 'correction': 'docker: false', 'when': '1.20.0'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "docker: false",
        "setting": "docker",
        "when": "1.20.0"
    },
    "msg": "docker not found in server/agent config"
}
2021-10-20 14:47:51,916 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'docker', 'correction': 'docker: false', 'when': '1.20.0'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "docker: false",
        "setting": "docker",
        "when": "1.20.0"
    },
    "msg": "docker not found in server/agent config"
}
2021-10-20 14:47:51,988 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check configuration in k3s_server and k3s_agent against release version] ******************************************
2021-10-20 14:47:52,211 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'etcd-s3-bucket', 'version': '1.20.6'}) 
2021-10-20 14:47:52,311 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'etcd-s3-bucket', 'version': '1.20.6'}) 
2021-10-20 14:47:52,378 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'etcd-s3-bucket', 'version': '1.20.6'}) 
2021-10-20 14:47:52,424 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if embedded etcd datastore is enabled and marked as experimental] *******************************************
2021-10-20 14:47:52,580 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:47:52,595 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:47:52,636 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:47:52,680 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if any experimental variables are configure and if they are enabled with k3s_use_experimental] **************
2021-10-20 14:47:52,821 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'selinux', 'until': '1.19.4'}) 
2021-10-20 14:47:52,867 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'rootless'}) 
2021-10-20 14:47:52,926 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'selinux', 'until': '1.19.4'}) 
2021-10-20 14:47:52,966 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'secrets-encryption'}) 
2021-10-20 14:47:53,020 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'rootless'}) 
2021-10-20 14:47:53,074 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'agent-token'}) 
2021-10-20 14:47:53,080 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'selinux', 'until': '1.19.4'}) 
2021-10-20 14:47:53,133 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'secrets-encryption'}) 
2021-10-20 14:47:53,175 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'agent-token-file'}) 
2021-10-20 14:47:53,191 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'rootless'}) 
2021-10-20 14:47:53,233 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'agent-token'}) 
2021-10-20 14:47:53,277 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'cluster-reset', 'until': '1.19.5'}) 
2021-10-20 14:47:53,288 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'secrets-encryption'}) 
2021-10-20 14:47:53,341 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'agent-token-file'}) 
2021-10-20 14:47:53,374 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'agent-token'}) 
2021-10-20 14:47:53,404 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'cluster-reset', 'until': '1.19.5'}) 
2021-10-20 14:47:53,446 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'agent-token-file'}) 
2021-10-20 14:47:53,470 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'cluster-reset', 'until': '1.19.5'}) 
2021-10-20 14:47:53,512 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if newuidmap is available] **********************************************************************************
2021-10-20 14:47:53,651 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:47:53,665 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:47:53,741 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:47:53,774 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if /proc/sys/kernel/unprivileged_userns_clone exists] *******************************************************
2021-10-20 14:47:53,932 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:47:53,942 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:47:53,996 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:47:54,020 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Get the value of /proc/sys/kernel/unprivileged_userns_clone] ******************************************************
2021-10-20 14:47:54,154 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:47:54,173 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:47:54,252 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:47:54,294 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Set the value of k3s_get_unprivileged_userns_clone] ***************************************************************
2021-10-20 14:47:54,447 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:47:54,451 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:47:54,521 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:47:54,572 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Get the value of /proc/sys/user/max_user_namespaces] **************************************************************
2021-10-20 14:47:54,707 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:47:54,726 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:47:54,800 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:47:54,852 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Get the contents of /etc/subuid] **********************************************************************************
2021-10-20 14:47:54,983 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:47:54,992 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:47:55,062 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:47:55,113 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Get the contents of /etc/subgid] **********************************************************************************
2021-10-20 14:47:55,258 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:47:55,296 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:47:55,370 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:47:55,394 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Get current user subuid and subgid values] ************************************************************************
2021-10-20 14:47:55,546 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:47:55,558 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:47:55,631 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:47:55,683 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check user namespaces kernel parameters are adequate] *************************************************************
2021-10-20 14:47:55,828 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:47:55,842 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:47:55,926 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:47:55,967 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check the conditions when a single controller is defined] *********************************************************
2021-10-20 14:47:56,100 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:47:56,123 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:47:56,185 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:47:56,217 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check the conditions when multiple controllers are defined] *******************************************************
2021-10-20 14:47:56,398 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "Control plane configuration is valid."
}
2021-10-20 14:47:56,472 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "Control plane configuration is valid."
}
2021-10-20 14:47:56,534 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "Control plane configuration is valid."
}
2021-10-20 14:47:56,559 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check the conditions when embedded etcd is defined] ***************************************************************
2021-10-20 14:47:56,747 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:47:56,765 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:47:56,817 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:47:56,842 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure systemd context is correct if we are running k3s rootless] *************************************************
2021-10-20 14:47:56,969 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:47:56,993 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:47:57,049 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:47:57,073 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 14:47:57,191 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:47:57,209 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:47:57,275 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:47:57,318 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure docker is installed] ***************************************************************************************
2021-10-20 14:47:57,451 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:47:57,466 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:47:57,606 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:47:57,648 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 14:47:57,818 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:47:57,839 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:47:57,915 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:47:57,953 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Flush Handlers] ***************************************************************************************************
2021-10-20 14:47:57,970 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure target host architecture information is set as a fact] *****************************************************
2021-10-20 14:47:58,108 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:47:58,110 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:47:58,155 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:47:58,178 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure URLs are set as facts for downloading binaries] ************************************************************
2021-10-20 14:47:58,289 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:47:58,297 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:47:58,335 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:47:58,371 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Override k3s_binary_url and k3s_hash_url facts for testing specific commit] ***************************************
2021-10-20 14:47:58,506 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:47:58,510 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:47:58,530 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:47:58,563 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure the k3s hashsum is downloaded] *****************************************************************************
2021-10-20 14:48:05,577 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:48:05,608 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:48:05,610 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:48:05,690 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure sha256sum is set from hashsum variable] ********************************************************************
2021-10-20 14:48:05,887 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:48:05,946 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:48:06,007 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:48:06,048 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure installation directory exists] *****************************************************************************
2021-10-20 14:48:09,505 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:48:09,693 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:48:09,757 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:48:09,892 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s binary is downloaded] **********************************************************************************
2021-10-20 14:48:14,081 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:48:14,083 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:48:14,102 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:48:14,151 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure that the manifests directory exists] ***********************************************************************
2021-10-20 14:48:14,271 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:48:14,286 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:48:14,345 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:48:14,390 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure auto-deploying manifests are copied to the primary controller] *********************************************
2021-10-20 14:48:14,549 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure that the manifests directory exists] ***********************************************************************
2021-10-20 14:48:14,710 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:48:14,726 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:48:14,786 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:48:14,839 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure auto-deploying manifests are downloaded to the primary controller] *****************************************
2021-10-20 14:48:14,986 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure that the pod-manifests directory exists] *******************************************************************
2021-10-20 14:48:15,153 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:48:15,173 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:48:15,243 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:48:15,265 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure static pod manifests are copied to controllers] ************************************************************
2021-10-20 14:48:15,457 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure that the pod-manifests directory exists] *******************************************************************
2021-10-20 14:48:15,623 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:48:15,667 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:48:15,752 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:48:15,807 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure auto-deploying manifests are downloaded to the primary controller] *****************************************
2021-10-20 14:48:15,969 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure that the config.yaml.d directory exists] *******************************************************************
2021-10-20 14:48:16,111 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:48:16,133 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:48:16,206 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:48:16,249 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure configuration files are copied to controllers] *************************************************************
2021-10-20 14:48:16,388 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure that the config.yaml.d directory exists] *******************************************************************
2021-10-20 14:48:16,552 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:48:16,554 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:48:16,621 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:48:16,642 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure configuration files are copied to agents] ******************************************************************
2021-10-20 14:48:16,794 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 14:48:17,296 p=113805 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-directories.yml for k3s1, k3s2, k3s3 => (item={'name': 'Config directory', 'path': '/etc/rancher/k3s'})
2021-10-20 14:48:17,300 p=113805 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-directories.yml for k3s1, k3s2, k3s3 => (item={'name': 'Config.yaml.d directory', 'path': '/etc/rancher/k3s/config.yaml.d'})
2021-10-20 14:48:17,303 p=113805 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-directories.yml for k3s1, k3s2, k3s3 => (item={'name': 'Systemd unit file directory', 'path': '/etc/systemd/system'})
2021-10-20 14:48:17,327 p=113805 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-directories.yml for k3s1, k3s2, k3s3 => (item={'name': 'Data directory', 'path': '/var/lib/rancher/k3s'})
2021-10-20 14:48:17,345 p=113805 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-directories.yml for k3s1, k3s2, k3s3 => (item={'name': 'Default local storage path', 'path': '__omit_place_holder__422297f417018d07bc6c76bc13de376a9b75825d'})
2021-10-20 14:48:17,351 p=113805 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-directories.yml for k3s1, k3s2, k3s3 => (item={'name': 'Private registry config file', 'path': ''})
2021-10-20 14:48:17,396 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure Config directory exists] ***********************************************************************************
2021-10-20 14:48:19,637 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:48:19,643 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:48:19,796 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:48:19,844 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure Config.yaml.d directory exists] ****************************************************************************
2021-10-20 14:48:22,121 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:48:22,266 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:48:22,394 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:48:22,417 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure Systemd unit file directory exists] ************************************************************************
2021-10-20 14:48:24,670 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:48:24,759 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:48:24,897 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:48:24,920 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure Data directory exists] *************************************************************************************
2021-10-20 14:48:27,345 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:48:27,363 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:48:27,501 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:48:27,549 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure Default local storage path exists] *************************************************************************
2021-10-20 14:48:27,714 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:48:27,803 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:48:27,899 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:48:27,943 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure Private registry config file exists] ***********************************************************************
2021-10-20 14:48:28,094 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 14:48:28,104 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:48:28,165 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:48:28,200 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 14:48:28,335 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:48:28,384 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:48:28,420 p=113805 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-node.yml for k3s1
2021-10-20 14:48:28,484 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s is linked into the installation destination] ***********************************************************
2021-10-20 14:48:29,782 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=k3s)
2021-10-20 14:48:31,125 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=kubectl)
2021-10-20 14:48:33,839 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=crictl)
2021-10-20 14:48:35,662 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=ctr)
2021-10-20 14:48:35,732 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s config file exists] ************************************************************************************
2021-10-20 14:48:38,672 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:48:38,692 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s service unit file is present] **************************************************************************
2021-10-20 14:48:41,008 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:48:41,032 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s killall script is present] *****************************************************************************
2021-10-20 14:48:43,889 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:48:43,926 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s uninstall script is present] ***************************************************************************
2021-10-20 14:48:46,281 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:48:46,301 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Flush Handlers] ***************************************************************************************************
2021-10-20 14:48:46,332 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 14:48:46,526 p=113805 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-node.yml for k3s1, k3s2, k3s3
2021-10-20 14:48:46,605 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s is linked into the installation destination] ***********************************************************
2021-10-20 14:48:49,157 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=k3s)
2021-10-20 14:48:49,253 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=k3s)
2021-10-20 14:48:49,362 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=k3s)
2021-10-20 14:48:51,688 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=kubectl)
2021-10-20 14:48:51,798 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=kubectl)
2021-10-20 14:48:51,909 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=kubectl)
2021-10-20 14:48:54,232 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=crictl)
2021-10-20 14:48:54,285 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=crictl)
2021-10-20 14:48:54,485 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=crictl)
2021-10-20 14:48:56,934 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=ctr)
2021-10-20 14:48:57,249 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=ctr)
2021-10-20 14:48:57,322 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=ctr)
2021-10-20 14:48:57,399 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s config file exists] ************************************************************************************
2021-10-20 14:49:04,395 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:49:04,438 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:49:04,627 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:49:04,787 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s service unit file is present] **************************************************************************
2021-10-20 14:49:09,881 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:49:10,034 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:49:10,100 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:49:10,130 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s killall script is present] *****************************************************************************
2021-10-20 14:49:14,277 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:49:14,325 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:49:14,424 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:49:14,510 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s uninstall script is present] ***************************************************************************
2021-10-20 14:49:19,353 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:49:19,593 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:49:19,610 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:49:19,671 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s initial control plane server is started] ***************************************************************
2021-10-20 14:49:19,846 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:49:19,942 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:49:22,245 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:49:22,286 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 14:49:22,562 p=113805 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/containerd/registries.yml for k3s1, k3s2, k3s3
2021-10-20 14:49:22,591 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure containerd registries file exists] *************************************************************************
2021-10-20 14:49:26,996 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 14:49:27,194 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 14:49:27,211 p=113805 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 14:49:27,290 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 14:49:27,438 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 14:49:27,492 p=113805 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 14:49:27,538 p=113805 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/validate/configuration/cluster-init.yml for k3s1
2021-10-20 14:49:27,600 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check that the initial control plane server is available to accept connections] ***********************************
2021-10-20 14:54:29,712 p=113805 u=eduardgevorkyan n=ansible | fatal: [k3s1]: FAILED! => {"changed": false, "elapsed": 300, "msg": "Timeout when waiting for 127.0.0.1:6443"}
2021-10-20 14:54:29,794 p=113805 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure cluster token is captured from k3s1] ***********************************************************************
2021-10-20 14:54:31,868 p=113805 u=eduardgevorkyan n=ansible | fatal: [k3s2 -> k3s1]: FAILED! => {"changed": false, "msg": "file not found: /var/lib/rancher/k3s/server/token"}
2021-10-20 14:54:31,876 p=113805 u=eduardgevorkyan n=ansible | fatal: [k3s3 -> k3s1]: FAILED! => {"changed": false, "msg": "file not found: /var/lib/rancher/k3s/server/token"}
2021-10-20 14:54:31,910 p=113805 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-20 14:54:31,912 p=113805 u=eduardgevorkyan n=ansible | k3s1                       : ok=55   changed=0    unreachable=0    failed=1    skipped=50   rescued=0    ignored=0   
2021-10-20 14:54:31,913 p=113805 u=eduardgevorkyan n=ansible | k3s2                       : ok=44   changed=0    unreachable=0    failed=1    skipped=52   rescued=0    ignored=0   
2021-10-20 14:54:31,914 p=113805 u=eduardgevorkyan n=ansible | k3s3                       : ok=44   changed=0    unreachable=0    failed=1    skipped=52   rescued=0    ignored=0   
2021-10-20 15:04:29,920 p=115756 u=eduardgevorkyan n=ansible | PLAY [MariaDB cluster deployment] ********************************************************************************************************
2021-10-20 15:04:30,055 p=115756 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-20 15:04:35,322 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:04:35,365 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:04:35,371 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:04:35,431 p=115756 u=eduardgevorkyan n=ansible | TASK [Deployment] ************************************************************************************************************************
2021-10-20 15:04:35,778 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : gather os specific variables] ************************************************************
2021-10-20 15:04:36,058 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-20 15:04:36,101 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-20 15:04:36,157 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=/home/eduardgevorkyan/demo-mysql/roles/eradical.ansible_mariadb_galera_cluster/vars/fedora.yml)
2021-10-20 15:04:36,194 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : ensure NIC specified in 'galera_cluster_bind_interface' exists] **************************
2021-10-20 15:04:36,353 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-20 15:04:36,448 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-20 15:04:36,499 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2021-10-20 15:04:36,530 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | update package list] ************************************************************
2021-10-20 15:04:36,657 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:04:36,661 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:04:36,709 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:04:36,733 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | installing pre-reqs] ************************************************************
2021-10-20 15:04:36,811 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:04:36,874 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:04:36,925 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:04:36,949 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding MariaDB Repo Keys] *******************************************************
2021-10-20 15:04:37,020 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:04:37,088 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:04:37,140 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:04:37,173 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding MariaDB Repo Keys] *******************************************************
2021-10-20 15:04:37,244 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:04:37,314 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:04:37,365 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:04:37,399 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | pinning MariaDB Repo] ***********************************************************
2021-10-20 15:04:37,477 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:04:37,570 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:04:37,649 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:04:37,678 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | adding mariadb repo] ************************************************************
2021-10-20 15:04:37,784 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:04:37,896 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:04:37,926 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:04:37,984 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | precreate /etc/mysql/conf.d in case we need to add mariadb_config_overrides file] ***
2021-10-20 15:04:38,103 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:04:38,214 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:04:38,239 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:04:38,281 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | add an overrides file] **********************************************************
2021-10-20 15:04:38,396 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:04:38,397 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:04:38,435 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:04:38,458 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | configuring root my.cnf] ********************************************************
2021-10-20 15:04:38,532 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:04:38,615 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:04:38,645 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:04:38,670 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | mysql root password setting] ****************************************************
2021-10-20 15:04:38,851 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=None) 
2021-10-20 15:04:38,879 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=None) 
2021-10-20 15:04:38,892 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:04:38,964 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=None) 
2021-10-20 15:04:38,970 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=None) 
2021-10-20 15:04:38,971 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:04:39,050 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=None) 
2021-10-20 15:04:39,053 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=None) 
2021-10-20 15:04:39,063 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:04:39,133 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : debian | installing mariadb-galera packages] *********************************************
2021-10-20 15:04:39,256 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:04:39,261 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:04:39,286 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:04:39,318 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | adding mariadb repo] ************************************************************
2021-10-20 15:04:42,162 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:04:42,170 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:04:42,257 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:04:42,379 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | disable appstream mysql/mariadb modules] ****************************************
2021-10-20 15:05:00,125 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:05:00,153 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:05:00,350 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:05:00,417 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | clean dnf metadata (centos8 & fedora)] ******************************************
2021-10-20 15:05:00,546 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:05:00,556 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:05:00,599 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:05:00,644 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | installing pre-reqs] ************************************************************
2021-10-20 15:05:21,468 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:05:21,916 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:05:42,595 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:05:42,657 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | precreate /etc/my.cnf.d in case we need to add mariadb_config_overrides file] ***
2021-10-20 15:05:42,916 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:05:42,949 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:05:43,026 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:05:43,049 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | add an overrides file] **********************************************************
2021-10-20 15:05:43,238 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:05:43,276 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:05:43,338 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:05:43,357 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | installing mariadb mysql] *******************************************************
2021-10-20 15:06:04,502 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:06:04,696 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:06:04,900 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:06:04,978 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | remove migrated-from-my.cnf-settings.conf that is causing MariaDB to not start] ***
2021-10-20 15:06:08,793 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:06:08,821 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:06:08,822 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:06:08,893 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | ensuring mariadb mysql is enabled on boot] **************************************
2021-10-20 15:06:12,651 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:06:12,728 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:06:12,792 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:06:12,852 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : redhat | start only the first node to add users] *****************************************
2021-10-20 15:06:12,990 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:06:13,070 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:06:14,633 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:06:14,653 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : max-open-files | Create folder] **********************************************************
2021-10-20 15:06:14,791 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:06:14,793 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:06:14,823 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:06:14,843 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : max-open-files | Add the overriding file] ************************************************
2021-10-20 15:06:14,971 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:06:14,975 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:06:15,024 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:06:15,052 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : oom_score_adjust | create folder] ********************************************************
2021-10-20 15:06:15,186 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:06:15,188 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:06:15,237 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:06:15,265 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : oom_score_adjust | add the overriding file] **********************************************
2021-10-20 15:06:15,421 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:06:15,425 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:06:15,482 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:06:15,527 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : timeout-start-sec | Create folder] *******************************************************
2021-10-20 15:06:15,651 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:06:15,654 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:06:15,717 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:06:15,755 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : timeout-start-sec | Add the overriding file] *********************************************
2021-10-20 15:06:15,885 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:06:15,894 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:06:15,937 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:06:15,996 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : system_perfromance_tuning | configure swappiness] ****************************************
2021-10-20 15:06:16,076 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:06:16,156 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:06:16,204 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:06:16,237 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : flush handlers before continuing] ********************************************************
2021-10-20 15:06:16,434 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_users | create MySQL users] ********************************************************
2021-10-20 15:06:18,349 p=115756 u=eduardgevorkyan n=ansible | changed: [k3s1 -> k3s1] => (item=None)
2021-10-20 15:06:22,442 p=115756 u=eduardgevorkyan n=ansible | changed: [k3s1 -> k3s1] => (item=None)
2021-10-20 15:06:24,371 p=115756 u=eduardgevorkyan n=ansible | changed: [k3s1 -> k3s1] => (item=None)
2021-10-20 15:06:26,240 p=115756 u=eduardgevorkyan n=ansible | changed: [k3s1 -> k3s1] => (item=None)
2021-10-20 15:06:26,253 p=115756 u=eduardgevorkyan n=ansible | changed: [k3s1 -> {{ galera_mysql_first_node }}]
2021-10-20 15:06:26,377 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | mark galera cluster node unconfigured] ***********************************
2021-10-20 15:06:29,149 p=115756 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 15:06:29,456 p=115756 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-20 15:06:29,491 p=115756 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-20 15:06:29,565 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | checking if galera cluster already configured] ***************************
2021-10-20 15:06:37,034 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:06:37,095 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:06:37,145 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:06:37,390 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | create TLS certificates directory] ***************************************
2021-10-20 15:06:37,962 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:06:37,971 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:06:38,143 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:06:38,297 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | copy TLS CA cert, server cert & private key] *****************************
2021-10-20 15:06:38,625 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:06:38,885 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:06:39,048 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:06:39,272 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | configuring settings for mariadb and galera] *****************************
2021-10-20 15:06:50,321 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=etc/my.cnf.d/server.cnf)
2021-10-20 15:06:50,469 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=etc/my.cnf.d/server.cnf)
2021-10-20 15:06:50,510 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=etc/my.cnf.d/server.cnf)
2021-10-20 15:06:50,801 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | restarting node to apply config changes (first node)] ********************
2021-10-20 15:06:52,240 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:06:52,280 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:06:53,004 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:06:53,582 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | ensure first node is fully started before restarting other nodes] ********
2021-10-20 15:06:54,068 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:06:54,203 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | restarting node to apply config changes (other nodes)] *******************
2021-10-20 15:06:54,636 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:06:55,046 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:06:55,164 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:06:55,274 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | stopping mysql to (re)configure cluster (other nodes)] *******************
2021-10-20 15:06:55,659 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:07:07,967 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:07:19,303 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:07:19,365 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | stopping mysql to (re)configure cluster (first node)] ********************
2021-10-20 15:07:19,550 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:07:19,747 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:07:31,723 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:07:31,824 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for nodes to fully shut down] ***************
2021-10-20 15:07:52,991 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s2 -> localhost]
2021-10-20 15:07:53,009 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost]
2021-10-20 15:07:53,009 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s3 -> localhost]
2021-10-20 15:07:53,231 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | killing lingering mysql processes to ensure mysql is stopped] ************
2021-10-20 15:07:56,874 p=115756 u=eduardgevorkyan n=ansible | fatal: [k3s1]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:00.068475", "end": "2021-10-20 15:07:56.530444", "msg": "non-zero return code", "rc": 1, "start": "2021-10-20 15:07:56.461969", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2021-10-20 15:07:56,878 p=115756 u=eduardgevorkyan n=ansible | ...ignoring
2021-10-20 15:07:56,934 p=115756 u=eduardgevorkyan n=ansible | fatal: [k3s3]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:00.066534", "end": "2021-10-20 15:07:56.689454", "msg": "non-zero return code", "rc": 1, "start": "2021-10-20 15:07:56.622920", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2021-10-20 15:07:56,934 p=115756 u=eduardgevorkyan n=ansible | ...ignoring
2021-10-20 15:07:57,094 p=115756 u=eduardgevorkyan n=ansible | fatal: [k3s2]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:00.081603", "end": "2021-10-20 15:07:56.790859", "msg": "non-zero return code", "rc": 1, "start": "2021-10-20 15:07:56.709256", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2021-10-20 15:07:57,095 p=115756 u=eduardgevorkyan n=ansible | ...ignoring
2021-10-20 15:07:57,155 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | configuring temp galera config for first node] ***************************
2021-10-20 15:07:57,367 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=etc/my.cnf.d/server.cnf) 
2021-10-20 15:07:57,448 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=etc/my.cnf.d/server.cnf) 
2021-10-20 15:08:00,677 p=115756 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=etc/my.cnf.d/server.cnf)
2021-10-20 15:08:00,725 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | bootstrapping galera cluster] ********************************************
2021-10-20 15:08:00,893 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:08:00,978 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:08:04,127 p=115756 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 15:08:04,203 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | ensure first node is fully started before joining other nodes] ***********
2021-10-20 15:08:04,290 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:08:04,369 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for node WSREP prepared state] **************
2021-10-20 15:08:23,505 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost]
2021-10-20 15:08:23,531 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s2 -> localhost]
2021-10-20 15:08:23,532 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s3 -> localhost]
2021-10-20 15:08:23,600 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | joining galera cluster] **************************************************
2021-10-20 15:08:23,729 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:08:37,471 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:08:52,578 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:08:52,671 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for node WSREP prepared state] **************
2021-10-20 15:09:10,564 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s3 -> localhost]
2021-10-20 15:09:10,572 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s2 -> localhost]
2021-10-20 15:09:10,572 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost]
2021-10-20 15:09:10,633 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | configuring final galera config for first node] **************************
2021-10-20 15:09:10,839 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=etc/my.cnf.d/server.cnf) 
2021-10-20 15:09:10,969 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=etc/my.cnf.d/server.cnf) 
2021-10-20 15:09:14,446 p=115756 u=eduardgevorkyan n=ansible | changed: [k3s1] => (item=etc/my.cnf.d/server.cnf)
2021-10-20 15:09:14,488 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | restarting first node with final galera config] **************************
2021-10-20 15:09:14,662 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:09:14,715 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:09:21,280 p=115756 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 15:09:21,340 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | marking node as configured for galera cluster] ***************************
2021-10-20 15:09:24,204 p=115756 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 15:09:24,218 p=115756 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-20 15:09:24,372 p=115756 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-20 15:09:24,413 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | ensure node is fully started (synced with cluster)] **********************
2021-10-20 15:09:27,558 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:09:27,828 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:09:27,852 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:09:27,910 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : setup_cluster | sleep for 15 seconds to wait for node WSREP prepared state] **************
2021-10-20 15:09:28,091 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:09:28,196 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:09:44,616 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost]
2021-10-20 15:09:44,669 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : configure_root_access | configuring root my.cnf] *****************************************
2021-10-20 15:09:53,267 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:09:53,270 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:09:53,271 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:09:53,348 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : configure_root_access | updating root passwords] *****************************************
2021-10-20 15:09:54,851 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=None)
2021-10-20 15:09:56,135 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=None)
2021-10-20 15:09:57,634 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=None)
2021-10-20 15:09:59,062 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=None)
2021-10-20 15:09:59,064 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:09:59,124 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : configure_root_access | updating root passwords (allow from anywhere)] *******************
2021-10-20 15:09:59,217 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=None) 
2021-10-20 15:09:59,220 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:09:59,271 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_databases | create the databases] **************************************************
2021-10-20 15:10:03,670 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'name': 'k3sdemo'})
2021-10-20 15:10:03,702 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'name': 'k3sdemo'})
2021-10-20 15:10:03,778 p=115756 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'name': 'k3sdemo'})
2021-10-20 15:10:03,870 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_databases | copy database init scripts] ********************************************
2021-10-20 15:10:04,059 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 15:10:04,190 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 15:10:04,267 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 15:10:04,313 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_databases | initialise databases] **************************************************
2021-10-20 15:10:04,479 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 15:10:04,587 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 15:10:04,672 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 15:10:04,729 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : mysql_databases | delete init scripts from the server] ***********************************
2021-10-20 15:10:04,914 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 15:10:05,009 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 15:10:05,095 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'changed': False, 'db': 'k3sdemo', 'db_list': ['k3sdemo'], 'executed_commands': [], 'invocation': {'module_args': {'name': ['k3sdemo'], 'state': 'present', 'login_unix_socket': '/var/lib/mysql/mysql.sock', 'login_host': 'localhost', 'login_port': 3306, 'config_file': '/root/.my.cnf', 'connect_timeout': 30, 'encoding': '', 'collation': '', 'single_transaction': False, 'quick': True, 'ignore_tables': [], 'hex_blob': False, 'force': False, 'master_data': 0, 'skip_lock_tables': False, 'use_shell': False, 'unsafe_login_password': False, 'restrict_config_file': False, 'check_implicit_admin': False, 'config_overrides_defaults': False, 'login_user': None, 'login_password': None, 'client_cert': None, 'client_key': None, 'ca_cert': None, 'check_hostname': None, 'target': None, 'dump_extra_args': None}}, 'failed': False, 'item': {'name': 'k3sdemo'}, 'ansible_loop_var': 'item'}) 
2021-10-20 15:10:05,135 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | configuring monitor script for galera] *******************************
2021-10-20 15:10:05,233 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:10:05,316 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:10:05,358 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:10:05,409 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | restarting mysql on first node] **************************************
2021-10-20 15:10:05,543 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:10:05,546 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:10:05,611 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:10:05,669 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | waiting for mysql to start on first node] ****************************
2021-10-20 15:10:05,755 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:10:05,785 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | restarting mysql on additional servers] ******************************
2021-10-20 15:10:05,901 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:10:05,990 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:10:06,048 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:10:06,120 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : galera_monitoring | waiting for mysql to start on other nodes] ***************************
2021-10-20 15:10:06,217 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:10:06,308 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:10:06,371 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:10:06,420 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : cacti_monitoring | adding cacti db user for monitoring] **********************************
2021-10-20 15:10:06,489 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:10:06,521 p=115756 u=eduardgevorkyan n=ansible | TASK [eradical.ansible_mariadb_galera_cluster : cacti_monitoring | adding cacti db user for monitoring] **********************************
2021-10-20 15:10:06,598 p=115756 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:10:06,712 p=115756 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-20 15:10:06,713 p=115756 u=eduardgevorkyan n=ansible | k3s1                       : ok=29   changed=8    unreachable=0    failed=0    skipped=40   rescued=0    ignored=1   
2021-10-20 15:10:06,714 p=115756 u=eduardgevorkyan n=ansible | k3s2                       : ok=22   changed=3    unreachable=0    failed=0    skipped=39   rescued=0    ignored=1   
2021-10-20 15:10:06,719 p=115756 u=eduardgevorkyan n=ansible | k3s3                       : ok=22   changed=3    unreachable=0    failed=0    skipped=39   rescued=0    ignored=1   
2021-10-20 15:11:13,539 p=117077 u=eduardgevorkyan n=ansible | PLAY [Build a cluster with HA control plane] *********************************************************************************************
2021-10-20 15:11:13,643 p=117077 u=eduardgevorkyan n=ansible | TASK [Gathering Facts] *******************************************************************************************************************
2021-10-20 15:11:19,784 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:11:19,813 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:11:19,815 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:11:19,877 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check that k3s_state is a supported value] ************************************************************************
2021-10-20 15:11:20,049 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "k3s_state is valid."
}
2021-10-20 15:11:20,116 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "k3s_state is valid."
}
2021-10-20 15:11:20,181 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "k3s_state is valid."
}
2021-10-20 15:11:20,229 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check that Ansible v2.11.6 is supported by this role] *************************************************************
2021-10-20 15:11:20,307 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1 -> localhost] => {
    "changed": false,
    "msg": "Ansible v2.11.6 is supported."
}
2021-10-20 15:11:20,329 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 15:11:20,775 p=117077 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/validate/environment/remote/cgroups.yml for k3s1, k3s2, k3s3 => (item={'name': 'memory', 'documentation': 'If you are running on a Raspberry Pi, see:\nhttps://rancher.com/docs/k3s/latest/en/advanced/#enabling-cgroups-for-raspbian-buster\n'})
2021-10-20 15:11:20,780 p=117077 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/validate/environment/remote/cgroups.yml for k3s1, k3s2, k3s3 => (item={'name': 'cpuset', 'documentation': 'If you are running Alpine Linux, see:\nhttps://rancher.com/docs/k3s/latest/en/advanced/#additional-preparation-for-alpine-linux-setup\n'})
2021-10-20 15:11:20,858 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if memory cgroup is enabled] ********************************************************************************
2021-10-20 15:11:23,652 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:11:23,753 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:11:23,832 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:11:23,895 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Fail if memory cgroup is not enabled] *****************************************************************************
2021-10-20 15:11:24,051 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "memory cgroup enabled."
}
2021-10-20 15:11:24,078 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "memory cgroup enabled."
}
2021-10-20 15:11:24,155 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "memory cgroup enabled."
}
2021-10-20 15:11:24,203 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if cpuset cgroup is enabled] ********************************************************************************
2021-10-20 15:11:26,585 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:11:26,636 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:11:26,843 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:11:26,946 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Fail if cpuset cgroup is not enabled] *****************************************************************************
2021-10-20 15:11:27,161 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "cpuset cgroup enabled."
}
2021-10-20 15:11:27,198 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "cpuset cgroup enabled."
}
2021-10-20 15:11:27,280 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "cpuset cgroup enabled."
}
2021-10-20 15:11:27,359 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 15:11:27,667 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 15:11:27,841 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:11:27,855 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:11:28,012 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:11:28,053 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 15:11:29,078 p=117077 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/state-installed.yml for k3s1, k3s2, k3s3
2021-10-20 15:11:29,194 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s_build_cluster is false if running against a single node.] **********************************************
2021-10-20 15:11:29,312 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:11:29,405 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:11:29,460 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:11:29,491 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s control node fact is set] ******************************************************************************
2021-10-20 15:11:29,688 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:11:29,692 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:11:29,768 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:11:29,800 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s primary control node fact is set] **********************************************************************
2021-10-20 15:11:29,987 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:11:30,011 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:11:30,124 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:11:30,179 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s control plane port is captured] ************************************************************************
2021-10-20 15:11:30,354 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1 -> k3s_primary_control_node]
2021-10-20 15:11:30,412 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2 -> k3s_primary_control_node]
2021-10-20 15:11:30,495 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3 -> k3s_primary_control_node]
2021-10-20 15:11:30,528 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s node IP is configured when node-ip is defined] *********************************************************
2021-10-20 15:11:30,689 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:11:30,740 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:11:30,818 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:11:30,878 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure a count of control nodes is generated from ansible_play_hosts] *********************************************
2021-10-20 15:11:31,267 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=k3s1)
2021-10-20 15:11:31,472 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=k3s1)
2021-10-20 15:11:31,587 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=k3s2)
2021-10-20 15:11:31,610 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=k3s1)
2021-10-20 15:11:31,731 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=k3s2)
2021-10-20 15:11:31,800 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=k3s3)
2021-10-20 15:11:31,857 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=k3s2)
2021-10-20 15:11:31,988 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=k3s3)
2021-10-20 15:11:32,024 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=k3s3)
2021-10-20 15:11:32,127 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Set the control host] *********************************************************************************************
2021-10-20 15:11:32,282 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:11:32,289 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:11:32,312 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:11:32,364 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure a count of control nodes is generated] *********************************************************************
2021-10-20 15:11:32,513 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s1) 
2021-10-20 15:11:32,552 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s2) 
2021-10-20 15:11:32,595 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s3) 
2021-10-20 15:11:32,647 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=k3s1) 
2021-10-20 15:11:32,689 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=k3s2) 
2021-10-20 15:11:32,725 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item=k3s3) 
2021-10-20 15:11:32,784 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=k3s1) 
2021-10-20 15:11:32,802 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=k3s2) 
2021-10-20 15:11:32,851 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item=k3s3) 
2021-10-20 15:11:32,915 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure a primary k3s control node is defined if multiple are found in ansible_play_hosts] *************************
2021-10-20 15:11:33,132 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:11:33,136 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:11:33,203 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:11:33,245 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure ansible_host is mapped to inventory_hostname] **************************************************************
2021-10-20 15:11:37,476 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:11:37,578 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:11:37,579 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:11:37,731 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Lookup control node from file] ************************************************************************************
2021-10-20 15:11:43,471 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:11:43,603 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:11:43,618 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:11:43,703 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure control node is delegated for obtaining a cluster token] ***************************************************
2021-10-20 15:11:43,871 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:11:43,965 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:11:44,031 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:11:44,073 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure the node registration address is defined from k3s_control_node_address] ************************************
2021-10-20 15:11:44,233 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:11:44,244 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:11:44,334 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:11:44,364 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure the node registration address is defined from node-ip] *****************************************************
2021-10-20 15:11:44,547 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:11:44,589 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:11:44,707 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:11:44,731 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure the node registration address is defined] ******************************************************************
2021-10-20 15:11:44,888 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:11:44,894 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:11:44,969 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:11:45,012 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s_runtime_config is set for agents] **********************************************************************
2021-10-20 15:11:45,152 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:11:45,169 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:11:45,250 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:11:45,292 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if kubectl exists] ******************************************************************************************
2021-10-20 15:11:49,247 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:11:49,266 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:11:49,272 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:11:49,360 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Gather a list of nodes] *******************************************************************************************
2021-10-20 15:11:52,782 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1 -> k3s1]
2021-10-20 15:11:52,869 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure uninstalled nodes are drained] *****************************************************************************
2021-10-20 15:11:53,006 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s1) 
2021-10-20 15:11:53,104 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s2) 
2021-10-20 15:11:53,179 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s3) 
2021-10-20 15:11:53,334 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure uninstalled nodes are removed] *****************************************************************************
2021-10-20 15:11:53,480 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s1) 
2021-10-20 15:11:53,583 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s2) 
2021-10-20 15:11:53,666 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item=k3s3) 
2021-10-20 15:11:53,746 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s_release_version is set to default if false] ************************************************************
2021-10-20 15:11:53,886 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:11:53,892 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:11:53,967 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:11:54,005 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure the default release channel is set] ************************************************************************
2021-10-20 15:11:54,093 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:11:54,178 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:11:54,240 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:11:54,282 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Get the latest release version from k3s.io] ***********************************************************************
2021-10-20 15:11:54,423 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:11:54,427 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:11:54,484 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:11:54,537 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure the release version is set as a fact] **********************************************************************
2021-10-20 15:11:54,649 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:11:54,745 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:11:54,819 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:11:54,859 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check that k3s_release_version >= 1.19.3] *************************************************************************
2021-10-20 15:11:55,036 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "v1.22.2+k3s2 is supported by this role."
}
2021-10-20 15:11:55,098 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "v1.22.2+k3s2 is supported by this role."
}
2021-10-20 15:11:55,190 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "v1.22.2+k3s2 is supported by this role."
}
2021-10-20 15:11:55,216 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check configuration in k3s_server and k3s_agent that needs alternate configuration] *******************************
2021-10-20 15:11:55,439 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'server', 'correction': 'k3s_registration_address'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_registration_address",
        "setting": "server"
    },
    "msg": "server not found in server/agent config"
}
2021-10-20 15:11:55,571 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'server', 'correction': 'k3s_registration_address'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_registration_address",
        "setting": "server"
    },
    "msg": "server not found in server/agent config"
}
2021-10-20 15:11:55,576 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'cluster-init', 'correction': 'k3s_etcd_datastore'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_etcd_datastore",
        "setting": "cluster-init"
    },
    "msg": "cluster-init not found in server/agent config"
}
2021-10-20 15:11:55,712 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'cluster-init', 'correction': 'k3s_etcd_datastore'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_etcd_datastore",
        "setting": "cluster-init"
    },
    "msg": "cluster-init not found in server/agent config"
}
2021-10-20 15:11:55,718 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'server', 'correction': 'k3s_registration_address'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_registration_address",
        "setting": "server"
    },
    "msg": "server not found in server/agent config"
}
2021-10-20 15:11:55,775 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'token', 'correction': 'k3s_control_token'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_control_token",
        "setting": "token"
    },
    "msg": "token not found in server/agent config"
}
2021-10-20 15:11:55,902 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'cluster-init', 'correction': 'k3s_etcd_datastore'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_etcd_datastore",
        "setting": "cluster-init"
    },
    "msg": "cluster-init not found in server/agent config"
}
2021-10-20 15:11:55,915 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'token', 'correction': 'k3s_control_token'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_control_token",
        "setting": "token"
    },
    "msg": "token not found in server/agent config"
}
2021-10-20 15:11:55,945 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'token-file', 'correction': 'k3s_token_location'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_token_location",
        "setting": "token-file"
    },
    "msg": "token-file not found in server/agent config"
}
2021-10-20 15:11:56,045 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'token-file', 'correction': 'k3s_token_location'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_token_location",
        "setting": "token-file"
    },
    "msg": "token-file not found in server/agent config"
}
2021-10-20 15:11:56,066 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'token', 'correction': 'k3s_control_token'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_control_token",
        "setting": "token"
    },
    "msg": "token not found in server/agent config"
}
2021-10-20 15:11:56,146 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'token-file', 'correction': 'k3s_token_location'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "k3s_token_location",
        "setting": "token-file"
    },
    "msg": "token-file not found in server/agent config"
}
2021-10-20 15:11:56,193 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check configuration in k3s_server and k3s_agent for deprecated configuration] *************************************
2021-10-20 15:11:56,446 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'no-flannel', 'correction': "flannel-backend: 'none'"}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "flannel-backend: 'none'",
        "setting": "no-flannel"
    },
    "msg": "no-flannel not found in server/agent config"
}
2021-10-20 15:11:56,604 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'no-flannel', 'correction': "flannel-backend: 'none'"}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "flannel-backend: 'none'",
        "setting": "no-flannel"
    },
    "msg": "no-flannel not found in server/agent config"
}
2021-10-20 15:11:56,674 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'cluster-secret', 'correction': 'token'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "token",
        "setting": "cluster-secret"
    },
    "msg": "cluster-secret not found in server/agent config"
}
2021-10-20 15:11:56,733 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'no-flannel', 'correction': "flannel-backend: 'none'"}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "flannel-backend: 'none'",
        "setting": "no-flannel"
    },
    "msg": "no-flannel not found in server/agent config"
}
2021-10-20 15:11:56,835 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'cluster-secret', 'correction': 'token'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "token",
        "setting": "cluster-secret"
    },
    "msg": "cluster-secret not found in server/agent config"
}
2021-10-20 15:11:56,943 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'no-deploy', 'correction': 'disable: VALUE'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "disable: VALUE",
        "setting": "no-deploy"
    },
    "msg": "no-deploy not found in server/agent config"
}
2021-10-20 15:11:56,981 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'cluster-secret', 'correction': 'token'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "token",
        "setting": "cluster-secret"
    },
    "msg": "cluster-secret not found in server/agent config"
}
2021-10-20 15:11:57,136 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'no-deploy', 'correction': 'disable: VALUE'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "disable: VALUE",
        "setting": "no-deploy"
    },
    "msg": "no-deploy not found in server/agent config"
}
2021-10-20 15:11:57,211 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item={'setting': 'docker', 'correction': 'docker: false', 'when': '1.20.0'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "docker: false",
        "setting": "docker",
        "when": "1.20.0"
    },
    "msg": "docker not found in server/agent config"
}
2021-10-20 15:11:57,272 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'no-deploy', 'correction': 'disable: VALUE'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "disable: VALUE",
        "setting": "no-deploy"
    },
    "msg": "no-deploy not found in server/agent config"
}
2021-10-20 15:11:57,371 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item={'setting': 'docker', 'correction': 'docker: false', 'when': '1.20.0'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "docker: false",
        "setting": "docker",
        "when": "1.20.0"
    },
    "msg": "docker not found in server/agent config"
}
2021-10-20 15:11:57,451 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item={'setting': 'docker', 'correction': 'docker: false', 'when': '1.20.0'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "correction": "docker: false",
        "setting": "docker",
        "when": "1.20.0"
    },
    "msg": "docker not found in server/agent config"
}
2021-10-20 15:11:57,496 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check configuration in k3s_server and k3s_agent against release version] ******************************************
2021-10-20 15:11:57,641 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'etcd-s3-bucket', 'version': '1.20.6'}) 
2021-10-20 15:11:57,757 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'etcd-s3-bucket', 'version': '1.20.6'}) 
2021-10-20 15:11:57,831 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'etcd-s3-bucket', 'version': '1.20.6'}) 
2021-10-20 15:11:57,875 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if embedded etcd datastore is enabled and marked as experimental] *******************************************
2021-10-20 15:11:58,047 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:11:58,049 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:11:58,121 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:11:58,164 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if any experimental variables are configure and if they are enabled with k3s_use_experimental] **************
2021-10-20 15:11:58,331 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'selinux', 'until': '1.19.4'}) 
2021-10-20 15:11:58,436 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'rootless'}) 
2021-10-20 15:11:58,474 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'selinux', 'until': '1.19.4'}) 
2021-10-20 15:11:58,543 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'secrets-encryption'}) 
2021-10-20 15:11:58,588 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'rootless'}) 
2021-10-20 15:11:58,675 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'selinux', 'until': '1.19.4'}) 
2021-10-20 15:11:58,698 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'agent-token'}) 
2021-10-20 15:11:58,738 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'secrets-encryption'}) 
2021-10-20 15:11:58,815 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'rootless'}) 
2021-10-20 15:11:58,862 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'agent-token-file'}) 
2021-10-20 15:11:58,914 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'agent-token'}) 
2021-10-20 15:11:58,965 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'secrets-encryption'}) 
2021-10-20 15:11:59,017 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1] => (item={'setting': 'cluster-reset', 'until': '1.19.5'}) 
2021-10-20 15:11:59,052 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'agent-token-file'}) 
2021-10-20 15:11:59,090 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'agent-token'}) 
2021-10-20 15:11:59,160 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2] => (item={'setting': 'cluster-reset', 'until': '1.19.5'}) 
2021-10-20 15:11:59,199 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'agent-token-file'}) 
2021-10-20 15:11:59,256 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3] => (item={'setting': 'cluster-reset', 'until': '1.19.5'}) 
2021-10-20 15:11:59,313 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if newuidmap is available] **********************************************************************************
2021-10-20 15:11:59,466 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:11:59,487 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:11:59,602 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:11:59,642 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check if /proc/sys/kernel/unprivileged_userns_clone exists] *******************************************************
2021-10-20 15:11:59,810 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:11:59,823 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:11:59,927 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:11:59,968 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Get the value of /proc/sys/kernel/unprivileged_userns_clone] ******************************************************
2021-10-20 15:12:00,176 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:12:00,243 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:12:00,315 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:12:00,381 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Set the value of k3s_get_unprivileged_userns_clone] ***************************************************************
2021-10-20 15:12:00,553 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:12:00,565 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:12:00,657 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:12:00,693 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Get the value of /proc/sys/user/max_user_namespaces] **************************************************************
2021-10-20 15:12:00,879 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:12:00,897 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:12:01,019 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:12:01,057 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Get the contents of /etc/subuid] **********************************************************************************
2021-10-20 15:12:01,229 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:12:01,250 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:12:01,334 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:12:01,373 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Get the contents of /etc/subgid] **********************************************************************************
2021-10-20 15:12:01,526 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:12:01,546 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:12:01,647 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:12:01,672 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Get current user subuid and subgid values] ************************************************************************
2021-10-20 15:12:01,824 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:12:01,837 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:12:01,923 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:12:01,982 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check user namespaces kernel parameters are adequate] *************************************************************
2021-10-20 15:12:02,159 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:12:02,183 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:12:02,252 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:12:02,294 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check the conditions when a single controller is defined] *********************************************************
2021-10-20 15:12:02,682 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:12:02,708 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:12:02,774 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:12:02,817 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check the conditions when multiple controllers are defined] *******************************************************
2021-10-20 15:12:03,055 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1] => {
    "changed": false,
    "msg": "Control plane configuration is valid."
}
2021-10-20 15:12:03,150 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2] => {
    "changed": false,
    "msg": "Control plane configuration is valid."
}
2021-10-20 15:12:03,227 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3] => {
    "changed": false,
    "msg": "Control plane configuration is valid."
}
2021-10-20 15:12:03,270 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check the conditions when embedded etcd is defined] ***************************************************************
2021-10-20 15:12:03,432 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:12:03,491 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:12:03,536 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:12:03,560 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure systemd context is correct if we are running k3s rootless] *************************************************
2021-10-20 15:12:03,712 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:12:03,768 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:12:03,821 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:12:03,865 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 15:12:04,021 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:12:04,036 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:12:04,113 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:12:04,173 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure docker is installed] ***************************************************************************************
2021-10-20 15:12:04,336 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:12:04,385 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:12:04,446 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:12:04,487 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 15:12:04,711 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:12:04,716 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:12:04,802 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:12:04,852 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Flush Handlers] ***************************************************************************************************
2021-10-20 15:12:04,898 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure target host architecture information is set as a fact] *****************************************************
2021-10-20 15:12:05,135 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:12:05,137 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:12:05,203 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:12:05,246 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure URLs are set as facts for downloading binaries] ************************************************************
2021-10-20 15:12:05,431 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:12:05,449 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:12:05,534 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:12:05,583 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Override k3s_binary_url and k3s_hash_url facts for testing specific commit] ***************************************
2021-10-20 15:12:05,695 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:12:05,875 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:12:05,978 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:12:06,058 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure the k3s hashsum is downloaded] *****************************************************************************
2021-10-20 15:12:14,813 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:12:14,880 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:12:14,933 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:12:15,062 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure sha256sum is set from hashsum variable] ********************************************************************
2021-10-20 15:12:15,278 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:12:15,340 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:12:15,412 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:12:15,483 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure installation directory exists] *****************************************************************************
2021-10-20 15:12:19,942 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:12:19,987 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:12:19,989 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:12:20,038 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s binary is downloaded] **********************************************************************************
2021-10-20 15:12:25,583 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:12:25,756 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:12:25,836 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:12:25,902 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure that the manifests directory exists] ***********************************************************************
2021-10-20 15:12:26,069 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:12:26,084 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:12:26,166 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:12:26,215 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure auto-deploying manifests are copied to the primary controller] *********************************************
2021-10-20 15:12:26,379 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure that the manifests directory exists] ***********************************************************************
2021-10-20 15:12:26,541 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:12:26,547 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:12:26,608 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:12:26,669 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure auto-deploying manifests are downloaded to the primary controller] *****************************************
2021-10-20 15:12:26,917 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure that the pod-manifests directory exists] *******************************************************************
2021-10-20 15:12:27,104 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:12:27,112 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:12:27,182 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:12:27,221 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure static pod manifests are copied to controllers] ************************************************************
2021-10-20 15:12:27,374 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure that the pod-manifests directory exists] *******************************************************************
2021-10-20 15:12:27,522 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:12:27,531 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:12:27,612 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:12:27,638 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure auto-deploying manifests are downloaded to the primary controller] *****************************************
2021-10-20 15:12:27,813 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure that the config.yaml.d directory exists] *******************************************************************
2021-10-20 15:12:27,964 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:12:27,981 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:12:28,061 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:12:28,101 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure configuration files are copied to controllers] *************************************************************
2021-10-20 15:12:28,271 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure that the config.yaml.d directory exists] *******************************************************************
2021-10-20 15:12:28,438 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:12:28,441 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:12:28,492 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:12:28,532 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure configuration files are copied to agents] ******************************************************************
2021-10-20 15:12:28,691 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 15:12:29,178 p=117077 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-directories.yml for k3s1, k3s2, k3s3 => (item={'name': 'Config directory', 'path': '/etc/rancher/k3s'})
2021-10-20 15:12:29,181 p=117077 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-directories.yml for k3s1, k3s2, k3s3 => (item={'name': 'Config.yaml.d directory', 'path': '/etc/rancher/k3s/config.yaml.d'})
2021-10-20 15:12:29,184 p=117077 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-directories.yml for k3s1, k3s2, k3s3 => (item={'name': 'Systemd unit file directory', 'path': '/etc/systemd/system'})
2021-10-20 15:12:29,197 p=117077 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-directories.yml for k3s1, k3s2, k3s3 => (item={'name': 'Data directory', 'path': '/var/lib/rancher/k3s'})
2021-10-20 15:12:29,212 p=117077 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-directories.yml for k3s1, k3s2, k3s3 => (item={'name': 'Default local storage path', 'path': '__omit_place_holder__48335daee3bce43dd3c6720585a34284b331adc3'})
2021-10-20 15:12:29,224 p=117077 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-directories.yml for k3s1, k3s2, k3s3 => (item={'name': 'Private registry config file', 'path': ''})
2021-10-20 15:12:29,291 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure Config directory exists] ***********************************************************************************
2021-10-20 15:12:31,878 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:12:31,956 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:12:32,141 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:12:32,168 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure Config.yaml.d directory exists] ****************************************************************************
2021-10-20 15:12:34,811 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:12:34,918 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:12:35,104 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:12:35,151 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure Systemd unit file directory exists] ************************************************************************
2021-10-20 15:12:38,990 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:12:38,998 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:12:38,999 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:12:39,157 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure Data directory exists] *************************************************************************************
2021-10-20 15:12:46,170 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:12:46,177 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:12:46,186 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:12:46,312 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure Default local storage path exists] *************************************************************************
2021-10-20 15:12:46,570 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:12:46,597 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:12:46,710 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:12:46,774 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure Private registry config file exists] ***********************************************************************
2021-10-20 15:12:46,956 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:12:46,997 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:12:47,102 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:12:47,157 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 15:12:47,306 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:12:47,336 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:12:47,425 p=117077 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-node.yml for k3s1
2021-10-20 15:12:47,519 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s is linked into the installation destination] ***********************************************************
2021-10-20 15:12:49,136 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=k3s)
2021-10-20 15:12:50,378 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=kubectl)
2021-10-20 15:12:51,611 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=crictl)
2021-10-20 15:12:53,038 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=ctr)
2021-10-20 15:12:53,123 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s config file exists] ************************************************************************************
2021-10-20 15:12:56,519 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:12:56,576 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s service unit file is present] **************************************************************************
2021-10-20 15:12:59,081 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:12:59,108 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s killall script is present] *****************************************************************************
2021-10-20 15:13:01,513 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:13:01,550 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s uninstall script is present] ***************************************************************************
2021-10-20 15:13:03,933 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:13:03,982 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Flush Handlers] ***************************************************************************************************
2021-10-20 15:13:04,012 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 15:13:04,206 p=117077 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/install-k3s-node.yml for k3s1, k3s2, k3s3
2021-10-20 15:13:04,296 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s is linked into the installation destination] ***********************************************************
2021-10-20 15:13:07,214 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=k3s)
2021-10-20 15:13:07,234 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=k3s)
2021-10-20 15:13:07,344 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=k3s)
2021-10-20 15:13:12,364 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=kubectl)
2021-10-20 15:13:12,538 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=kubectl)
2021-10-20 15:13:12,825 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=kubectl)
2021-10-20 15:13:17,709 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=crictl)
2021-10-20 15:13:17,742 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=crictl)
2021-10-20 15:13:17,862 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=crictl)
2021-10-20 15:13:20,392 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1] => (item=ctr)
2021-10-20 15:13:20,569 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2] => (item=ctr)
2021-10-20 15:13:20,609 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3] => (item=ctr)
2021-10-20 15:13:20,714 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s config file exists] ************************************************************************************
2021-10-20 15:13:25,294 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:13:25,429 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:13:25,677 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:13:25,721 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s service unit file is present] **************************************************************************
2021-10-20 15:13:30,169 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:13:30,380 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:13:30,418 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:13:30,467 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s killall script is present] *****************************************************************************
2021-10-20 15:13:34,975 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:13:35,136 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:13:35,254 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:13:35,291 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s uninstall script is present] ***************************************************************************
2021-10-20 15:13:39,757 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:13:40,144 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:13:40,485 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:13:40,594 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s initial control plane server is started] ***************************************************************
2021-10-20 15:13:41,801 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:13:42,446 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:13:46,836 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:13:46,903 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 15:13:47,273 p=117077 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/build/containerd/registries.yml for k3s1, k3s2, k3s3
2021-10-20 15:13:47,316 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure containerd registries file exists] *************************************************************************
2021-10-20 15:13:52,602 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:13:52,912 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:13:52,921 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:13:52,966 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : include_tasks] ****************************************************************************************************
2021-10-20 15:13:53,195 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:13:53,269 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:13:53,321 p=117077 u=eduardgevorkyan n=ansible | included: /home/eduardgevorkyan/demo-mysql/roles/xanmanning.k3s/tasks/validate/configuration/cluster-init.yml for k3s1
2021-10-20 15:13:53,376 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check that the initial control plane server is available to accept connections] ***********************************
2021-10-20 15:14:00,329 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:14:00,388 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check that cluster-token exists] **********************************************************************************
2021-10-20 15:14:01,897 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:14:02,018 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure cluster token is captured from k3s1] ***********************************************************************
2021-10-20 15:14:05,695 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3 -> k3s1]
2021-10-20 15:14:05,811 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2 -> k3s1]
2021-10-20 15:14:05,994 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1 -> k3s1]
2021-10-20 15:14:06,087 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure cluster token is formatted correctly for use in templates] *************************************************
2021-10-20 15:14:06,289 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:14:06,386 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:14:06,456 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:14:06,483 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure dummy cluster token is defined for ansible_check_mode] *****************************************************
2021-10-20 15:14:06,695 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:14:06,715 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s2]
2021-10-20 15:14:06,827 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s3]
2021-10-20 15:14:06,870 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure the cluster token file location exists] ********************************************************************
2021-10-20 15:14:12,154 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:14:12,157 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:14:12,158 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:14:12,544 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s cluster token file is present] *************************************************************************
2021-10-20 15:14:21,308 p=117077 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 15:14:21,440 p=117077 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-20 15:14:21,460 p=117077 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-20 15:14:21,535 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s service unit file is present] **************************************************************************
2021-10-20 15:14:26,089 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:14:26,365 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:14:26,431 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:14:26,477 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure k3s config file exists] ************************************************************************************
2021-10-20 15:14:30,795 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:14:31,067 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:14:31,100 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:14:31,157 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Ensure secondary controllers are started] *************************************************************************
2021-10-20 15:14:31,367 p=117077 u=eduardgevorkyan n=ansible | skipping: [k3s1]
2021-10-20 15:15:51,252 p=117077 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-20 15:15:52,416 p=117077 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-20 15:15:52,788 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check that the control plane is available to accept connections] **************************************************
2021-10-20 15:16:23,454 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:16:23,965 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:16:24,393 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:16:24,713 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Flush Handlers] ***************************************************************************************************
2021-10-20 15:16:24,752 p=117077 u=eduardgevorkyan n=ansible | [WARNING]: flush_handlers task does not support when conditional

2021-10-20 15:16:24,759 p=117077 u=eduardgevorkyan n=ansible | RUNNING HANDLER [xanmanning.k3s : restart k3s] *******************************************************************************************
2021-10-20 15:17:28,560 p=117077 u=eduardgevorkyan n=ansible | changed: [k3s2]
2021-10-20 15:17:28,906 p=117077 u=eduardgevorkyan n=ansible | changed: [k3s3]
2021-10-20 15:17:38,033 p=117077 u=eduardgevorkyan n=ansible | changed: [k3s1]
2021-10-20 15:17:38,382 p=117077 u=eduardgevorkyan n=ansible | TASK [xanmanning.k3s : Check that all nodes to be ready] *********************************************************************************
2021-10-20 15:18:18,093 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s3]
2021-10-20 15:18:18,204 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s2]
2021-10-20 15:18:29,780 p=117077 u=eduardgevorkyan n=ansible | ok: [k3s1]
2021-10-20 15:18:30,356 p=117077 u=eduardgevorkyan n=ansible | PLAY RECAP *******************************************************************************************************************************
2021-10-20 15:18:30,359 p=117077 u=eduardgevorkyan n=ansible | k3s1                       : ok=66   changed=2    unreachable=0    failed=0    skipped=52   rescued=0    ignored=0   
2021-10-20 15:18:30,361 p=117077 u=eduardgevorkyan n=ansible | k3s2                       : ok=54   changed=3    unreachable=0    failed=0    skipped=53   rescued=0    ignored=0   
2021-10-20 15:18:30,364 p=117077 u=eduardgevorkyan n=ansible | k3s3                       : ok=54   changed=3    unreachable=0    failed=0    skipped=53   rescued=0    ignored=0   
